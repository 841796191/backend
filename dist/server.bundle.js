/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/api/AdminController.js":
/*!************************************!*\
  !*** ./src/api/AdminController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Menus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Menus */ \"./src/model/Menus.js\");\n/* harmony import */ var _model_Roles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Roles */ \"./src/model/Roles.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\n\nconst weekday = __webpack_require__(/*! dayjs/plugin/weekday */ \"dayjs/plugin/weekday\");\n\ndayjs__WEBPACK_IMPORTED_MODULE_7___default.a.extend(weekday);\n\nclass AdminController {\n  // 获取菜单\n  async getMenu(ctx) {\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({});\n    ctx.body = {\n      code: 200,\n      data: Object(_common_Utils__WEBPACK_IMPORTED_MODULE_8__[\"sortMenus\"])(result)\n    };\n  } // 新增菜单\n\n\n  async addMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const menu = new _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const result = await menu.save();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 更新菜单\n\n\n  async updateMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const data = { ...body\n    };\n    delete data._id;\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body._id\n    }, { ...data\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 删除菜单\n\n\n  async deleteMenu(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n      _id: body._id\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 添加角色\n\n\n  async addRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const role = new _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"](body);\n    const result = await role.save();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 获取角色\n\n\n  async getRoles(ctx) {\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({});\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 更新角色\n\n\n  async updateRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const data = { ...body\n    };\n    delete data._id;\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body._id\n    }, { ...data\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 删除角色\n\n\n  async deleteRole(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteOne({\n      _id: body._id\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 获取角色名称\n\n\n  async getRoleNames(ctx) {\n    const result = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({}, {\n      menu: 0,\n      desc: 0\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 获取所有评论\n\n\n  async getCommentsAll(ctx) {\n    const params = qs__WEBPACK_IMPORTED_MODULE_6___default.a.parse(ctx.query);\n    let options = {};\n\n    if (params.options) {\n      options = params.options;\n    }\n\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 20; // 使用MongoDB中的视图，效率提升1倍\n    // const test = await CommentsUsers.find({ 'uid.name': { $regex: 'admin1', $options: 'i' } })\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentsOptions(options, page, limit);\n    let total = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentsOptionsCount(options);\n\n    if (typeof total === 'object') {\n      if (total.length > 0) {\n        total = total[0].count;\n      } else {\n        total = 0;\n      }\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      total\n    };\n  } // 更新评论\n\n\n  async updateCommentsBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].updateMany({\n      _id: {\n        $in: body.ids\n      }\n    }, {\n      $set: { ...body.settings\n      }\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 删除评论\n\n\n  async deleteCommentsBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    };\n  } // 获取动态菜单信息\n\n\n  async getRoutes(ctx) {\n    // ctx._id 是通过Auth中间件鉴权挂载到ctx上\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: ctx._id\n    }, {\n      roles: 1\n    }); // 拿到用户角色信息\n\n    const {\n      roles\n    } = user; // 通过角色获取角色可以访问的菜单数据\n\n    let menus = [];\n\n    for (let i = 0; i < roles.length; i++) {\n      const role = roles[i]; // 拿到角色菜单\n\n      const rights = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        role\n      }, {\n        menu: 1\n      });\n      menus = menus.concat(rights.menu);\n    } // 去重\n\n\n    menus = Array.from(new Set(menus)); // menus 可以访问的菜单数据\n\n    const treeData = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({}); // 递归查询 type = 'menu' && _id 包含在menus中\n\n    const routes = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_8__[\"getMenuData\"])(treeData, menus, ctx.isAdmin);\n    ctx.body = {\n      code: 200,\n      data: menus\n    };\n  } // 获取接口操作权限\n\n\n  async getOperations(ctx) {\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: ctx._id\n    }, {\n      roles: 1\n    });\n    const {\n      roles\n    } = user;\n    let menus = [];\n\n    for (let i = 0; i < roles.length; i++) {\n      const role = roles[i];\n      const rights = await _model_Roles__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        role\n      }, {\n        menu: 1\n      });\n      menus = menus.concat(rights.menu);\n    }\n\n    menus = Array.from(new Set(menus));\n    const treeData = await _model_Menus__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({});\n    const operations = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_8__[\"getRights\"])(treeData, menus);\n    return operations;\n  } // 获取首页状态\n\n\n  async getStats(ctx) {\n    let result = {}; // 当天0点\n\n    const nowZreo = new Date().setHours(0, 0, 0, 0); // 1.顶部的card.\n\n    const inforCardData = [];\n    const time = dayjs__WEBPACK_IMPORTED_MODULE_7___default()().format('YYYY-MM-DD 00:00:00'); // 本日新增用户数\n\n    const userNewCount = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({\n      created: {\n        $gte: time\n      }\n    }).countDocuments(); // 累计发帖\n\n    const postsCount = await _model_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({}).countDocuments(); // 本日评论\n\n    const commentsNewCount = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      created: {\n        $gte: time\n      }\n    }).countDocuments();\n    const starttime = dayjs__WEBPACK_IMPORTED_MODULE_7___default()(nowZreo).weekday(1); // 当前这周的第一天\n\n    const endtime = dayjs__WEBPACK_IMPORTED_MODULE_7___default()(nowZreo).weekday(8); // 当前这周的最后一天\n    // 本周采纳\n\n    const weekEndCount = await _model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      },\n      isBest: '1'\n    }).countDocuments(); // 本周签到\n\n    const signWeekCount = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_5__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      }\n    }).countDocuments(); // 本周发帖\n\n    const postWeekCount = await _model_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({\n      created: {\n        $gte: starttime,\n        $lte: endtime\n      }\n    }).countDocuments();\n    inforCardData.push(userNewCount);\n    inforCardData.push(postsCount);\n    inforCardData.push(commentsNewCount);\n    inforCardData.push(weekEndCount);\n    inforCardData.push(signWeekCount);\n    inforCardData.push(postWeekCount); // 2.左侧的饼图数据\n    // 聚合查询\n\n    const postsCatalogCount = await _model_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].aggregate([// _id:$catalog -> 以$catalog的属性值分类    $sum: 1 -> 求和\n    {\n      $group: {\n        _id: '$catalog',\n        count: {\n          $sum: 1\n        }\n      }\n    }]);\n    const pieData = {};\n    postsCatalogCount.forEach(item => {\n      pieData[item._id] = item.count;\n    }); // 3.本周的右侧统计数据(6个月发帖)\n    // 3.1 计算6个月前的时间\n    // 3.2 查询数据库对应时间内的数据\n    // 3.3 聚合查询\n\n    const startMonth = dayjs__WEBPACK_IMPORTED_MODULE_7___default()(nowZreo).subtract(5, 'M').date(1).format;\n    const endMonth = dayjs__WEBPACK_IMPORTED_MODULE_7___default()(nowZreo).add(1, 'M').date(1).format();\n    let monthData = await _model_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].aggregate([// $match  query查询\n    {\n      $match: {\n        created: {\n          $gte: new Date(startMonth),\n          $lt: new Date(endMonth)\n        }\n      }\n    }, // $project 格式化操作  把created转化为 month 年月格式\n    {\n      $project: {\n        month: {\n          $dateToString: {\n            format: '%Y-%m',\n            date: '$created'\n          }\n        }\n      }\n    }, {\n      $group: {\n        _id: '$month',\n        count: {\n          $sum: 1\n        }\n      }\n    }, // 排序\n    {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    monthData = monthData.reduce((obj, item) => {\n      return { ...obj,\n        [item._id]: item.count\n      };\n    }, {}); // 4.底部数据\n\n    const startDay = dayjs__WEBPACK_IMPORTED_MODULE_7___default()().subtract(7, 'day').format();\n\n    const _aggregate = async model => {\n      let result = await model.aggregate([{\n        $match: {\n          created: {\n            $gte: new Date(startDay)\n          }\n        }\n      }, {\n        $project: {\n          month: {\n            $dateToString: {\n              format: '%Y-%m-%d',\n              date: '$created'\n            }\n          }\n        }\n      }, {\n        $group: {\n          _id: '$month',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $sort: {\n          _id: 1\n        }\n      }]);\n      result = result.reduce((obj, item) => {\n        return { ...obj,\n          [item._id]: item.count\n        };\n      }, {});\n      return result;\n    };\n\n    const userWeekData = await _aggregate(_model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"]); // -> { 2019-10-01: 1}\n\n    const signWeekData = await _aggregate(_model_SignRecord__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    const postWeekData = await _aggregate(_model_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n    const commentsWeekData = await _aggregate(_model_Comments__WEBPACK_IMPORTED_MODULE_4__[\"default\"]); // {user: [1,2,3,4,0,0,0]}\n\n    const dataArr = [];\n\n    for (let i = 0; i <= 6; i++) {\n      dataArr.push(dayjs__WEBPACK_IMPORTED_MODULE_7___default()().subtract(6 - i, 'day').format('YYYY-MM-DD'));\n    } // 补0\n\n\n    const addData = obj => {\n      const arr = [];\n      dataArr.forEach(item => {\n        if (obj[item]) {\n          arr.push(obj[item]);\n        } else {\n          arr.push(0);\n        }\n      });\n      return arr;\n    };\n\n    const weekData = {\n      user: addData(userWeekData),\n      sign: addData(signWeekData),\n      post: addData(postWeekData),\n      comments: addData(commentsWeekData)\n    };\n    result = {\n      inforCardData,\n      pieData,\n      monthData,\n      weekData\n    };\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new AdminController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0FkbWluQ29udHJvbGxlci5qcz80YTBkIl0sIm5hbWVzIjpbIndlZWtkYXkiLCJyZXF1aXJlIiwibW9tZW50IiwiZXh0ZW5kIiwiQWRtaW5Db250cm9sbGVyIiwiZ2V0TWVudSIsImN0eCIsInJlc3VsdCIsIk1lbnUiLCJmaW5kIiwiYm9keSIsImNvZGUiLCJkYXRhIiwic29ydE1lbnVzIiwiYWRkTWVudSIsInJlcXVlc3QiLCJtZW51Iiwic2F2ZSIsInVwZGF0ZU1lbnUiLCJfaWQiLCJ1cGRhdGVPbmUiLCJkZWxldGVNZW51IiwiZGVsZXRlT25lIiwiYWRkUm9sZSIsInJvbGUiLCJSb2xlcyIsImdldFJvbGVzIiwidXBkYXRlUm9sZSIsImRlbGV0ZVJvbGUiLCJnZXRSb2xlTmFtZXMiLCJkZXNjIiwiZ2V0Q29tbWVudHNBbGwiLCJwYXJhbXMiLCJxcyIsInBhcnNlIiwicXVlcnkiLCJvcHRpb25zIiwicGFnZSIsInBhcnNlSW50IiwibGltaXQiLCJDb21tZW50cyIsImdldENvbW1lbnRzT3B0aW9ucyIsInRvdGFsIiwiZ2V0Q29tbWVudHNPcHRpb25zQ291bnQiLCJsZW5ndGgiLCJjb3VudCIsInVwZGF0ZUNvbW1lbnRzQmF0Y2giLCJ1cGRhdGVNYW55IiwiJGluIiwiaWRzIiwiJHNldCIsInNldHRpbmdzIiwiZGVsZXRlQ29tbWVudHNCYXRjaCIsImRlbGV0ZU1hbnkiLCJtc2ciLCJnZXRSb3V0ZXMiLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJyb2xlcyIsIm1lbnVzIiwiaSIsInJpZ2h0cyIsImNvbmNhdCIsIkFycmF5IiwiZnJvbSIsIlNldCIsInRyZWVEYXRhIiwicm91dGVzIiwiZ2V0TWVudURhdGEiLCJpc0FkbWluIiwiZ2V0T3BlcmF0aW9ucyIsIm9wZXJhdGlvbnMiLCJnZXRSaWdodHMiLCJnZXRTdGF0cyIsIm5vd1pyZW8iLCJEYXRlIiwic2V0SG91cnMiLCJpbmZvckNhcmREYXRhIiwidGltZSIsImZvcm1hdCIsInVzZXJOZXdDb3VudCIsImNyZWF0ZWQiLCIkZ3RlIiwiY291bnREb2N1bWVudHMiLCJwb3N0c0NvdW50IiwiUG9zdCIsImNvbW1lbnRzTmV3Q291bnQiLCJzdGFydHRpbWUiLCJlbmR0aW1lIiwid2Vla0VuZENvdW50IiwiJGx0ZSIsImlzQmVzdCIsInNpZ25XZWVrQ291bnQiLCJTaWduUmVjb3JkIiwicG9zdFdlZWtDb3VudCIsInB1c2giLCJwb3N0c0NhdGFsb2dDb3VudCIsImFnZ3JlZ2F0ZSIsIiRncm91cCIsIiRzdW0iLCJwaWVEYXRhIiwiZm9yRWFjaCIsIml0ZW0iLCJzdGFydE1vbnRoIiwic3VidHJhY3QiLCJkYXRlIiwiZW5kTW9udGgiLCJhZGQiLCJtb250aERhdGEiLCIkbWF0Y2giLCIkbHQiLCIkcHJvamVjdCIsIm1vbnRoIiwiJGRhdGVUb1N0cmluZyIsIiRzb3J0IiwicmVkdWNlIiwib2JqIiwic3RhcnREYXkiLCJfYWdncmVnYXRlIiwibW9kZWwiLCJ1c2VyV2Vla0RhdGEiLCJzaWduV2Vla0RhdGEiLCJwb3N0V2Vla0RhdGEiLCJjb21tZW50c1dlZWtEYXRhIiwiZGF0YUFyciIsImFkZERhdGEiLCJhcnIiLCJ3ZWVrRGF0YSIsInNpZ24iLCJwb3N0IiwiY29tbWVudHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLG1CQUFPLENBQUMsa0RBQUQsQ0FBdkI7O0FBQ0FDLDRDQUFNLENBQUNDLE1BQVAsQ0FBY0gsT0FBZDs7QUFFQSxNQUFNSSxlQUFOLENBQXNCO0FBQ3BCO0FBQ0EsUUFBTUMsT0FBTixDQUFlQyxHQUFmLEVBQW9CO0FBQ2xCLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyxvREFBSSxDQUFDQyxJQUFMLENBQVUsRUFBVixDQUFy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SUFBRCxDQUFaO0FBQ0QsU0FGRCxNQUVPO0FBQ0x3QixhQUFHLENBQUMvQixJQUFKLENBQVMsQ0FBVDtBQUNEO0FBQ0YsT0FORDtBQU9BLGFBQU8rQixHQUFQO0FBQ0QsS0FWRDs7QUFXQSxVQUFNQyxRQUFRLEdBQUc7QUFDZnhFLFVBQUksRUFBRXNFLE9BQU8sQ0FBQ0wsWUFBRCxDQURFO0FBRWZRLFVBQUksRUFBRUgsT0FBTyxDQUFDSixZQUFELENBRkU7QUFHZlEsVUFBSSxFQUFFSixPQUFPLENBQUNILFlBQUQsQ0FIRTtBQUlmUSxjQUFRLEVBQUVMLE9BQU8sQ0FBQ0YsZ0JBQUQ7QUFKRixLQUFqQjtBQU9BckgsVUFBTSxHQUFHO0FBQ1B1RSxtQkFETztBQUVQdUIsYUFGTztBQUdQUSxlQUhPO0FBSVBtQjtBQUpPLEtBQVQ7QUFNQTFILE9BQUcsQ0FBQ0ksSUFBSixHQUFXO0FBQ1RDLFVBQUksRUFBRSxHQURHO0FBRVRDLFVBQUksRUFBRUw7QUFGRyxLQUFYO0FBSUQ7O0FBelRtQjs7QUE0VFAsbUVBQUlILGVBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvQWRtaW5Db250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1lbnUgZnJvbSAnLi4vbW9kZWwvTWVudXMnXHJcbmltcG9ydCBSb2xlcyBmcm9tICcuLi9tb2RlbC9Sb2xlcydcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWwvVXNlcidcclxuaW1wb3J0IFBvc3QgZnJvbSAnLi4vbW9kZWwvUG9zdCdcclxuaW1wb3J0IENvbW1lbnRzIGZyb20gJy4uL21vZGVsL0NvbW1lbnRzJ1xyXG5pbXBvcnQgU2lnblJlY29yZCBmcm9tICcuLi9tb2RlbC9TaWduUmVjb3JkJ1xyXG5pbXBvcnQgcXMgZnJvbSAncXMnXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcbmltcG9ydCB7IGdldE1lbnVEYXRhLCBnZXRSaWdodHMsIHNvcnRNZW51cyB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IHsgbm93IH0gZnJvbSAnbW9tZW50J1xyXG5cclxuY29uc3Qgd2Vla2RheSA9IHJlcXVpcmUoJ2RheWpzL3BsdWdpbi93ZWVrZGF5JylcclxubW9tZW50LmV4dGVuZCh3ZWVrZGF5KVxyXG5cclxuY2xhc3MgQWRtaW5Db250cm9sbGVyIHtcclxuICAvLyDojrflj5boj5zljZVcclxuICBhc3luYyBnZXRNZW51IChjdHgpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1lbnUuZmluZCh7fSlcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHNvcnRNZW51cyhyZXN1bHQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmlrDlop7oj5zljZVcclxuICBhc3luYyBhZGRNZW51IChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudShib2R5KVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWVudS5zYXZlKClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5pu05paw6I+c5Y2VXHJcbiAgYXN5bmMgdXBkYXRlTWVudSAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCBkYXRhID0geyAuLi5ib2R5IH1cclxuICAgIGRlbGV0ZSBkYXRhLl9pZFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTWVudS51cGRhdGVPbmUoeyBfaWQ6IGJvZHkuX2lkIH0sIHsgLi4uZGF0YSB9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDliKDpmaToj5zljZVcclxuICBhc3luYyBkZWxldGVNZW51IChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE1lbnUuZGVsZXRlT25lKHsgX2lkOiBib2R5Ll9pZCB9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmt7vliqDop5LoibJcclxuICBhc3luYyBhZGRSb2xlIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJvbGUgPSBuZXcgUm9sZXMoYm9keSlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJvbGUuc2F2ZSgpXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluinkuiJslxyXG4gIGFzeW5jIGdldFJvbGVzIChjdHgpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJvbGVzLmZpbmQoe30pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOinkuiJslxyXG4gIGFzeW5jIHVwZGF0ZVJvbGUgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3QgZGF0YSA9IHsgLi4uYm9keSB9XHJcbiAgICBkZWxldGUgZGF0YS5faWRcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJvbGVzLnVwZGF0ZU9uZSh7IF9pZDogYm9keS5faWQgfSwgeyAuLi5kYXRhIH0pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOWIoOmZpOinkuiJslxyXG4gIGFzeW5jIGRlbGV0ZVJvbGUgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUm9sZXMuZGVsZXRlT25lKHsgX2lkOiBib2R5Ll9pZCB9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bop5LoibLlkI3np7BcclxuICBhc3luYyBnZXRSb2xlTmFtZXMgKGN0eCkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUm9sZXMuZmluZCh7fSwgeyBtZW51OiAwLCBkZXNjOiAwIH0pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluaJgOacieivhOiuulxyXG4gIGFzeW5jIGdldENvbW1lbnRzQWxsIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IHFzLnBhcnNlKGN0eC5xdWVyeSlcclxuICAgIGxldCBvcHRpb25zID0geyB9XHJcbiAgICBpZiAocGFyYW1zLm9wdGlvbnMpIHtcclxuICAgICAgb3B0aW9ucyA9IHBhcmFtcy5vcHRpb25zXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJzZUludChwYXJhbXMucGFnZSkgOiAwXHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAyMFxyXG4gICAgLy8g5L2/55SoTW9uZ29EQuS4reeahOinhuWbvu+8jOaViOeOh+aPkOWNhzHlgI1cclxuICAgIC8vIGNvbnN0IHRlc3QgPSBhd2FpdCBDb21tZW50c1VzZXJzLmZpbmQoeyAndWlkLm5hbWUnOiB7ICRyZWdleDogJ2FkbWluMScsICRvcHRpb25zOiAnaScgfSB9KVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNPcHRpb25zKG9wdGlvbnMsIHBhZ2UsIGxpbWl0KVxyXG4gICAgbGV0IHRvdGFsID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNPcHRpb25zQ291bnQob3B0aW9ucylcclxuICAgIGlmICh0eXBlb2YgdG90YWwgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGlmICh0b3RhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdG90YWwgPSB0b3RhbFswXS5jb3VudFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvdGFsID0gMFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIHRvdGFsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmm7TmlrDor4TorrpcclxuICBhc3luYyB1cGRhdGVDb21tZW50c0JhdGNoIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU1hbnkoXHJcbiAgICAgIHsgX2lkOiB7ICRpbjogYm9keS5pZHMgfSB9LFxyXG4gICAgICB7ICRzZXQ6IHsgLi4uYm9keS5zZXR0aW5ncyB9IH1cclxuICAgIClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5Yig6Zmk6K+E6K66XHJcbiAgYXN5bmMgZGVsZXRlQ29tbWVudHNCYXRjaCAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5kZWxldGVNYW55KHsgX2lkOiB7ICRpbjogYm9keS5pZHMgfSB9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJyxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bliqjmgIHoj5zljZXkv6Hmga9cclxuICBhc3luYyBnZXRSb3V0ZXMgKGN0eCkge1xyXG4gICAgLy8gY3R4Ll9pZCDmmK/pgJrov4dBdXRo5Lit6Ze05Lu26Ym05p2D5oyC6L295YiwY3R45LiKXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBjdHguX2lkIH0sIHsgcm9sZXM6IDEgfSlcclxuICAgIC8vIOaLv+WIsOeUqOaIt+inkuiJsuS/oeaBr1xyXG4gICAgY29uc3QgeyByb2xlcyB9ID0gdXNlclxyXG5cclxuICAgIC8vIOmAmui/h+inkuiJsuiOt+WPluinkuiJsuWPr+S7peiuv+mXrueahOiPnOWNleaVsOaNrlxyXG4gICAgbGV0IG1lbnVzID0gW11cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCByb2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByb2xlID0gcm9sZXNbaV1cclxuICAgICAgLy8g5ou/5Yiw6KeS6Imy6I+c5Y2VXHJcbiAgICAgIGNvbnN0IHJpZ2h0cyA9IGF3YWl0IFJvbGVzLmZpbmRPbmUoeyByb2xlIH0sIHsgbWVudTogMSB9KVxyXG4gICAgICBtZW51cyA9IG1lbnVzLmNvbmNhdChyaWdodHMubWVudSlcclxuICAgIH1cclxuICAgIC8vIOWOu+mHjVxyXG4gICAgbWVudXMgPSBBcnJheS5mcm9tKG5ldyBTZXQobWVudXMpKVxyXG5cclxuICAgIC8vIG1lbnVzIOWPr+S7peiuv+mXrueahOiPnOWNleaVsOaNrlxyXG4gICAgY29uc3QgdHJlZURhdGEgPSBhd2FpdCBNZW51LmZpbmQoe30pXHJcbiAgICAvLyDpgJLlvZLmn6Xor6IgdHlwZSA9ICdtZW51JyAmJiBfaWQg5YyF5ZCr5ZyobWVudXPkuK1cclxuICAgIGNvbnN0IHJvdXRlcyA9IGdldE1lbnVEYXRhKHRyZWVEYXRhLCBtZW51cywgY3R4LmlzQWRtaW4pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiBtZW51c1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5o6l5Y+j5pON5L2c5p2D6ZmQXHJcbiAgYXN5bmMgZ2V0T3BlcmF0aW9ucyAoY3R4KSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBjdHguX2lkIH0sIHsgcm9sZXM6IDEgfSlcclxuXHJcbiAgICBjb25zdCB7IHJvbGVzIH0gPSB1c2VyXHJcbiAgICBsZXQgbWVudXMgPSBbXVxyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCByb2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByb2xlID0gcm9sZXNbaV1cclxuICAgICAgY29uc3QgcmlnaHRzID0gYXdhaXQgUm9sZXMuZmluZE9uZSh7IHJvbGUgfSwgeyBtZW51OiAxIH0pXHJcbiAgICAgIG1lbnVzID0gbWVudXMuY29uY2F0KHJpZ2h0cy5tZW51KVxyXG4gICAgfVxyXG4gICAgbWVudXMgPSBBcnJheS5mcm9tKG5ldyBTZXQobWVudXMpKVxyXG5cclxuICAgIGNvbnN0IHRyZWVEYXRhID0gYXdhaXQgTWVudS5maW5kKHt9KVxyXG4gICAgY29uc3Qgb3BlcmF0aW9ucyA9IGdldFJpZ2h0cyh0cmVlRGF0YSwgbWVudXMpXHJcbiAgICBcclxuICAgIHJldHVybiBvcGVyYXRpb25zXHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bpppbpobXnirbmgIFcclxuICBhc3luYyBnZXRTdGF0cyAoY3R4KSB7XHJcbiAgICBsZXQgcmVzdWx0ID0ge31cclxuICAgIC8vIOW9k+WkqTDngrlcclxuICAgIGNvbnN0IG5vd1pyZW8gPSBuZXcgRGF0ZSgpLnNldEhvdXJzKDAsMCwwLDApXHJcbiAgICAvLyAxLumhtumDqOeahGNhcmQuXHJcbiAgICBjb25zdCBpbmZvckNhcmREYXRhID0gW11cclxuICAgIGNvbnN0IHRpbWUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgMDA6MDA6MDAnKVxyXG4gICAgLy8g5pys5pel5paw5aKe55So5oi35pWwXHJcbiAgICBjb25zdCB1c2VyTmV3Q291bnQgPSBhd2FpdCBVc2VyLmZpbmQoeyBjcmVhdGVkOiB7ICRndGU6IHRpbWV9fSkuY291bnREb2N1bWVudHMoKVxyXG4gICAgLy8g57Sv6K6h5Y+R5biWXHJcbiAgICBjb25zdCBwb3N0c0NvdW50ID0gYXdhaXQgUG9zdC5maW5kKHt9KS5jb3VudERvY3VtZW50cygpXHJcbiAgICAvLyDmnKzml6Xor4TorrpcclxuICAgIGNvbnN0IGNvbW1lbnRzTmV3Q291bnQgPSBhd2FpdCBDb21tZW50cy5maW5kKHsgY3JlYXRlZDogeyAkZ3RlOiB0aW1lIH19KS5jb3VudERvY3VtZW50cygpXHJcbiAgICBcclxuICAgIGNvbnN0IHN0YXJ0dGltZSA9IG1vbWVudChub3dacmVvKS53ZWVrZGF5KDEpIC8vIOW9k+WJjei/meWRqOeahOesrOS4gOWkqVxyXG4gICAgY29uc3QgZW5kdGltZSA9IG1vbWVudChub3dacmVvKS53ZWVrZGF5KDgpIC8vIOW9k+WJjei/meWRqOeahOacgOWQjuS4gOWkqVxyXG4gICAgLy8g5pys5ZGo6YeH57qzXHJcbiAgICBjb25zdCB3ZWVrRW5kQ291bnQgPSBhd2FpdCBDb21tZW50cy5maW5kKHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydHRpbWUsICRsdGU6IGVuZHRpbWUgfSwgaXNCZXN0OiAnMSd9KS5jb3VudERvY3VtZW50cygpXHJcbiAgICAvLyDmnKzlkajnrb7liLBcclxuICAgIGNvbnN0IHNpZ25XZWVrQ291bnQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmQoeyBjcmVhdGVkOiB7ICRndGU6IHN0YXJ0dGltZSwgJGx0ZTogZW5kdGltZSB9fSkuY291bnREb2N1bWVudHMoKVxyXG4gICAgLy8g5pys5ZGo5Y+R5biWXHJcbiAgICBjb25zdCBwb3N0V2Vla0NvdW50ID0gYXdhaXQgUG9zdC5maW5kKHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydHRpbWUsICRsdGU6IGVuZHRpbWUgfX0pLmNvdW50RG9jdW1lbnRzKClcclxuICAgIFxyXG4gICAgaW5mb3JDYXJkRGF0YS5wdXNoKHVzZXJOZXdDb3VudClcclxuICAgIGluZm9yQ2FyZERhdGEucHVzaChwb3N0c0NvdW50KVxyXG4gICAgaW5mb3JDYXJkRGF0YS5wdXNoKGNvbW1lbnRzTmV3Q291bnQpXHJcbiAgICBpbmZvckNhcmREYXRhLnB1c2god2Vla0VuZENvdW50KVxyXG4gICAgaW5mb3JDYXJkRGF0YS5wdXNoKHNpZ25XZWVrQ291bnQpXHJcbiAgICBpbmZvckNhcmREYXRhLnB1c2gocG9zdFdlZWtDb3VudClcclxuICAgIFxyXG4gICAgLy8gMi7lt6bkvqfnmoTppbzlm77mlbDmja5cclxuICAgIC8vIOiBmuWQiOafpeivolxyXG4gICAgY29uc3QgcG9zdHNDYXRhbG9nQ291bnQgPSBhd2FpdCBQb3N0LmFnZ3JlZ2F0ZShbXHJcbiAgICAgIC8vIF9pZDokY2F0YWxvZyAtPiDku6UkY2F0YWxvZ+eahOWxnuaAp+WAvOWIhuexuyAgICAkc3VtOiAxIC0+IOaxguWSjFxyXG4gICAgICB7ICRncm91cDogeyBfaWQ6ICckY2F0YWxvZycsIGNvdW50OiB7ICRzdW06IDEgfSB9IH1cclxuICAgIF0pXHJcbiAgICBjb25zdCBwaWVEYXRhID0ge31cclxuICAgIHBvc3RzQ2F0YWxvZ0NvdW50LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgcGllRGF0YVtpdGVtLl9pZF0gPSBpdGVtLmNvdW50XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIDMu5pys5ZGo55qE5Y+z5L6n57uf6K6h5pWw5o2uKDbkuKrmnIjlj5HluJYpXHJcbiAgICAvLyAzLjEg6K6h566XNuS4quaciOWJjeeahOaXtumXtFxyXG4gICAgLy8gMy4yIOafpeivouaVsOaNruW6k+WvueW6lOaXtumXtOWGheeahOaVsOaNrlxyXG4gICAgLy8gMy4zIOiBmuWQiOafpeivolxyXG4gICAgY29uc3Qgc3RhcnRNb250aCA9IG1vbWVudChub3dacmVvKS5zdWJ0cmFjdCg1LCAnTScpLmRhdGUoMSkuZm9ybWF0XHJcbiAgICBjb25zdCBlbmRNb250aCA9IG1vbWVudChub3dacmVvKS5hZGQoMSwgJ00nKS5kYXRlKDEpLmZvcm1hdCgpXHJcbiAgICBsZXQgbW9udGhEYXRhID0gYXdhaXQgUG9zdC5hZ2dyZWdhdGUoW1xyXG4gICAgICAvLyAkbWF0Y2ggIHF1ZXJ55p+l6K+iXHJcbiAgICAgIHsgJG1hdGNoOiB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnRNb250aCksICRsdDogbmV3IERhdGUoZW5kTW9udGgpIH0gfSB9LFxyXG4gICAgICAvLyAkcHJvamVjdCDmoLzlvI/ljJbmk43kvZwgIOaKimNyZWF0ZWTovazljJbkuLogbW9udGgg5bm05pyI5qC85byPXHJcbiAgICAgIHsgJHByb2plY3Q6IHsgbW9udGg6IHsgJGRhdGVUb1N0cmluZzogeyBmb3JtYXQ6ICclWS0lbScsIGRhdGU6ICckY3JlYXRlZCcgfSB9IH0gfSxcclxuICAgICAgeyAkZ3JvdXA6IHsgX2lkOiAnJG1vbnRoJywgY291bnQ6IHsgJHN1bTogMSB9IH0gfSxcclxuICAgICAgLy8g5o6S5bqPXHJcbiAgICAgIHsgJHNvcnQ6IHsgX2lkOiAxIH0gfVxyXG4gICAgXSlcclxuXHJcbiAgICBtb250aERhdGEgPSBtb250aERhdGEucmVkdWNlKChvYmosIGl0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5vYmosXHJcbiAgICAgICAgW2l0ZW0uX2lkXTogaXRlbS5jb3VudFxyXG4gICAgICB9XHJcbiAgICB9LCB7fSlcclxuXHJcbiAgICAvLyA0LuW6lemDqOaVsOaNrlxyXG4gICAgY29uc3Qgc3RhcnREYXkgPSBtb21lbnQoKS5zdWJ0cmFjdCg3LCAnZGF5JykuZm9ybWF0KClcclxuICAgIGNvbnN0IF9hZ2dyZWdhdGUgPSBhc3luYyAobW9kZWwpID0+IHtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAgeyAkbWF0Y2g6IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShzdGFydERheSkgfSB9IH0sXHJcbiAgICAgICAgeyAkcHJvamVjdDogeyBtb250aDogeyAkZGF0ZVRvU3RyaW5nOiB7IGZvcm1hdDogJyVZLSVtLSVkJywgZGF0ZTogJyRjcmVhdGVkJyB9IH0gfSB9LFxyXG4gICAgICAgIHsgJGdyb3VwOiB7IF9pZDogJyRtb250aCcsIGNvdW50OiB7ICRzdW06IDEgfSB9IH0sXHJcbiAgICAgICAgeyAkc29ydDogeyBfaWQ6IDEgfSB9XHJcbiAgICAgIF0pXHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZWR1Y2UoKG9iaiwgaXRlbSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5vYmosXHJcbiAgICAgICAgICBbaXRlbS5faWRdOiBpdGVtLmNvdW50XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB7fSlcclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG4gICAgY29uc3QgdXNlcldlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShVc2VyKSAvLyAtPiB7IDIwMTktMTAtMDE6IDF9XHJcbiAgICBjb25zdCBzaWduV2Vla0RhdGEgPSBhd2FpdCBfYWdncmVnYXRlKFNpZ25SZWNvcmQpXHJcbiAgICBjb25zdCBwb3N0V2Vla0RhdGEgPSBhd2FpdCBfYWdncmVnYXRlKFBvc3QpXHJcbiAgICBjb25zdCBjb21tZW50c1dlZWtEYXRhID0gYXdhaXQgX2FnZ3JlZ2F0ZShDb21tZW50cylcclxuICAgIC8vIHt1c2VyOiBbMSwyLDMsNCwwLDAsMF19XHJcbiAgICBjb25zdCBkYXRhQXJyID0gW11cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDY7IGkrKykge1xyXG4gICAgICBkYXRhQXJyLnB1c2gobW9tZW50KCkuc3VidHJhY3QoNiAtIGksICdkYXknKS5mb3JtYXQoJ1lZWVktTU0tREQnKSlcclxuICAgIH1cclxuICAgIC8vIOihpTBcclxuICAgIGNvbnN0IGFkZERhdGEgPSAob2JqKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFyciA9IFtdXHJcbiAgICAgIGRhdGFBcnIuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGlmIChvYmpbaXRlbV0pIHtcclxuICAgICAgICAgIGFyci5wdXNoKG9ialtpdGVtXSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXJyLnB1c2goMClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiBhcnJcclxuICAgIH1cclxuICAgIGNvbnN0IHdlZWtEYXRhID0ge1xyXG4gICAgICB1c2VyOiBhZGREYXRhKHVzZXJXZWVrRGF0YSksXHJcbiAgICAgIHNpZ246IGFkZERhdGEoc2lnbldlZWtEYXRhKSxcclxuICAgICAgcG9zdDogYWRkRGF0YShwb3N0V2Vla0RhdGEpLFxyXG4gICAgICBjb21tZW50czogYWRkRGF0YShjb21tZW50c1dlZWtEYXRhKVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VsdCA9IHtcclxuICAgICAgaW5mb3JDYXJkRGF0YSxcclxuICAgICAgcGllRGF0YSxcclxuICAgICAgbW9udGhEYXRhLFxyXG4gICAgICB3ZWVrRGF0YVxyXG4gICAgfVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQWRtaW5Db250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/AdminController.js\n");

/***/ }),

/***/ "./src/api/CommentsController.js":
/*!***************************************!*\
  !*** ./src/api/CommentsController.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/CommentsHands */ \"./src/model/CommentsHands.js\");\n/* harmony import */ var nodemailer_lib_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nodemailer/lib/shared */ \"nodemailer/lib/shared\");\n/* harmony import */ var nodemailer_lib_shared__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nodemailer_lib_shared__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n // 对用户进行判断\n\nconst canReply = async ctx => {\n  let result = false;\n  const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n\n  if (typeof obj._id === 'undefined') {\n    return result;\n  } else {\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n\n    if (user.status === '0') {\n      // status  0为正常\n      result = true;\n    }\n\n    return result;\n  }\n};\n\nclass CommentsController {\n  // 获取评论列表\n  async getComments(ctx) {\n    const params = ctx.query;\n    const tid = params.tid; // 帖子id\n\n    const page = params.page ? params.page : 0; // 第几页评论\n\n    const limit = params.limit ? parseInt(params.limit) : 10; // 每页条数\n    // 取评论\n\n    const r = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid(tid);\n    let result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommentsList(tid, page, limit); // 判断用户是否登录，已登录的用户才去判断点赞信息\n\n    let obj = {};\n\n    if (typeof ctx.header.authorization !== 'undefined') {\n      obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n    }\n\n    if (typeof obj._id !== 'undefined') {\n      // 已经登录, 把数据库返回的数据JSON化才能操作\n      result = result.map(item => item.toJSON());\n\n      for (let i = 0; i < result.length; i++) {\n        let item = result[i];\n        item.handed = '0'; // 添加点赞属性\n        // 查询点赞表\n\n        const commentsHands = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n          cid: item._id,\n          uid: obj._id\n        }); // 判断是否有用户的点赞记录,有则修改handed属性\n\n        if (commentsHands && commentsHands.cid) {\n          if (commentsHands.uid === obj._id) {\n            item.handed = '1';\n          }\n        }\n      }\n    }\n\n    const total = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].queryCount(tid);\n    ctx.body = {\n      code: 200,\n      total,\n      data: result,\n      msg: '查询成功'\n    };\n  } // 添加评论\n\n\n  async addComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"checkCode\"])(sid, code);\n\n    if (!result) {\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码不正确,请检查'\n      };\n      return;\n    }\n\n    const newComment = new _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n    newComment.cuid = obj._id; // 查询帖子作者发送消息\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: body.tid\n    });\n    newComment.uid = post.uid;\n    const comment = await newComment.save(); // 统计帖子有多少未读评论消息\n\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTotal(post.uid); // 发送消息\n\n    global.ws.send(post.uid, JSON.stringify({\n      event: 'message',\n      message: num\n    })); // 增加回复数\n\n    const updatePostresult = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body.tid\n    }, {\n      $inc: {\n        answer: 1\n      }\n    });\n\n    if (comment._id && updatePostresult.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: comment,\n        msg: '评论成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '评论失败'\n      };\n    }\n  } // 更新评论\n\n\n  async updateComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body.cid\n    }, {\n      $set: body\n    });\n    ctx.body = {\n      code: 200,\n      msg: '修改成功',\n      data: result\n    };\n  } // 采纳\n\n\n  async setBest(ctx) {\n    // 对用户权限进行判断\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n\n    if (typeof obj === 'undefined' && obj._id === '') {\n      ctx.body = {\n        code: 401,\n        msg: '用户未登录,或用户未授权'\n      };\n      return;\n    }\n\n    const params = ctx.query;\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: params.tid\n    });\n\n    if (post.uid === obj._id && post.isEnd === '0') {\n      // 说明这是作者本人,可以设置isBest\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n        _id: params.tid\n      }, {\n        $set: {\n          isEnd: '1'\n        }\n      });\n      const result1 = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n        _id: params.cid\n      }, {\n        $set: {\n          isBest: '1'\n        }\n      }); // 把积分给采纳用户\n\n      if (result.ok === 1 && result1.ok === 1) {\n        const comment = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByCid(params.cid); // 添加积分\n\n        const result2 = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n          _id: comment.cuid\n        }, {\n          $inc: {\n            favs: parseInt(post.fav)\n          }\n        }); // console.log('resule2:', result2)\n\n        if (result2.ok === 1) {\n          ctx.body = {\n            code: 200,\n            msg: '设置成功',\n            data: result2\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            msg: '设置最佳答案-更新用户失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '设置失败',\n          data: { ...result,\n            ...result1\n          }\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '帖子已结帖,无法重复设置'\n      };\n    }\n  } // 点赞\n\n\n  async setHands(ctx) {\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n    const params = ctx.query; // 判断用户是否已经点赞\n\n    const tmp = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      cid: params.cid,\n      uid: obj._id\n    });\n\n    if (tmp.length > 0) {\n      ctx.body = {\n        code: 500,\n        msg: '您已经点赞,请勿重复点赞'\n      };\n      return;\n    } // 新增一条点赞记录\n\n\n    const newHands = new _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      cid: params.cid,\n      // 评论id\n      uid: obj._id // 点赞人id\n\n    });\n    const data = await newHands.save(); // 更新comments表中对应记录hands信息+1\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.cid\n    }, {\n      $inc: {\n        hands: 1\n      }\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '点赞成功',\n        data: data\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '保存点赞信息失败'\n      };\n    }\n  } // 获取用户最近评论\n\n\n  async getCommentPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommetsPublic(params.uid, params.page, parseInt(params.limit));\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '查询最近的评论记录成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询评论记录失败！'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new CommentsController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbW1lbnRzQ29udHJvbGxlci5qcz9kNGI0Il0sIm5hbWVzIjpbImNhblJlcGx5IiwiY3R4IiwicmVzdWx0Iiwib2JqIiwiZ2V0Sld0UGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJfaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwic3RhdHVzIiwiQ29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJwYXJhbXMiLCJxdWVyeSIsInRpZCIsInBhZ2UiLCJsaW1pdCIsInBhcnNlSW50IiwiciIsIkNvbW1lbnRzIiwiZmluZEJ5VGlkIiwiZ2V0Q29tbWVudHNMaXN0IiwibWFwIiwiaXRlbSIsInRvSlNPTiIsImkiLCJsZW5ndGgiLCJoYW5kZWQiLCJjb21tZW50c0hhbmRzIiwiQ29tbWVudHNIYW5kcyIsImZpbmRPbmUiLCJjaWQiLCJ1aWQiLCJ0b3RhbCIsInF1ZXJ5Q291bnQiLCJib2R5IiwiY29kZSIsImRhdGEiLCJtc2ciLCJhZGRDb21tZW50IiwiY2hlY2siLCJyZXF1ZXN0Iiwic2lkIiwiY2hlY2tDb2RlIiwibmV3Q29tbWVudCIsImN1aWQiLCJwb3N0IiwiUG9zdCIsImNvbW1lbnQiLCJzYXZlIiwibnVtIiwiZ2V0VG90YWwiLCJnbG9iYWwiLCJ3cyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXZlbnQiLCJtZXNzYWdlIiwidXBkYXRlUG9zdHJlc3VsdCIsInVwZGF0ZU9uZSIsIiRpbmMiLCJhbnN3ZXIiLCJvayIsInVwZGF0ZUNvbW1lbnQiLCIkc2V0Iiwic2V0QmVzdCIsImlzRW5kIiwicmVzdWx0MSIsImlzQmVzdCIsImZpbmRCeUNpZCIsInJlc3VsdDIiLCJmYXZzIiwiZmF2Iiwic2V0SGFuZHMiLCJ0bXAiLCJmaW5kIiwibmV3SGFuZHMiLCJoYW5kcyIsImdldENvbW1lbnRQdWJsaWMiLCJnZXRDb21tZXRzUHVibGljIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FB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QUVUQyxZQUFJLEVBQUVyQyxNQUZHO0FBR1RzQyxXQUFHLEVBQUU7QUFISSxPQUFYO0FBS0QsS0FORCxNQU1PO0FBQ0x2QyxTQUFHLENBQUNvQyxJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEUsV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlEO0FBQ0Y7O0FBcE9zQjs7QUF1T1YsbUVBQUk1QixrQkFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Db21tZW50c0NvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWVudHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHMnXHJcbmltcG9ydCBQb3N0IGZyb20gJy4uL21vZGVsL1Bvc3QnXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVsL1VzZXInXHJcbmltcG9ydCB7IGNoZWNrQ29kZSwgZ2V0Sld0UGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IENvbW1lbnRzSGFuZHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHNIYW5kcydcclxuaW1wb3J0IHsgZW5jb2RlWFRleHQgfSBmcm9tICdub2RlbWFpbGVyL2xpYi9zaGFyZWQnXHJcblxyXG4vLyDlr7nnlKjmiLfov5vooYzliKTmlq1cclxuY29uc3QgY2FuUmVwbHkgPSBhc3luYyAoY3R4KSA9PiB7XHJcbiAgbGV0IHJlc3VsdCA9IGZhbHNlXHJcbiAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgaWYgKHR5cGVvZiBvYmouX2lkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRChvYmouX2lkKVxyXG4gICAgaWYgKHVzZXIuc3RhdHVzID09PSAnMCcpIHsgLy8gc3RhdHVzICAw5Li65q2j5bi4XHJcbiAgICAgIHJlc3VsdCA9IHRydWVcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbW1lbnRzQ29udHJvbGxlciB7XHJcbiAgLy8g6I635Y+W6K+E6K665YiX6KGoXHJcbiAgYXN5bmMgZ2V0Q29tbWVudHMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCB0aWQgPSBwYXJhbXMudGlkIC8vIOW4luWtkGlkXHJcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDAgLy8g56ys5Yeg6aG16K+E6K66XHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMCAvLyDmr4/pobXmnaHmlbBcclxuICAgIC8vIOWPluivhOiuulxyXG4gICAgY29uc3QgciA9IGF3YWl0IENvbW1lbnRzLmZpbmRCeVRpZCh0aWQpXHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNMaXN0KHRpZCwgcGFnZSwgbGltaXQpXHJcbiAgICBcclxuICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpueZu+W9le+8jOW3sueZu+W9leeahOeUqOaIt+aJjeWOu+WIpOaWreeCuei1nuS/oeaBr1xyXG4gICAgbGV0IG9iaiA9IHt9XHJcbiAgICBpZiAodHlwZW9mIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIG9iai5faWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIOW3sue7j+eZu+W9lSwg5oqK5pWw5o2u5bqT6L+U5Zue55qE5pWw5o2uSlNPTuWMluaJjeiDveaTjeS9nFxyXG4gICAgICByZXN1bHQgPSByZXN1bHQubWFwKGl0ZW0gPT4gaXRlbS50b0pTT04oKSlcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgaXRlbSA9IHJlc3VsdFtpXVxyXG4gICAgICAgIGl0ZW0uaGFuZGVkID0gJzAnIC8vIOa3u+WKoOeCuei1nuWxnuaAp1xyXG4gICAgICAgIC8vIOafpeivoueCuei1nuihqFxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzSGFuZHMgPSBhd2FpdCBDb21tZW50c0hhbmRzLmZpbmRPbmUoeyBjaWQ6IGl0ZW0uX2lkLCB1aWQ6IG9iai5faWQgfSlcclxuICAgICAgICAvLyDliKTmlq3mmK/lkKbmnInnlKjmiLfnmoTngrnotZ7orrDlvZUs5pyJ5YiZ5L+u5pS5aGFuZGVk5bGe5oCnXHJcbiAgICAgICAgaWYgKGNvbW1lbnRzSGFuZHMgJiYgY29tbWVudHNIYW5kcy5jaWQpIHtcclxuICAgICAgICAgIGlmIChjb21tZW50c0hhbmRzLnVpZCA9PT0gb2JqLl9pZCkge1xyXG4gICAgICAgICAgICBpdGVtLmhhbmRlZCA9ICcxJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBDb21tZW50cy5xdWVyeUNvdW50KHRpZClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIHRvdGFsLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG1zZzogJ+afpeivouaIkOWKnydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOa3u+WKoOivhOiuulxyXG4gIGFzeW5jIGFkZENvbW1lbnQgKGN0eCkge1xyXG4gICAgY29uc3QgY2hlY2sgPSBhd2FpdCBjYW5SZXBseShjdHgpXHJcbiAgICBpZiAoIWNoZWNrKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfnlKjmiLflt7LooqvnpoHoqIAnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCBzaWQgPSBib2R5LnNpZFxyXG4gICAgY29uc3QgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CBXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggeS4jeato+ehrizor7fmo4Dmn6UnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdDb21tZW50ID0gbmV3IENvbW1lbnRzKGJvZHkpXHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIG5ld0NvbW1lbnQuY3VpZCA9IG9iai5faWRcclxuICAgIC8vIOafpeivouW4luWtkOS9nOiAheWPkemAgea2iOaBr1xyXG4gICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7X2lkOiBib2R5LnRpZH0pXHJcbiAgICBuZXdDb21tZW50LnVpZCA9IHBvc3QudWlkXHJcbiAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgbmV3Q29tbWVudC5zYXZlKClcclxuICAgIFxyXG4gICAgLy8g57uf6K6h5biW5a2Q5pyJ5aSa5bCR5pyq6K+76K+E6K665raI5oGvXHJcbiAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChwb3N0LnVpZClcclxuICAgIC8vIOWPkemAgea2iOaBr1xyXG4gICAgZ2xvYmFsLndzLnNlbmQocG9zdC51aWQsIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgZXZlbnQ6ICdtZXNzYWdlJyxcclxuICAgICAgbWVzc2FnZTogbnVtXHJcbiAgICB9KSlcclxuICAgIC8vIOWinuWKoOWbnuWkjeaVsFxyXG4gICAgY29uc3QgdXBkYXRlUG9zdHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHtfaWQ6IGJvZHkudGlkfSwge1xyXG4gICAgICAkaW5jOiB7YW5zd2VyOiAxfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoY29tbWVudC5faWQgJiYgdXBkYXRlUG9zdHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogY29tbWVudCxcclxuICAgICAgICBtc2c6ICfor4TorrrmiJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfor4TorrrlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOivhOiuulxyXG4gIGFzeW5jIHVwZGF0ZUNvbW1lbnQgKGN0eCkge1xyXG4gICAgY29uc3QgY2hlY2sgPSBhd2FpdCBjYW5SZXBseShjdHgpXHJcbiAgICBpZiAoIWNoZWNrKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfnlKjmiLflt7LooqvnpoHoqIAnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVPbmUoe19pZDogYm9keS5jaWR9LCB7ICRzZXQ6IGJvZHl9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgbXNnOiAn5L+u5pS55oiQ5YqfJyxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDph4fnurNcclxuICBhc3luYyBzZXRCZXN0IChjdHgpIHtcclxuICAgIC8vIOWvueeUqOaIt+adg+mZkOi/m+ihjOWIpOaWrVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgJiYgb2JqLl9pZCA9PT0gJycpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgIG1zZzogJ+eUqOaIt+acqueZu+W9lSzmiJbnlKjmiLfmnKrmjojmnYMnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoe19pZDogcGFyYW1zLnRpZH0pXHJcbiAgICBpZiAocG9zdC51aWQgPT09IG9iai5faWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XHJcbiAgICAgIC8vIOivtOaYjui/meaYr+S9nOiAheacrOS6uizlj6/ku6Xorr7nva5pc0Jlc3RcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoe19pZDogcGFyYW1zLnRpZH0sIHtcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICBpc0VuZDogJzEnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gIFxyXG4gICAgICBjb25zdCByZXN1bHQxID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHtfaWQ6IHBhcmFtcy5jaWR9LCB7XHJcbiAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgaXNCZXN0OiAnMSdcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyDmiornp6/liIbnu5nph4fnurPnlKjmiLdcclxuICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSAmJiByZXN1bHQxLm9rID09PSAxKSB7XHJcbiAgICAgICAgY29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnRzLmZpbmRCeUNpZChwYXJhbXMuY2lkKVxyXG4gICAgICAgIC8vIOa3u+WKoOenr+WIhlxyXG4gICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7X2lkOiBjb21tZW50LmN1aWR9LCB7JGluYzoge2ZhdnM6IHBhcnNlSW50KHBvc3QuZmF2KX19KVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXN1bGUyOicsIHJlc3VsdDIpXHJcbiAgICAgICAgaWYgKHJlc3VsdDIub2sgPT09IDEpIHtcclxuICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIG1zZzogJ+iuvue9ruaIkOWKnycsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdDJcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgbXNnOiAn6K6+572u5pyA5L2z562U5qGILeabtOaWsOeUqOaIt+Wksei0pSdcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICBtc2c6ICforr7nva7lpLHotKUnLFxyXG4gICAgICAgICAgZGF0YTogey4uLnJlc3VsdCwgLi4ucmVzdWx0MX1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfluJblrZDlt7Lnu5PluJYs5peg5rOV6YeN5aSN6K6+572uJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDngrnotZ5cclxuICBhc3luYyBzZXRIYW5kcyAoY3R4KSB7XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG5cclxuICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpuW3sue7j+eCuei1nlxyXG4gICAgY29uc3QgdG1wID0gYXdhaXQgQ29tbWVudHNIYW5kcy5maW5kKHtjaWQ6IHBhcmFtcy5jaWQsIHVpZDogb2JqLl9pZH0pXHJcbiAgICBpZiAodG1wLmxlbmd0aCA+IDApIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+aCqOW3sue7j+eCuei1nizor7fli7/ph43lpI3ngrnotZ4nXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyDmlrDlop7kuIDmnaHngrnotZ7orrDlvZVcclxuICAgIGNvbnN0IG5ld0hhbmRzID0gbmV3IENvbW1lbnRzSGFuZHMoe1xyXG4gICAgICBjaWQ6IHBhcmFtcy5jaWQsIC8vIOivhOiuumlkXHJcbiAgICAgIHVpZDogb2JqLl9pZCAvLyDngrnotZ7kurppZFxyXG4gICAgfSlcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBuZXdIYW5kcy5zYXZlKClcclxuICAgIC8vIOabtOaWsGNvbW1lbnRz6KGo5Lit5a+55bqU6K6w5b2VaGFuZHPkv6Hmga8rMVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHtfaWQ6IHBhcmFtcy5jaWR9LCB7ICRpbmM6IHtoYW5kczogMX19KVxyXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn54K56LWe5oiQ5YqfJyxcclxuICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfkv53lrZjngrnotZ7kv6Hmga/lpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlueUqOaIt+acgOi/keivhOiuulxyXG4gIGFzeW5jIGdldENvbW1lbnRQdWJsaWMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRDb21tZXRzUHVibGljKHBhcmFtcy51aWQsIHBhcmFtcy5wYWdlLCBwYXJzZUludChwYXJhbXMubGltaXQpKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5pyA6L+R55qE6K+E6K666K6w5b2V5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i6K+E6K666K6w5b2V5aSx6LSl77yBJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29tbWVudHNDb250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/CommentsController.js\n");

/***/ }),

/***/ "./src/api/ContentController.js":
/*!**************************************!*\
  !*** ./src/api/ContentController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Links__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Links */ \"./src/model/Links.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid/v4 */ \"uuid/v4\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! make-dir */ \"make-dir\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(make_dir__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_PostTags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../model/PostTags */ \"./src/model/PostTags.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n // import { dirExists } from '../common/Utils'\n\n\n\n\n\n\n\n\nclass ContentController {\n  // 获取文章列表\n  async getPostList(ctx) {\n    const body = qs__WEBPACK_IMPORTED_MODULE_11___default.a.parse(ctx.query); // 排序条件、页数、每页条数\n\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    const options = {};\n\n    if (body.title) {\n      options.title = {\n        $regex: body.title\n      };\n    }\n\n    if (body.catalog && body.catalog.length > 0) {\n      options.catalog = {\n        $in: body.catalog\n      };\n    }\n\n    if (body.isTop) {\n      options.isTop = body.isTop;\n    }\n\n    if (body.isEnd) {\n      options.isEnd = body.isEnd;\n    }\n\n    if (body.status) {\n      options.status = body.status;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    } // console.log('options:',options)\n\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getList(options, sort, page, limit);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countList(options);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功',\n      total: total\n    };\n  } // 查询友链\n\n\n  async getLinks(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'links'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 查询温馨提醒\n\n\n  async getTips(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'tips'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 本周热议\n\n\n  async getTopWeek(ctx) {\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTopWeek();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 上传图片接口\n\n\n  async uploadImg(ctx) {\n    // files是请求对象,file是前端formData中append的那个'file'\n    const file = ctx.request.files.file; // 取图片名称、图片格式、存储位置、返回前台可以读取的路径\n\n    const ext = file.name.split('.').pop(); // 取图片格式\n    // 拼接存储路径目录\n\n    const dir = `${_config_index__WEBPACK_IMPORTED_MODULE_5__[\"default\"].uploadPath}/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}`; // 判断路径是否存在,不存在则创建\n    // await dirExists(dir)  // make-dir包作用为创建目录路径\n\n    await make_dir__WEBPACK_IMPORTED_MODULE_6___default()(dir); // 存储文件到指定路,给文件一个唯一的名称\n\n    const picname = uuid_v4__WEBPACK_IMPORTED_MODULE_3___default()();\n    const destPath = `${dir}/${picname}.${ext}`;\n    const reader = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createReadStream(file.path); // 读文件\n\n    const upStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createWriteStream(destPath); // 写文件\n    // 返回给前端的文件路径\n\n    const filePath = `/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}/${picname}.${ext}`; // 方法1\n    // reader.pipe(upStream) // 利用管道读写文件\n    // 方法2\n\n    let totalLength = 0;\n    reader.on('data', chunk => {\n      // 监听data事件,分块读取文件\n      totalLength += chunk.length; // 一块块写入\n\n      if (upStream.write(chunk) === false) {\n        // 当写入chunk为0时则文件读取结束,写入为0时返回false停止读取\n        reader.pause();\n      }\n    }); // 继续读取\n\n    reader.on('drain', () => {\n      reader.resume();\n    }); // 结束写入\n\n    reader.on('end', () => {\n      upStream.end();\n    });\n    ctx.body = {\n      code: 200,\n      msg: '图片上传成功',\n      data: filePath\n    };\n  } // 发表新帖\n\n\n  async addPost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 判断用户积分数是否足够\n      // 用户积分足够,发表帖子,减除用户对应积分\n\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_8__[\"default\"].findById({\n        _id: obj._id\n      });\n\n      if (user.favs < body.fav) {\n        ctx.body = {\n          code: 501,\n          msg: '积分不足'\n        };\n        return;\n      } else {\n        // 扣除积分\n        await _model_User__WEBPACK_IMPORTED_MODULE_8__[\"default\"].updateOne({\n          _id: obj._id\n        }, {\n          $inc: {\n            favs: -body.fav\n          }\n        });\n      }\n\n      const newPost = new _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body); // 帖子uid等于发帖人的_id\n\n      newPost.uid = obj._id;\n      const result = await newPost.save();\n      ctx.body = {\n        code: 200,\n        msg: '发布成功',\n        data: result\n      };\n    } else {\n      // 验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 获取文章详情\n\n\n  async getPostDetail(ctx) {\n    const params = ctx.query;\n\n    if (!params.tid) {\n      ctx.body = {\n        code: 500,\n        msg: '文章id为空'\n      };\n      return;\n    }\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid(params.tid);\n\n    if (!post) {\n      ctx.body = {\n        code: 200,\n        data: {},\n        msg: '查询文章详情成功'\n      };\n      return;\n    }\n\n    let isFav = 0; // 判断收藏的变量\n    // 判断用户是否传递Authorization的数据，即是否登录\n\n    if (typeof ctx.header.authorization !== 'undefined' && ctx.header.authorization !== '') {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 查询用户收藏记录\n\n      const userCollect = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__[\"default\"].findOne({\n        uid: obj._id,\n        tid: params.tid\n      }); // 如果有收藏记录则isFav置为1\n\n      if (userCollect && userCollect.tid) {\n        isFav = 1;\n      }\n    }\n\n    const newPost = post.toJSON();\n    newPost.isFav = isFav; // 更新文章阅读记数\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.tid\n    }, {\n      $inc: {\n        reads: 1\n      }\n    });\n\n    if (post._id && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: newPost,\n        msg: '查询文章详情成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '获取文章详情失败'\n      };\n    } // const post = await Post.findOne({ _id: params.tid })\n    // const result = rename(post.toJSON(), 'uid', 'user')\n\n  } // 更新帖子\n\n\n  async updatePost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 判断帖子作者是否为本人\n\n      const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n        _id: body.tid\n      }); // 判断帖子是否结贴\n\n      if (post.uid === obj._id && post.isEnd === '0') {\n        // 更新帖子\n        const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n          _id: body.tid\n        }, body);\n\n        if (result.ok === 1) {\n          ctx.body = {\n            code: 200,\n            data: result,\n            msg: '更新帖子成功'\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            data: result,\n            msg: '编辑帖子，更新失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 401,\n          msg: '已结帖,没有操作的权限'\n        };\n      }\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 管理更新帖子\n\n\n  async updatePostByTid(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '更新帖子成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        data: result,\n        msg: '编辑帖子,更新失败'\n      };\n    }\n  } // 获取用户发帖记录\n\n\n  async getPostByUid(ctx) {\n    const params = ctx.query; // 获取用户信息\n\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 查询用户发表的帖子\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10); // 统计用户发帖总数\n\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 删除指定帖子\n\n\n  async deletePostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization);\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: obj._id,\n      _id: params.tid\n    }); // 判断帖子是否已结帖,若已结帖则不准删除\n\n    if (post.id === params.tid && post.isEnd === '0') {\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n        _id: params.tid\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200,\n          msg: '删除成功'\n        };\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '执行删除失败'\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '删除失败,无权限'\n      };\n    }\n  }\n\n  async getPostPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(params.uid, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(params.uid);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 管理删除帖子\n\n\n  async deletePost(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n      _id: params.tid\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '删除成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '执行删除失败'\n      };\n    }\n  } // 获取标签列表\n\n\n  async getTags(ctx) {\n    const params = ctx.query;\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getList({}, page, limit);\n    const total = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].countList({});\n    ctx.body = {\n      code: 200,\n      data: result,\n      total,\n      msg: '查询tags成功！'\n    };\n  } // 添加标签\n\n\n  async addTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const tag = new _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"](body);\n    await tag.save();\n    ctx.body = {\n      code: 200,\n      msg: '标签保存成功'\n    };\n  } // 删除标签\n\n\n  async removeTag(ctx) {\n    const params = ctx.query;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].deleteOne({\n      _id: params.ptid\n    });\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '删除成功'\n    };\n  } // 更新标签\n\n\n  async updateTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '更新成功'\n    };\n  } // 批量更新\n\n\n  async updatePostBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateMany({\n      _id: {\n        $in: body.ids\n      }\n    }, {\n      $set: { ...body.settings\n      }\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ContentController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzPzI1NjUiXSwibmFtZXMiOlsiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsImN0eCIsImJvZHkiLCJxcyIsInBhcnNlIiwicXVlcnkiLCJzb3J0IiwicGFnZSIsInBhcnNlSW50IiwibGltaXQiLCJvcHRpb25zIiwidGl0bGUiLCIkcmVnZXgiLCJjYXRhbG9nIiwibGVuZ3RoIiwiJGluIiwiaXNUb3AiLCJpc0VuZCIsInN0YXR1cyIsInRhZyIsInRhZ3MiLCIkZWxlbU1hdGNoIiwibmFtZSIsInJlc3VsdCIsIlBvc3QiLCJnZXRMaXN0IiwidG90YWwiLCJjb3VudExpc3QiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldExpbmtzIiwiTGlua3MiLCJmaW5kIiwidHlwZSIsImdldFRpcHMiLCJnZXRUb3BXZWVrIiwidXBsb2FkSW1nIiwiZmlsZSIsInJlcXVlc3QiLCJmaWxlcyIsImV4dCIsInNwbGl0IiwicG9wIiwiZGlyIiwiY29uZmlnIiwidXBsb2FkUGF0aCIsIm1vbWVudCIsImZvcm1hdCIsIm1rZGlyIiwicGljbmFtZSIsInV1aWQiLCJkZXN0UGF0aCIsInJlYWRlciIsImZzIiwiY3JlYXRlUmVhZFN0cmVhbSIsInBhdGgiLCJ1cFN0cmVhbSIsImNyZWF0ZVdyaXRlU3RyZWFtIiwiZmlsZVBhdGgiLCJ0b3RhbExlbmd0aCIsIm9uIiwiY2h1bmsiLCJ3cml0ZSIsInBhdXNlIiwicmVzdW1lIiwiZW5kIiwiYWRkUG9zdCIsInNpZCIsImNoZWNrQ29kZSIsIm9iaiIsImdldEpXdFBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJZCIsIl9pZCIsImZhdnMiLCJmYXYiLCJ1cGRhdGVPbmUiLCIkaW5jIiwibmV3UG9zdCIsInVpZCIsInNhdmUiLCJnZXRQb3N0RGV0YWlsIiwicGFyYW1zIiwidGlkIiwicG9zdCIsImZpbmRCeVRpZCIsImlzRmF2IiwidXNlckNvbGxlY3QiLCJVc2VyQ29sbGVjdCIsImZpbmRPbmUiLCJ0b0pTT04iLCJyZWFkcyIsIm9rIiwidXBkYXRlUG9zdCIsInVwZGF0ZVBvc3RCeVRpZCIsImdldFBvc3RCeVVpZCIsImdldExpc3RCeVVpZCIsImNvdW50QnlVaWQiLCJkZWxldGVQb3N0QnlVaWQiLCJpZCIsImRlbGV0ZU9uZSIsImdldFBvc3RQdWJsaWMiLCJkZWxldGVQb3N0IiwiZ2V0VGFncyIsIlBvc3RUYWdzIiwiYWRkVGFnIiwicmVtb3ZlVGFnIiwicHRpZCIsInVwZGF0ZVRhZyIsInVwZGF0ZVBvc3RCYXRjaCIsInVwZGF0ZU1hbnkiLCJpZHMiLCIkc2V0Iiwic2V0dGluZ3MiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsaUJBQU4sQ0FBd0I7QUFDdEI7QUFDQSxRQUFNQyxXQUFOLENBQW1CQyxHQUFuQixFQUF3QjtBQUN0QixVQUFNQyxJQUFJLEdBQUdDLDBDQUFFLENBQUNDLEtBQUgsQ0FBU0gsR0FBRyxDQUFDSSxLQUFiLENBQWIsQ0FEc0IsQ0FFdEI7O0FBQ0EsVUFBTUMsSUFBSSxHQUFHSixJQUFJLENBQUNJLElBQUwsR0FBWUosSUFBSSxDQUFDSSxJQUFqQixHQUF3QixTQUFyQztBQUNBLFVBQU1DLElBQUksR0FBR0wsSUFBSSxDQUFDSyxJQUFMLEdBQVlDLFFBQVEsQ0FBQ04sSUFBSSxDQUFDSyxJQUFOLENBQXBCLEdBQWtDLENBQS9DO0FBQ0EsVUFBTUUsS0FBSyxHQUFHUCxJQUFJLENBQUNPLEtBQUwsR0FBYUQsUUFBUSxDQUFDTixJQUFJLENBQUNPLEtBQU4sQ0FBckIsR0FBb0MsRUFBbEQ7QUFDQSxVQUFNQyxP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Q0FnYXRCOzs7QUFDQSxRQUFNa0YsU0FBTixDQUFpQi9HLEdBQWpCLEVBQXNCO0FBQ3BCLFVBQU07QUFBRUM7QUFBRixRQUFXRCxHQUFHLENBQUNzQyxPQUFyQjtBQUNBLFVBQU1oQixNQUFNLEdBQUcsTUFBTXFGLHVEQUFRLENBQUM1QixTQUFULENBQ25CO0FBQUVILFNBQUcsRUFBRTNFLElBQUksQ0FBQzJFO0FBQVosS0FEbUIsRUFFbkIzRSxJQUZtQixDQUFyQjtBQUtBRCxPQUFHLENBQUNDLElBQUosR0FBVztBQUNUMEIsVUFBSSxFQUFFLEdBREc7QUFFVEMsVUFBSSxFQUFFTixNQUZHO0FBR1RPLFNBQUcsRUFBRTtBQUhJLEtBQVg7QUFLRCxHQTdhcUIsQ0ErYXRCOzs7QUFDQSxRQUFNbUYsZUFBTixDQUF1QmhILEdBQXZCLEVBQTRCO0FBQzFCLFVBQU07QUFBRUM7QUFBRixRQUFXRCxHQUFHLENBQUNzQyxPQUFyQjtBQUNBLFVBQU1oQixNQUFNLEdBQUcsTUFBTUMsbURBQUksQ0FBQzBGLFVBQUwsQ0FDbkI7QUFBRXJDLFNBQUcsRUFBRTtBQUFFOUQsV0FBRyxFQUFFYixJQUFJLENBQUNpSDtBQUFaO0FBQVAsS0FEbUIsRUFFbkI7QUFBRUMsVUFBSSxFQUFFLEVBQUUsR0FBR2xILElBQUksQ0FBQ21IO0FBQVY7QUFBUixLQUZtQixDQUFyQjtBQUlBcEgsT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDVDBCLFVBQUksRUFBRSxHQURHO0FBRVRDLFVBQUksRUFBRU47QUFGRyxLQUFYO0FBSUQ7O0FBMWJxQjs7QUE2YlQsbUVBQUl4QixpQkFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Db250ZW50Q29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3N0IGZyb20gJy4uL21vZGVsL1Bvc3QnXHJcbmltcG9ydCBMaW5rcyBmcm9tICcuLi9tb2RlbC9MaW5rcydcclxuaW1wb3J0IGZzLCB7IHJlYWQgfSBmcm9tICdmcydcclxuaW1wb3J0IHV1aWQgZnJvbSAndXVpZC92NCdcclxuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcvaW5kZXgnXHJcbi8vIGltcG9ydCB7IGRpckV4aXN0cyB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuXHJcbmltcG9ydCBta2RpciBmcm9tICdtYWtlLWRpcidcclxuaW1wb3J0IHsgY2hlY2tDb2RlLCBnZXRKV3RQYXlsb2FkIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xyXG5pbXBvcnQgUG9zdFRhZ3MgZnJvbSAnLi4vbW9kZWwvUG9zdFRhZ3MnXHJcbmltcG9ydCBVc2VyQ29sbGVjdCBmcm9tICcuLi9tb2RlbC9Vc2VyQ29sbGVjdCdcclxuaW1wb3J0IHFzIGZyb20gJ3FzJ1xyXG5cclxuY2xhc3MgQ29udGVudENvbnRyb2xsZXIge1xyXG4gIC8vIOiOt+WPluaWh+eroOWIl+ihqFxyXG4gIGFzeW5jIGdldFBvc3RMaXN0IChjdHgpIHtcclxuICAgIGNvbnN0IGJvZHkgPSBxcy5wYXJzZShjdHgucXVlcnkpXHJcbiAgICAvLyDmjpLluo/mnaHku7bjgIHpobXmlbDjgIHmr4/pobXmnaHmlbBcclxuICAgIGNvbnN0IHNvcnQgPSBib2R5LnNvcnQgPyBib2R5LnNvcnQgOiAnY3JlYXRlZCdcclxuICAgIGNvbnN0IHBhZ2UgPSBib2R5LnBhZ2UgPyBwYXJzZUludChib2R5LnBhZ2UpIDogMFxyXG4gICAgY29uc3QgbGltaXQgPSBib2R5LmxpbWl0ID8gcGFyc2VJbnQoYm9keS5saW1pdCkgOiAyMFxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9XHJcblxyXG4gICAgaWYgKGJvZHkudGl0bGUpIHtcclxuICAgICAgb3B0aW9ucy50aXRsZSA9IHsgJHJlZ2V4OiBib2R5LnRpdGxlIH1cclxuICAgIH1cclxuICAgIGlmIChib2R5LmNhdGFsb2cgJiYgYm9keS5jYXRhbG9nLmxlbmd0aCA+IDApIHtcclxuICAgICAgb3B0aW9ucy5jYXRhbG9nID0geyAkaW46IGJvZHkuY2F0YWxvZyB9XHJcbiAgICB9XHJcbiAgICBpZiAoYm9keS5pc1RvcCkge1xyXG4gICAgICBvcHRpb25zLmlzVG9wID0gYm9keS5pc1RvcFxyXG4gICAgfVxyXG4gICAgaWYgKGJvZHkuaXNFbmQpIHtcclxuICAgICAgb3B0aW9ucy5pc0VuZCA9IGJvZHkuaXNFbmRcclxuICAgIH1cclxuICAgIGlmIChib2R5LnN0YXR1cykge1xyXG4gICAgICBvcHRpb25zLnN0YXR1cyA9IGJvZHkuc3RhdHVzXHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGJvZHkudGFnICE9PSAndW5kZWZpbmVkJyAmJiBib2R5LnRhZyAhPT0gJycpIHtcclxuICAgICAgb3B0aW9ucy50YWdzID0geyAkZWxlbU1hdGNoOiB7IG5hbWU6IGJvZHkudGFnIH0gfVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coJ29wdGlvbnM6JyxvcHRpb25zKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRMaXN0KG9wdGlvbnMsIHNvcnQsIHBhZ2UsIGxpbWl0KVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50TGlzdChvcHRpb25zKVxyXG5cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgbXNnOiAn6I635Y+W5paH56ug5YiX6KGo5oiQ5YqfJyxcclxuICAgICAgdG90YWw6IHRvdGFsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmn6Xor6Llj4vpk75cclxuICBhc3luYyBnZXRMaW5rcyAoY3R4KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBMaW5rcy5maW5kKHsgdHlwZTogJ2xpbmtzJyB9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmn6Xor6LmuKnppqjmj5DphpJcclxuICBhc3luYyBnZXRUaXBzIChjdHgpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IExpbmtzLmZpbmQoeyB0eXBlOiAndGlwcycgfSlcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5pys5ZGo54Ot6K6uXHJcbiAgYXN5bmMgZ2V0VG9wV2VlayAoY3R4KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldFRvcFdlZWsoKVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDkuIrkvKDlm77niYfmjqXlj6NcclxuICBhc3luYyB1cGxvYWRJbWcgKGN0eCkge1xyXG4gICAgLy8gZmlsZXPmmK/or7fmsYLlr7nosaEsZmlsZeaYr+WJjeerr2Zvcm1EYXRh5LitYXBwZW5k55qE6YKj5LiqJ2ZpbGUnXHJcbiAgICBjb25zdCBmaWxlID0gY3R4LnJlcXVlc3QuZmlsZXMuZmlsZVxyXG4gICAgLy8g5Y+W5Zu+54mH5ZCN56ew44CB5Zu+54mH5qC85byP44CB5a2Y5YKo5L2N572u44CB6L+U5Zue5YmN5Y+w5Y+v5Lul6K+75Y+W55qE6Lev5b6EXHJcbiAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKSAvLyDlj5blm77niYfmoLzlvI9cclxuICAgIC8vIOaLvOaOpeWtmOWCqOi3r+W+hOebruW9lVxyXG4gICAgY29uc3QgZGlyID0gYCR7Y29uZmlnLnVwbG9hZFBhdGh9LyR7bW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfWBcclxuXHJcbiAgICAvLyDliKTmlq3ot6/lvoTmmK/lkKblrZjlnKgs5LiN5a2Y5Zyo5YiZ5Yib5bu6XHJcbiAgICAvLyBhd2FpdCBkaXJFeGlzdHMoZGlyKSAgLy8gbWFrZS1kaXLljIXkvZznlKjkuLrliJvlu7rnm67lvZXot6/lvoRcclxuICAgIGF3YWl0IG1rZGlyKGRpcilcclxuXHJcbiAgICAvLyDlrZjlgqjmlofku7bliLDmjIflrprot68s57uZ5paH5Lu25LiA5Liq5ZSv5LiA55qE5ZCN56ewXHJcbiAgICBjb25zdCBwaWNuYW1lID0gdXVpZCgpXHJcbiAgICBjb25zdCBkZXN0UGF0aCA9IGAke2Rpcn0vJHtwaWNuYW1lfS4ke2V4dH1gXHJcbiAgICBjb25zdCByZWFkZXIgPSBmcy5jcmVhdGVSZWFkU3RyZWFtKGZpbGUucGF0aCkgLy8g6K+75paH5Lu2XHJcbiAgICBjb25zdCB1cFN0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGRlc3RQYXRoKSAvLyDlhpnmlofku7ZcclxuICAgIC8vIOi/lOWbnue7meWJjeerr+eahOaWh+S7tui3r+W+hFxyXG4gICAgY29uc3QgZmlsZVBhdGggPSBgLyR7bW9tZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfS8ke3BpY25hbWV9LiR7ZXh0fWAgXHJcbiAgICBcclxuICAgIC8vIOaWueazlTFcclxuICAgIC8vIHJlYWRlci5waXBlKHVwU3RyZWFtKSAvLyDliKnnlKjnrqHpgZPor7vlhpnmlofku7ZcclxuXHJcbiAgICAvLyDmlrnms5UyXHJcbiAgICBsZXQgdG90YWxMZW5ndGggPSAwXHJcbiAgICByZWFkZXIub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcclxuICAgICAgLy8g55uR5ZCsZGF0YeS6i+S7tizliIblnZfor7vlj5bmlofku7ZcclxuICAgICAgdG90YWxMZW5ndGggKz0gY2h1bmsubGVuZ3RoXHJcbiAgICAgIC8vIOS4gOWdl+Wdl+WGmeWFpVxyXG4gICAgICBpZiAodXBTdHJlYW0ud3JpdGUoY2h1bmspID09PSBmYWxzZSl7XHJcbiAgICAgICAgLy8g5b2T5YaZ5YWlY2h1bmvkuLow5pe25YiZ5paH5Lu26K+75Y+W57uT5p2fLOWGmeWFpeS4ujDml7bov5Tlm55mYWxzZeWBnOatouivu+WPllxyXG4gICAgICAgIHJlYWRlci5wYXVzZSgpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyDnu6fnu63or7vlj5ZcclxuICAgIHJlYWRlci5vbignZHJhaW4nLCAoKSA9PiB7XHJcbiAgICAgIHJlYWRlci5yZXN1bWUoKVxyXG4gICAgfSlcclxuICAgIC8vIOe7k+adn+WGmeWFpVxyXG4gICAgcmVhZGVyLm9uKCdlbmQnLCAoKSA9PiB7XHJcbiAgICAgIHVwU3RyZWFtLmVuZCgpXHJcbiAgICB9KVxyXG5cclxuICAgIGN0eC5ib2R5ID17XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgbXNnOiAn5Zu+54mH5LiK5Lyg5oiQ5YqfJyxcclxuICAgICAgZGF0YTogZmlsZVBhdGhcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOWPkeihqOaWsOW4llxyXG4gIGFzeW5jIGFkZFBvc3QgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcclxuICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcclxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAgIC8vIOWIpOaWreeUqOaIt+enr+WIhuaVsOaYr+WQpui2s+Wkn1xyXG4gICAgICAvLyDnlKjmiLfnp6/liIbotrPlpJ8s5Y+R6KGo5biW5a2QLOWHj+mZpOeUqOaIt+WvueW6lOenr+WIhlxyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh7X2lkOiBvYmouX2lkfSlcclxuICAgICAgaWYgKHVzZXIuZmF2cyA8IGJvZHkuZmF2KSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDEsXHJcbiAgICAgICAgICBtc2c6ICfnp6/liIbkuI3otrMnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIOaJo+mZpOenr+WIhlxyXG4gICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtfaWQ6IG9iai5faWR9LCB7ICRpbmM6IHsgZmF2czogLWJvZHkuZmF2fSB9KVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IG5ld1Bvc3QgPSBuZXcgUG9zdChib2R5KVxyXG4gICAgICAvLyDluJblrZB1aWTnrYnkuo7lj5HluJbkurrnmoRfaWRcclxuICAgICAgbmV3UG9zdC51aWQgPSBvYmouX2lkXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ld1Bvc3Quc2F2ZSgpXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICflj5HluIPmiJDlip8nLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDpqozor4HlpLHotKVcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggemqjOivgeWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5paH56ug6K+m5oOFXHJcbiAgYXN5bmMgZ2V0UG9zdERldGFpbCAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGlmICghcGFyYW1zLnRpZCkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5paH56ugaWTkuLrnqbonXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlUaWQocGFyYW1zLnRpZClcclxuICAgIGlmICghcG9zdCkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YToge30sXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5paH56ug6K+m5oOF5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGV0IGlzRmF2ID0gMCAvLyDliKTmlq3mlLbol4/nmoTlj5jph49cclxuICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpuS8oOmAkkF1dGhvcml6YXRpb27nmoTmlbDmja7vvIzljbPmmK/lkKbnmbvlvZVcclxuICAgIGlmIChcclxuICAgICAgdHlwZW9mIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgY3R4LmhlYWRlci5hdXRob3JpemF0aW9uICE9PSAnJ1xyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgICAvLyDmn6Xor6LnlKjmiLfmlLbol4/orrDlvZVcclxuICAgICAgY29uc3QgdXNlckNvbGxlY3QgPSBhd2FpdCBVc2VyQ29sbGVjdC5maW5kT25lKHtcclxuICAgICAgICB1aWQ6IG9iai5faWQsXHJcbiAgICAgICAgdGlkOiBwYXJhbXMudGlkXHJcbiAgICAgIH0pXHJcbiAgICAgIC8vIOWmguaenOacieaUtuiXj+iusOW9leWImWlzRmF2572u5Li6MVxyXG4gICAgICBpZiAodXNlckNvbGxlY3QgJiYgdXNlckNvbGxlY3QudGlkKSB7XHJcbiAgICAgICAgaXNGYXYgPSAxXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IG5ld1Bvc3QgPSBwb3N0LnRvSlNPTigpXHJcbiAgICBuZXdQb3N0LmlzRmF2ID0gaXNGYXZcclxuICAgIC8vIOabtOaWsOaWh+eroOmYheivu+iusOaVsFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoXHJcbiAgICAgIHsgX2lkOiBwYXJhbXMudGlkIH0sXHJcbiAgICAgIHsgJGluYzogeyByZWFkczogMSB9IH1cclxuICAgIClcclxuICAgIGlmIChwb3N0Ll9pZCAmJiByZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIGRhdGE6IG5ld1Bvc3QsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5paH56ug6K+m5oOF5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn6I635Y+W5paH56ug6K+m5oOF5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHsgX2lkOiBwYXJhbXMudGlkIH0pXHJcbiAgICAvLyBjb25zdCByZXN1bHQgPSByZW5hbWUocG9zdC50b0pTT04oKSwgJ3VpZCcsICd1c2VyJylcclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOW4luWtkFxyXG4gIGFzeW5jIHVwZGF0ZVBvc3QgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcclxuICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcclxuXHJcbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHnmoTml7bmlYjmgKfjgIHmraPnoa7mgKdcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgICAvLyDliKTmlq3luJblrZDkvZzogIXmmK/lkKbkuLrmnKzkurpcclxuICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogYm9keS50aWQgfSlcclxuICAgICAgLy8g5Yik5pat5biW5a2Q5piv5ZCm57uT6LS0XHJcbiAgICAgIGlmIChwb3N0LnVpZCA9PT0gb2JqLl9pZCAmJiBwb3N0LmlzRW5kID09PSAnMCcpIHtcclxuICAgICAgICAvLyDmm7TmlrDluJblrZBcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LnVwZGF0ZU9uZSh7IF9pZDogYm9keS50aWQgfSwgYm9keSlcclxuICAgICAgICBcclxuICAgICAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgICAgIG1zZzogJ+abtOaWsOW4luWtkOaIkOWKnydcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBtc2c6ICfnvJbovpHluJblrZDvvIzmm7TmlrDlpLHotKUnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgICAgbXNnOiAn5bey57uT5biWLOayoeacieaTjeS9nOeahOadg+mZkCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOWbvueJh+mqjOivgeeggemqjOivgeWksei0pVxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDnrqHnkIbmm7TmlrDluJblrZBcclxuICBhc3luYyB1cGRhdGVQb3N0QnlUaWQgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoeyBfaWQ6IGJvZHkuX2lkIH0sIGJvZHkpXHJcbiAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgbXNnOiAn5pu05paw5biW5a2Q5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIG1zZzogJ+e8lui+keW4luWtkCzmm7TmlrDlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bnlKjmiLflj5HluJborrDlvZVcclxuICBhc3luYyBnZXRQb3N0QnlVaWQgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICAvLyDojrflj5bnlKjmiLfkv6Hmga9cclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgLy8g5p+l6K+i55So5oi35Y+R6KGo55qE5biW5a2QXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3RCeVVpZChcclxuICAgICAgb2JqLl9pZCxcclxuICAgICAgcGFyYW1zLnBhZ2UsXHJcbiAgICAgIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxyXG4gICAgKVxyXG4gICAgLy8g57uf6K6h55So5oi35Y+R5biW5oC75pWwXHJcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFBvc3QuY291bnRCeVVpZChvYmouX2lkKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgdG90YWwsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDliKDpmaTmjIflrprluJblrZBcclxuICBhc3luYyBkZWxldGVQb3N0QnlVaWQgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoe3VpZDogb2JqLl9pZCwgX2lkOiBwYXJhbXMudGlkfSlcclxuXHJcbiAgICAvLyDliKTmlq3luJblrZDmmK/lkKblt7Lnu5PluJYs6Iul5bey57uT5biW5YiZ5LiN5YeG5Yig6ZmkXHJcbiAgICBpZiAocG9zdC5pZCA9PT0gcGFyYW1zLnRpZCAmJiBwb3N0LmlzRW5kID09PSAnMCcpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5kZWxldGVPbmUoe19pZDogcGFyYW1zLnRpZH0pXHJcbiAgICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICBtc2c6ICfmiafooYzliKDpmaTlpLHotKUnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5Yig6Zmk5aSx6LSlLOaXoOadg+mZkCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UG9zdFB1YmxpYyAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdEJ5VWlkKFxyXG4gICAgICBwYXJhbXMudWlkLFxyXG4gICAgICBwYXJhbXMucGFnZSxcclxuICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXHJcbiAgICApXHJcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFBvc3QuY291bnRCeVVpZChwYXJhbXMudWlkKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgdG90YWwsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDnrqHnkIbliKDpmaTluJblrZBcclxuICBhc3luYyBkZWxldGVQb3N0IChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5kZWxldGVPbmUoeyBfaWQ6IHBhcmFtcy50aWR9KVxyXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5omn6KGM5Yig6Zmk5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bmoIfnrb7liJfooahcclxuICBhc3luYyBnZXRUYWdzIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyc2VJbnQocGFyYW1zLnBhZ2UpIDogMFxyXG4gICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMTBcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3RUYWdzLmdldExpc3Qoe30sIHBhZ2UsIGxpbWl0KVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0VGFncy5jb3VudExpc3Qoe30pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIHRvdGFsLFxyXG4gICAgICBtc2c6ICfmn6Xor6J0YWdz5oiQ5Yqf77yBJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5re75Yqg5qCH562+XHJcbiAgYXN5bmMgYWRkVGFnIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHRhZyA9IG5ldyBQb3N0VGFncyhib2R5KVxyXG4gICAgYXdhaXQgdGFnLnNhdmUoKVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgbXNnOiAn5qCH562+5L+d5a2Y5oiQ5YqfJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5Yig6Zmk5qCH562+XHJcbiAgYXN5bmMgcmVtb3ZlVGFnIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdFRhZ3MuZGVsZXRlT25lKHsgX2lkOiBwYXJhbXMucHRpZCB9KVxyXG5cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5pu05paw5qCH562+XHJcbiAgYXN5bmMgdXBkYXRlVGFnIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3RUYWdzLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGJvZHkuX2lkIH0sXHJcbiAgICAgIGJvZHlcclxuICAgIClcclxuXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG1zZzogJ+abtOaWsOaIkOWKnydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOaJuemHj+abtOaWsFxyXG4gIGFzeW5jIHVwZGF0ZVBvc3RCYXRjaCAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LnVwZGF0ZU1hbnkoXHJcbiAgICAgIHsgX2lkOiB7ICRpbjogYm9keS5pZHMgfSB9LFxyXG4gICAgICB7ICRzZXQ6IHsgLi4uYm9keS5zZXR0aW5ncyB9IH1cclxuICAgIClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbnRlbnRDb250cm9sbGVyKClcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/ContentController.js\n");

/***/ }),

/***/ "./src/api/ErrorController.js":
/*!************************************!*\
  !*** ./src/api/ErrorController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/ErrorRecord */ \"./src/model/ErrorRecord.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nclass ErrorController {\n  // 获取错误日志\n  async getErrorList(ctx) {\n    const params = ctx.query; // 聚合查询method、code字段\n\n    const methodFilter = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n      $group: {\n        _id: '$method'\n      }\n    }, {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    const codeFilter = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].aggregate([{\n      $group: {\n        _id: '$code'\n      }\n    }, {\n      $sort: {\n        _id: 1\n      }\n    }]);\n    const obj = qs__WEBPACK_IMPORTED_MODULE_1___default.a.parse(params);\n    const query = obj.filter ? { ...obj.filter\n    } : {};\n\n    if (query.method) {\n      // 正则匹配\n      query.method = {\n        $regex: query.method,\n        $options: 'i'\n      };\n    } // 分页\n\n\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10; // { method: /get/i }\n\n    const result = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(query).skip((page - 1) * limit).limit(limit).sort({\n      created: -1\n    });\n    const total = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(query).countDocuments();\n    ctx.body = {\n      code: 200,\n      msg: '查询成功',\n      data: result,\n      total: total,\n      filters: {\n        method: methodFilter.map(o => {\n          return {\n            label: o._id,\n            value: o._id\n          };\n        }),\n        code: codeFilter.map(o => {\n          return {\n            label: o._id,\n            value: parseInt(o._id)\n          };\n        })\n      }\n    };\n  } // 删除错误日志\n\n\n  async deleteError(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    };\n  } // 用户保存错误日志\n\n\n  async addError(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const error = new _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const result = await error.save();\n    ctx.body = {\n      code: 200,\n      msg: '保存成功',\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ErrorController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0Vycm9yQ29udHJvbGxlci5qcz84NTAxIl0sIm5hbWVzIjpbIkVycm9yQ29udHJvbGxlciIsImdldEVycm9yTGlzdCIsImN0eCIsInBhcmFtcyIsInF1ZXJ5IiwibWV0aG9kRmlsdGVyIiwiRXJyb3JSZWNvcmQiLCJhZ2dyZWdhdGUiLCIkZ3JvdXAiLCJfaWQiLCIkc29ydCIsImNvZGVGaWx0ZXIiLCJvYmoiLCJxcyIsInBhcnNlIiwiZmlsdGVyIiwibWV0aG9kIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsInJlc3VsdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNyZWF0ZWQiLCJ0b3RhbCIsImNvdW50RG9jdW1lbnRzIiwiYm9keSIsImNvZGUiLCJtc2ciLCJkYXRhIiwiZmlsdGVycyIsIm1hcCIsIm8iLCJsYWJlbCIsInZhbHVlIiwiZGVsZXRlRXJyb3IiLCJyZXF1ZXN0IiwiZGVsZXRlTWFueSIsIiRpbiIsImlkcyIsImFkZEVycm9yIiwiZXJyb3IiLCJzYXZlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUEsTUFBTUEsZUFBTixDQUFzQjtBQUNwQjtBQUNBLFFBQU1DLFlBQU4sQ0FBbUJDLEdBQW5CLEVBQXdCO0FBQ3RCLFVBQU1DLE1BQU0sR0FBR0QsR0FBRyxDQUFDRSxLQUFuQixDQURzQixDQUV0Qjs7QUFDQSxVQUFNQyxZQUFZLEdBQUcsTUFBTUMsMERBQVcsQ0FBQ0MsU0FBWixDQUFzQixDQUFDO0FBQUVDLFlBQU0sRUFBRTtBQUFFQyxXQUFHLEVBQUU7QUFBUDtBQUFWLEtBQUQsRUFBaUM7QUFBRUMsV0FBSyxFQUFFO0FBQUVELFdBQUcsRUFBRTtBQUFQO0FBQVQsS0FBakMsQ0FBdEIsQ0FBM0I7QUFFQSxVQUFNRSxVQUFVLEdBQUcsTUFBTUwsMERBQVcsQ0FBQ0MsU0FBWixDQUFzQixDQUFDO0FBQUVDLFlBQU0sRUFBRTtB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Z0J1QixJQUFoQixDQUFkO0FBQ0EsVUFBTVAsTUFBTSxHQUFHLE1BQU1zQixLQUFLLENBQUNDLElBQU4sRUFBckI7QUFDQTNDLE9BQUcsQ0FBQzJCLElBQUosR0FBVztBQUNUQyxVQUFJLEVBQUUsR0FERztBQUVUQyxTQUFHLEVBQUUsTUFGSTtBQUdUQyxVQUFJLEVBQUVWO0FBSEcsS0FBWDtBQUtEOztBQWxFbUI7O0FBcUVQLG1FQUFJdEIsZUFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9FcnJvckNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXJyb3JSZWNvcmQgZnJvbSAnLi4vbW9kZWwvRXJyb3JSZWNvcmQnXHJcbmltcG9ydCBxcyBmcm9tICdxcydcclxuXHJcbmNsYXNzIEVycm9yQ29udHJvbGxlciB7XHJcbiAgLy8g6I635Y+W6ZSZ6K+v5pel5b+XXHJcbiAgYXN5bmMgZ2V0RXJyb3JMaXN0KGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICAvLyDogZrlkIjmn6Xor6JtZXRob2TjgIFjb2Rl5a2X5q61XHJcbiAgICBjb25zdCBtZXRob2RGaWx0ZXIgPSBhd2FpdCBFcnJvclJlY29yZC5hZ2dyZWdhdGUoW3sgJGdyb3VwOiB7IF9pZDogJyRtZXRob2QnIH0gfSwgeyAkc29ydDogeyBfaWQ6IDEgfSB9XSlcclxuXHJcbiAgICBjb25zdCBjb2RlRmlsdGVyID0gYXdhaXQgRXJyb3JSZWNvcmQuYWdncmVnYXRlKFt7ICRncm91cDogeyBfaWQ6ICckY29kZScgfSB9LCB7ICRzb3J0OiB7IF9pZDogMSB9IH1dKVxyXG5cclxuICAgIGNvbnN0IG9iaiA9IHFzLnBhcnNlKHBhcmFtcylcclxuICAgIGNvbnN0IHF1ZXJ5ID0gb2JqLmZpbHRlciA/IHsgLi4ub2JqLmZpbHRlciB9IDoge31cclxuICAgIGlmIChxdWVyeS5tZXRob2QpIHtcclxuICAgICAgLy8g5q2j5YiZ5Yy56YWNXHJcbiAgICAgIHF1ZXJ5Lm1ldGhvZCA9IHsgJHJlZ2V4OiBxdWVyeS5tZXRob2QsICRvcHRpb25zOiAnaScgfVxyXG4gICAgfVxyXG4gICAgLy8g5YiG6aG1XHJcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJzZUludChwYXJhbXMucGFnZSkgOiAwXHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxyXG5cclxuICAgIC8vIHsgbWV0aG9kOiAvZ2V0L2kgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgRXJyb3JSZWNvcmQuZmluZChxdWVyeSkuc2tpcCgocGFnZSAtIDEpICogbGltaXQpLmxpbWl0KGxpbWl0KS5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgRXJyb3JSZWNvcmQuZmluZChxdWVyeSkuY291bnREb2N1bWVudHMoKVxyXG5cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIG1zZzogJ+afpeivouaIkOWKnycsXHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgdG90YWw6IHRvdGFsLFxyXG4gICAgICBmaWx0ZXJzOiB7XHJcbiAgICAgICAgbWV0aG9kOiBtZXRob2RGaWx0ZXIubWFwKG8gPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGFiZWw6IG8uX2lkLFxyXG4gICAgICAgICAgICB2YWx1ZTogby5faWRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSxcclxuICAgICAgICBjb2RlOiBjb2RlRmlsdGVyLm1hcChvID0+IHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBvLl9pZCxcclxuICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KG8uX2lkKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOWIoOmZpOmUmeivr+aXpeW/l1xyXG4gIGFzeW5jIGRlbGV0ZUVycm9yIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEVycm9yUmVjb3JkLmRlbGV0ZU1hbnkoeyBfaWQ6IHsgJGluOiBib2R5LmlkcyB9IH0pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBtc2c6ICfliKDpmaTmiJDlip8nLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOeUqOaIt+S/neWtmOmUmeivr+aXpeW/l1xyXG4gIGFzeW5jIGFkZEVycm9yIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yUmVjb3JkKGJvZHkpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlcnJvci5zYXZlKClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIG1zZzogJ+S/neWtmOaIkOWKnycsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IEVycm9yQ29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/ErrorController.js\n");

/***/ }),

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n    console.log(body);\n\n    try {\n      // body.username -> database -> email\n      let result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        code: '1234',\n        expire: moment__WEBPACK_IMPORTED_MODULE_1___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: 'Brian'\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件发送成功'\n      };\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async login(ctx) {\n    // 接收用户数据\n    // 验证图片验证码时效性、正确性\n    // 验证用户账号密码是否正确\n    // 返回token\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid; // 前端传递sid查找对应验证码\n\n    let code = body.code; // 校验验证码\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      // 验证用户账号密码是否正确\n      console.log('check ok');\n      let checkUserPassWd = false; // mongoDB查库\n\n      let user = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      }); // 校验密码\n\n      if (await bcryptjs__WEBPACK_IMPORTED_MODULE_6___default.a.compare(body.password, user.password)) {\n        checkUserPassWd = true;\n      }\n\n      if (checkUserPassWd) {\n        // 验证通过,返回token数据\n        console.log('hello login');\n        const userObj = user.toJSON(); // 不想传回前端的数据\n\n        const arr = ['password', 'username']; // 删除数据\n\n        arr.map(item => {\n          delete userObj[item];\n        }); // exp 设置token过期时间\n        // let token = jsonwebtoken.sign({_id:'brian', exp: Math.floor(Date.now() / 1000) + 60 * 60 *24}, config.JWT_SECRET)\n\n        let token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n          _id: userObj._id\n        }, _config_index__WEBPACK_IMPORTED_MODULE_3__[\"default\"].JWT_SECRET, {\n          expiresIn: '1d' // 另一种设置过期时间方法,1d为1天\n\n        }); // 加入isSign属性\n\n        const signRecord = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByUid(userObj._id);\n\n        if (signRecord !== null) {\n          // 有签到记录,判断今天是否签到了\n          if (moment__WEBPACK_IMPORTED_MODULE_1___default()(signRecord.created).format('YYYY-MM-DD') === moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD')) {\n            // 今天已经签到\n            userObj.isSign = true;\n          } else {\n            // 今天没签到\n            userObj.isSign = false;\n          }\n\n          userObj.lastSign = signRecord.created;\n        } else {\n          // 用户无签到记录\n          userObj.isSign = false;\n        }\n\n        ctx.body = {\n          code: 200,\n          data: userObj,\n          token: token\n        };\n      } else {\n        // 用户名、密码验证失败,返回提示\n        ctx.body = {\n          code: 404,\n          msg: '用户名或密码错误'\n        };\n      }\n    } else {\n      // 图片验证码校验失败\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确,请检查'\n      };\n    } // console.log('hello login')\n\n  }\n\n  async reg(ctx) {\n    // 接收客户端数据\n    const {\n      body\n    } = ctx.request; // 校验验证码 时效性、有效性\n\n    let sid = body.sid;\n    let code = body.code;\n    let msg = {}; // 验证图片验证码时效性\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n    let check = true;\n\n    if (result) {\n      // 查库 看username、name是否被注册\n      let user1 = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (user1 !== null && typeof user1.username !== 'undefined') {\n        msg.username = ['此邮箱已被注册,可以通过邮箱找回密码'];\n        check = false;\n      }\n\n      let user2 = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        name: body.name\n      });\n\n      if (user2 !== null && typeof user2.name !== 'undefined') {\n        msg.name = ['此昵称已被注册,请修改'];\n        check = false;\n      } // 写入数据到数据库\n\n\n      if (check) {\n        // 密码加密存储\n        body.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_6___default.a.hash(body.password, 5);\n        let user = new _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n          username: body.username,\n          name: body.name,\n          password: body.password,\n          created: moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss')\n        }); // 存储\n\n        let result = await user.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '注册成功'\n        };\n        return;\n      }\n    } else {\n      // 给veevalidate显示的错误\n      msg.code = ['验证码已失效,请重新获取'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg: msg\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZm9yZ2V0IiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0Iiwic2VuZCIsImNvZGUiLCJleHBpcmUiLCJtb21lbnQiLCJhZGQiLCJmb3JtYXQiLCJlbWFpbCIsInVzZXJuYW1lIiwidXNlciIsImRhdGEiLCJtc2ciLCJlIiwibG9naW4iLCJzaWQiLCJjaGVja0NvZGUiLCJjaGVja1VzZXJQYXNzV2QiLCJVc2VyIiwiZmluZE9uZSIsImJjcnlwdGpzIiwiY29tcGFyZSIsInBhc3N3b3JkIiwidXNlck9iaiIsInRvSlNPTiIsImFyciIsIm1hcCIsIml0ZW0iLCJ0b2tlbiIsImpzb253ZWJ0b2tlbiIsInNpZ24iLCJfaWQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwic2lnblJlY29yZCIsIlNpZ25SZWNvcmQiLCJmaW5kQnlVaWQiLCJjcmVhdGVkIiwiaXNTaWduIiwibGFzdFNpZ24iLCJyZWciLCJjaGVjayIsInVzZXIxIiwidXNlcjIiLCJuYW1lIiwiaGFzaCIsInNhdmUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsZUFBTixDQUFzQjtBQUNwQkMsYUFBVyxHQUFHLENBQUU7O0FBQ2hCLFFBQU1DLE1BQU4sQ0FBY0MsR0FBZCxFQUFtQjtBQUNqQixVQUFNO0FBQUVDO0FBQUYsUUFBV0QsR0FBRyxDQUFDRSxPQUFyQjtBQUNBQyxXQUFPLENBQUNDLEdBQVIsQ0FBWUgsSUFBWjs7QUFFQSxRQUFJO0FBQ0Y7QUFDQSxVQUFJSSxNQUFNLEdBQUcsTUFBTUMsa0VBQUks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Q1RNLFVBQUksRUFBRSxHQURHO0FBRVRTLFNBQUcsRUFBRUE7QUFGSSxLQUFYO0FBSUQ7O0FBOUptQjs7QUFpS1AsbUVBQUluQixlQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZW5kIGZyb20gJy4uL2NvbmZpZy9NYWlsQ29uZmlnJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXG5pbXBvcnQganNvbndlYnRva2VuIGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xuaW1wb3J0IHsgY2hlY2tDb2RlIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWwvVXNlcidcbmltcG9ydCBiY3J5cHRqcyBmcm9tICdiY3J5cHRqcydcbmltcG9ydCBTaWduUmVjb3JkIGZyb20gJy4uL21vZGVsL1NpZ25SZWNvcmQnXG5cbmNsYXNzIExvZ2luQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgYXN5bmMgZm9yZ2V0IChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc29sZS5sb2coYm9keSlcbiAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIGJvZHkudXNlcm5hbWUgLT4gZGF0YWJhc2UgLT4gZW1haWxcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBzZW5kKHtcbiAgICAgICAgY29kZTogJzEyMzQnLFxuICAgICAgICBleHBpcmU6IG1vbWVudCgpXG4gICAgICAgICAgLmFkZCgzMCwgJ21pbnV0ZXMnKVxuICAgICAgICAgIC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcbiAgICAgICAgZW1haWw6IGJvZHkudXNlcm5hbWUsXG4gICAgICAgIHVzZXI6ICdCcmlhbicsXG4gICAgICB9KVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICBtc2c6ICfpgq7ku7blj5HpgIHmiJDlip8nLFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9naW4gKGN0eCkge1xuICAgIC8vIOaOpeaUtueUqOaIt+aVsOaNrlxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeaXtuaViOaAp+OAgeato+ehruaAp1xuICAgIC8vIOmqjOivgeeUqOaIt+i0puWPt+WvhueggeaYr+WQpuato+ehrlxuICAgIC8vIOi/lOWbnnRva2VuXG5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgbGV0IHNpZCA9IGJvZHkuc2lkIC8vIOWJjeerr+S8oOmAknNpZOafpeaJvuWvueW6lOmqjOivgeeggVxuICAgIGxldCBjb2RlID0gYm9keS5jb2RlXG4gICAgXG4gICAgLy8g5qCh6aqM6aqM6K+B56CBXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXG4gICAgXG4gICAgaWYocmVzdWx0KXtcbiAgICAgIC8vIOmqjOivgeeUqOaIt+i0puWPt+WvhueggeaYr+WQpuato+ehrlxuICAgICAgY29uc29sZS5sb2coJ2NoZWNrIG9rJylcbiAgICAgIGxldCBjaGVja1VzZXJQYXNzV2QgPSBmYWxzZVxuICAgICAgLy8gbW9uZ29EQuafpeW6k1xuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe3VzZXJuYW1lOiBib2R5LnVzZXJuYW1lfSlcbiAgICAgIC8vIOagoemqjOWvhueggVxuICAgICAgaWYoYXdhaXQgYmNyeXB0anMuY29tcGFyZShib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSl7XG4gICAgICAgIGNoZWNrVXNlclBhc3NXZCA9IHRydWVcbiAgICAgIH1cbiAgICAgIGlmKGNoZWNrVXNlclBhc3NXZCl7XG4gICAgICAgIC8vIOmqjOivgemAmui/hyzov5Tlm550b2tlbuaVsOaNrlxuICAgICAgICBjb25zb2xlLmxvZygnaGVsbG8gbG9naW4nKVxuXG4gICAgICAgIGNvbnN0IHVzZXJPYmogPSB1c2VyLnRvSlNPTigpXG4gICAgICAgIC8vIOS4jeaDs+S8oOWbnuWJjeerr+eahOaVsOaNrlxuICAgICAgICBjb25zdCBhcnIgPSBbJ3Bhc3N3b3JkJywgJ3VzZXJuYW1lJ11cbiAgICAgICAgLy8g5Yig6Zmk5pWw5o2uXG4gICAgICAgIGFyci5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICBkZWxldGUgdXNlck9ialtpdGVtXVxuICAgICAgICB9KVxuICAgICAgICAvLyBleHAg6K6+572udG9rZW7ov4fmnJ/ml7bpl7RcbiAgICAgICAgLy8gbGV0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oe19pZDonYnJpYW4nLCBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCAqMjR9LCBjb25maWcuSldUX1NFQ1JFVClcbiAgICAgICAgbGV0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oe19pZDogdXNlck9iai5faWR9LCBjb25maWcuSldUX1NFQ1JFVCwge1xuICAgICAgICAgIGV4cGlyZXNJbjogJzFkJyAvLyDlj6bkuIDnp43orr7nva7ov4fmnJ/ml7bpl7Tmlrnms5UsMWTkuLox5aSpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8g5Yqg5YWlaXNTaWdu5bGe5oCnXG4gICAgICAgIGNvbnN0IHNpZ25SZWNvcmQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmRCeVVpZCh1c2VyT2JqLl9pZClcbiAgICAgICAgaWYgKHNpZ25SZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyDmnInnrb7liLDorrDlvZUs5Yik5pat5LuK5aSp5piv5ZCm562+5Yiw5LqGXG4gICAgICAgICAgaWYgKG1vbWVudChzaWduUmVjb3JkLmNyZWF0ZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSkge1xuICAgICAgICAgICAgLy8g5LuK5aSp5bey57uP562+5YiwXG4gICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5LuK5aSp5rKh562+5YiwXG4gICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIHVzZXJPYmoubGFzdFNpZ24gPSBzaWduUmVjb3JkLmNyZWF0ZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDnlKjmiLfml6Dnrb7liLDorrDlvZVcbiAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YTogdXNlck9iaixcbiAgICAgICAgICB0b2tlbjogdG9rZW5cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g55So5oi35ZCN44CB5a+G56CB6aqM6K+B5aSx6LSlLOi/lOWbnuaPkOekulxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgbXNnOiAn55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vJ1xuICAgICAgICB9XG4gICAgICB9ICBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5Zu+54mH6aqM6K+B56CB5qCh6aqM5aSx6LSlXG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHkuI3mraPnoa4s6K+35qOA5p+lJ1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygnaGVsbG8gbG9naW4nKVxuICB9XG5cbiAgYXN5bmMgcmVnIChjdHgpIHtcbiAgICAvLyDmjqXmlLblrqLmiLfnq6/mlbDmja5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgLy8g5qCh6aqM6aqM6K+B56CBIOaXtuaViOaAp+OAgeacieaViOaAp1xuICAgIGxldCBzaWQgPSBib2R5LnNpZFxuICAgIGxldCBjb2RlID0gYm9keS5jb2RlXG4gICAgbGV0IG1zZyA9IHt9XG5cbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHml7bmlYjmgKdcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcbiAgICBsZXQgY2hlY2sgPSB0cnVlXG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAvLyDmn6XlupMg55yLdXNlcm5hbWXjgIFuYW1l5piv5ZCm6KKr5rOo5YaMXG4gICAgICBsZXQgdXNlcjEgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe3VzZXJuYW1lOiBib2R5LnVzZXJuYW1lfSlcbiAgICAgIGlmICh1c2VyMSAhPT0gbnVsbCAmJiB0eXBlb2YgdXNlcjEudXNlcm5hbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1zZy51c2VybmFtZSA9IFsn5q2k6YKu566x5bey6KKr5rOo5YaMLOWPr+S7pemAmui/h+mCrueuseaJvuWbnuWvhueggSddXG4gICAgICAgIGNoZWNrID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgbGV0IHVzZXIyID0gYXdhaXQgVXNlci5maW5kT25lKHtuYW1lOiBib2R5Lm5hbWV9KVxuICAgICAgaWYgKHVzZXIyICE9PSBudWxsICYmIHR5cGVvZiB1c2VyMi5uYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtc2cubmFtZSA9IFsn5q2k5pi156ew5bey6KKr5rOo5YaMLOivt+S/ruaUuSddXG4gICAgICAgIGNoZWNrID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgLy8g5YaZ5YWl5pWw5o2u5Yiw5pWw5o2u5bqTXG4gICAgICBpZiAoY2hlY2spIHtcbiAgICAgICAgLy8g5a+G56CB5Yqg5a+G5a2Y5YKoXG4gICAgICAgIGJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHRqcy5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXG4gICAgICAgIGxldCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lLFxuICAgICAgICAgIG5hbWU6IGJvZHkubmFtZSxcbiAgICAgICAgICBwYXNzd29yZDogYm9keS5wYXNzd29yZCxcbiAgICAgICAgICBjcmVhdGVkOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxuICAgICAgICB9KVxuICAgICAgICAvLyDlrZjlgqhcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHVzZXIuc2F2ZSgpXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgbXNnOiAn5rOo5YaM5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyDnu5l2ZWV2YWxpZGF0ZeaYvuekuueahOmUmeivr1xuICAgICAgbXNnLmNvZGUgPSBbJ+mqjOivgeeggeW3suWkseaViCzor7fph43mlrDojrflj5YnXVxuICAgIH1cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDUwMCxcbiAgICAgIG1zZzogbXNnXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n\n\n\nclass PublicController {\n  constructor() {} // 获取验证码\n\n\n  async getCaptcha(ctx) {\n    const body = ctx.request.query; // sid为前端生成的唯一标识符，与验证码一起存入redis方便校验验证码\n\n    console.log(body.sid);\n    const newCaptca = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      size: 4,\n      // 验证码长度\n      ignoreChars: '0o1il',\n      // 忽略指定数字字符\n      color: true,\n      // 有颜色\n      noise: Math.floor(Math.random() * 5),\n      // 干扰线\n      width: 150,\n      // 图片宽度\n      height: 38 // 图片长度\n\n    }); // 把验证码和对应标识符存储到redis中,并设置超时时间为10分钟\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"setValue\"])(body.sid, newCaptca.text, 10 * 60);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJuYW1lcyI6WyJQdWJsaWNDb250cm9sbGVyIiwiY29uc3RydWN0b3IiLCJnZXRDYXB0Y2hhIiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJxdWVyeSIsImNvbnNvbGUiLCJsb2ciLCJzaWQiLCJuZXdDYXB0Y2EiLCJzdmdDYXB0Y2hhIiwiY3JlYXRlIiwic2l6ZSIsImlnbm9yZUNoYXJzIiwiY29sb3IiLCJub2lzZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0VmFsdWUiLCJ0ZXh0IiwiY29kZSIsImRhdGEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFDQSxNQUFNQSxnQkFBTixDQUF1QjtBQUNyQkMsYUFBVyxHQUFHLENBQUUsQ0FESyxDQUVyQjs7O0FBQ0EsUUFBTUMsVUFBTixDQUFpQkMsR0FBakIsRUFBc0I7QUFDcEIsVUFBTUMsSUFBSSxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBekIsQ0FEb0IsQ0FFcEI7O0FBQ0FDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZSixJQUFJLENBQUNLLEdBQWpCO0FBQ0EsVUFBTUMsU0FBUyxHQUFHQyxrREFBVSxDQUFDQyxNQUFYLENBQWtCO0FBQ2xDQyxVQUFJLEVBQUUsQ0FENEI7QUFDekI7QUFDVEMsaUJBQVcsRUFBRSxPQUZxQjtBQUVaO0FBQ3RCQyxXQUFLLEVBQUUsSUFIMkI7QUFHckI7QUFDYkMsV0FBSyxFQUFFQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCLENBQTNCLENBSjJCO0FBSUk7QUFDdENDLFdBQUssRUFBRSxHQUwyQjtBQUt0QjtBQUNaQyxZQUFNLEVBQUUsRUFOMEIsQ0FNdEI7O0FBTnNCLEtBQWxCLENBQWxCLENBSm9CLENBWXBCOztBQUNBQyx3RUFBUSxDQUFDbEIsSUFBSSxDQUFDSyxHQUFOLEVBQVdDLFNBQVMsQ0FBQ2EsSUFBckIsRUFBMkIsS0FBSyxFQUFoQyxDQUFSO0FBRUFwQixPQUFHLENBQUNDLElBQUosR0FBVztBQUNUb0IsVUFBSSxFQUFFLEdBREc7QUFFVEMsVUFBSSxFQUFFZixTQUFTLENBQUNlO0FBRlAsS0FBWDtBQUlEOztBQXRCb0I7O0FBeUJSLG1FQUFJekIsZ0JBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvUHVibGljQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdmdDYXB0Y2hhIGZyb20gJ3N2Zy1jYXB0Y2hhJ1xuaW1wb3J0IHsgZ2V0VmFsdWUsIHNldFZhbHVlIH0gZnJvbSAnLi4vY29uZmlnL1JlZGlzQ29uZmlnJ1xuY2xhc3MgUHVibGljQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgLy8g6I635Y+W6aqM6K+B56CBXG4gIGFzeW5jIGdldENhcHRjaGEoY3R4KSB7XG4gICAgY29uc3QgYm9keSA9IGN0eC5yZXF1ZXN0LnF1ZXJ5XG4gICAgLy8gc2lk5Li65YmN56uv55Sf5oiQ55qE5ZSv5LiA5qCH6K+G56ym77yM5LiO6aqM6K+B56CB5LiA6LW35a2Y5YWlcmVkaXPmlrnkvr/moKHpqozpqozor4HnoIFcbiAgICBjb25zb2xlLmxvZyhib2R5LnNpZClcbiAgICBjb25zdCBuZXdDYXB0Y2EgPSBzdmdDYXB0Y2hhLmNyZWF0ZSh7XG4gICAgICBzaXplOiA0LCAvLyDpqozor4HnoIHplb/luqZcbiAgICAgIGlnbm9yZUNoYXJzOiAnMG8xaWwnLCAvLyDlv73nlaXmjIflrprmlbDlrZflrZfnrKZcbiAgICAgIGNvbG9yOiB0cnVlLCAvLyDmnInpopzoibJcbiAgICAgIG5vaXNlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSwgLy8g5bmy5omw57q/XG4gICAgICB3aWR0aDogMTUwLCAvLyDlm77niYflrr3luqZcbiAgICAgIGhlaWdodDogMzgsIC8vIOWbvueJh+mVv+W6plxuICAgIH0pXG4gICAgLy8g5oqK6aqM6K+B56CB5ZKM5a+55bqU5qCH6K+G56ym5a2Y5YKo5YiwcmVkaXPkuK0s5bm26K6+572u6LaF5pe25pe26Ze05Li6MTDliIbpkp9cbiAgICBzZXRWYWx1ZShib2R5LnNpZCwgbmV3Q2FwdGNhLnRleHQsIDEwICogNjApXG5cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IG5ld0NhcHRjYS5kYXRhLFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHVibGljQ29udHJvbGxlcigpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/api/UserController.js":
/*!***********************************!*\
  !*** ./src/api/UserController.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid/v4 */ \"uuid/v4\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass UserController {\n  // 管理员登录\n  async login(ctx) {\n    // 接收用户数据\n    // 验证图片验证码时效性、正确性\n    // 验证用户账号密码是否正确\n    // 返回token\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid; // 前端传递sid查找对应验证码\n\n    let code = body.code; // 校验验证码\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"checkCode\"])(sid, code); // console.log('result: ',result)\n\n    if (result) {\n      // 验证用户账号密码是否正确\n      console.log('check');\n      let checkUserPassWd = false; // mongoDB查库\n\n      let user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      }); // console.log('user: ',user)\n      // 判断是否为管理员\n\n      if (user.roles.includes('admin') || user.roles.includes('super_admin')) {\n        // 校验密码\n        if (await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.compare(body.password, user.password)) {\n          checkUserPassWd = true;\n        }\n\n        if (checkUserPassWd) {\n          // 验证通过,返回token数据\n          console.log('hello login');\n          const userObj = user.toJSON(); // 不想传回前端的数据\n\n          const arr = ['password', 'username']; // 删除数据\n\n          arr.map(item => {\n            delete userObj[item];\n          }); // exp 设置token过期时间\n          // let token = jsonwebtoken.sign({_id:'brian', exp: Math.floor(Date.now() / 1000) + 60 * 60 *24}, config.JWT_SECRET)\n\n          let token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_8___default.a.sign({\n            _id: userObj._id\n          }, _config_index__WEBPACK_IMPORTED_MODULE_10__[\"default\"].JWT_SECRET, {\n            expiresIn: '1d' // 另一种设置过期时间方法,1d为1天\n\n          });\n          ctx.body = {\n            code: 200,\n            data: userObj,\n            token: token\n          };\n        } else {\n          // 用户名、密码验证失败,返回提示\n          ctx.body = {\n            code: 404,\n            msg: '用户名或密码错误'\n          };\n        }\n      } else {\n        // 图片验证码校验失败\n        ctx.body = {\n          code: 404,\n          msg: '不是管理员,无法登录后台'\n        };\n      } // console.log('hello login')\n\n    } else {\n      ctx.body = {\n        code: 401,\n        msg: '验证码错误'\n      };\n    }\n  } // 用户签到接口\n\n\n  async userSign(ctx) {\n    // 从token取用户ID,jsonwebtoken返回一个promise对象\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization); // 查询用户上一次签到记录\n\n    const record = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByUid(obj._id);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n    let result = '';\n    let newRecord = {}; // 判断签到逻辑\n\n    if (record !== null) {\n      // 有历史签到数据\n      // 判断用户上一次签到记录的created时间是否与今天相同\n      // 如果相同代表用户在连续签到\n      // 如果当前时间的日期与用户上一次签到日期相同,说明用户已经签到\n      if (dayjs__WEBPACK_IMPORTED_MODULE_5___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_5___default()().format('YYYY-MM-DD')) {\n        ctx.body = {\n          code: 500,\n          favs: user.favs,\n          count: user.count,\n          lastSign: record.created,\n          msg: '用户已经签到'\n        };\n        return;\n      } else {\n        // 有上一次的签到记录,并且不与今天相同,进行连续签到的判断\n        // 如果相同,代表用户在连续签到\n        let count = user.count;\n        let fav = 0; // 判断连续签到: 用户上一次签到时间等于当前时间的前一天,说明在连续签到\n        // moment().subtract(1, 'days').format('YYYY-MM-DD') 取昨天的日期\n\n        if (dayjs__WEBPACK_IMPORTED_MODULE_5___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_5___default()().subtract(1, 'days').format('YYYY-MM-DD')) {\n          // 连续签到积分获得逻辑\n          count += 1;\n\n          if (count < 5) {\n            fav = 5;\n          } else if (count >= 5 && count < 15) {\n            fav = 10;\n          } else if (count >= 15 && count < 30) {\n            fav = 15;\n          } else if (count >= 30 && count < 100) {\n            fav = 20;\n          } else if (count >= 100 && count < 365) {\n            fav = 30;\n          } else if (count >= 365) {\n            fav = 50;\n          } // 更新用户表数据\n\n\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $inc: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: user.count + 1\n          };\n        } else {\n          // 用户中断了签到\n          fav = 5;\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $set: {\n              count: 1\n            },\n            $inc: {\n              favs: fav\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: 1\n          };\n        } // 更新签到记录,每次签到就存入一条签到记录\n\n\n        newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n          uid: obj._id,\n          favs: fav\n        });\n        await newRecord.save();\n      }\n    } else {\n      // 无签到数据 -> 第一次签到\n      // 保存用户的签到数据  签到次数 + 积分数据\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        // count为连续签到次数\n        $set: {\n          count: 1\n        },\n        // 将User模型中的count设为1\n        $inc: {\n          favs: 5\n        } // 将User模型中的favs加5\n\n      }); // 保存用户的签到记录\n\n      newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        uid: obj._id,\n        favs: 5\n      });\n      await newRecord.save();\n      result = {\n        favs: user.favs + 5,\n        count: 1\n      };\n    }\n\n    ctx.body = {\n      code: 200,\n      msg: '请求成功',\n      ...result,\n      lastSign: newRecord.created\n    };\n  } // 更新用户基本信息接口\n\n\n  async updateUserInfo(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization); // 判断用户是否修改了邮箱\n\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n    let msg = '';\n\n    if (body.username && body.username !== user.username) {\n      // 用户修改了邮箱\n      // 发送reset邮件\n      // 判断用户新邮箱是否已经被注册\n      const tmpUser = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (tmpUser && tmpUser.password) {\n        ctx.body = {\n          code: 501,\n          msg: '邮箱已经被注册了'\n        };\n        return;\n      }\n\n      const key = uuid_v4__WEBPACK_IMPORTED_MODULE_7___default()(); // redis存储key值 30分钟过期\n\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_8___default.a.sign({\n        _id: obj._id\n      }, _config_index__WEBPACK_IMPORTED_MODULE_10__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m' // 30分钟过期\n\n      }));\n      const result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n        type: 'email',\n        data: {\n          key: key,\n          username: body.username\n        },\n        code: '',\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_5___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: user.name\n      });\n      msg = '更新基本资料成功,账号修改需要确认邮件,请查收邮件';\n    } // 更新除username外的其他数据\n\n\n    const arr = ['username', 'password', 'mobile']; // 排除掉username\n\n    arr.map(item => {\n      delete body[item];\n    });\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: obj._id\n    }, body);\n\n    if (result.n === 1 && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: msg === '' ? '更新成功' : msg\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新失败'\n      };\n    }\n  } // 更新用户名\n\n\n  async updateUsername(ctx) {\n    const body = ctx.query;\n\n    if (body.key) {\n      const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"getValue\"])(body.key);\n      const obj = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])('Bearer ' + token);\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        username: body.username\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户名成功'\n      };\n    }\n  } // 修改密码接口\n\n\n  async changePasswd(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n\n    if (await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.compare(body.oldpwd, user.password)) {\n      const newpasswd = await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.hash(body.newpwd, 5); // 更新密码\n\n      const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          password: newpasswd\n        }\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新密码成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '密码错误,请检查!'\n      };\n    }\n  } // 设置/取消收藏\n\n\n  async setCollect(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n\n    if (parseInt(params.isFav)) {\n      // 说明用户已经收藏了帖子\n      await _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"].deleteOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n      ctx.body = {\n        code: 200,\n        msg: '取消收藏成功'\n      };\n    } else {\n      // 首次收藏\n      const newCollect = new _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n        uid: obj._id,\n        tid: params.tid,\n        title: params.title\n      });\n      const result = await newCollect.save(); // 保存成功\n\n      if (result.uid) {\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '收藏成功'\n        };\n      }\n    }\n  } // 获取收藏列表\n\n\n  async getCollectByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n    const result = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 获取用户基本信息\n\n\n  async getBasicInfo(ctx) {\n    const params = ctx.query; // const obj = await getJWtPayload(ctx.header.authorization)\n\n    const uid = params.uid || ctx._id;\n    let user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(uid || obj._id); // 取得用户的签到记录 看日期有没有大于今天 0:00:00 的\n\n    user = user.toJSON();\n    const date = dayjs__WEBPACK_IMPORTED_MODULE_5___default()().format('YYYY-MM-DD');\n    const result = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: uid,\n      created: {\n        $gte: date + ' 00:00:00'\n      }\n    });\n\n    if (result && result.uid) {\n      user.isSign = true;\n    } else {\n      user.isSign = false;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: user,\n      msg: '查询成功！'\n    };\n  } // 获取消息,记录评论之后给作者发送消息\n\n\n  async getMsg(ctx) {\n    const params = ctx.query;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization); // 获取历史消息\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMsgList(obj._id, page, limit); // 有多少未读消息\n\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTotal(obj._id);\n    ctx.body = {\n      code: 200,\n      data: result,\n      total: num\n    };\n  } // 设置消息已读\n\n\n  async setMsg(ctx) {\n    const params = ctx.query; // 判断有无传id,有则设置一条消息已读,无则所有消息已读\n\n    if (params.id) {\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateOne({\n        _id: params.id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    } else {\n      // 设置所有消息\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateMany({\n        uid: obj._id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    }\n  } // 管理获取用户列表\n\n\n  async getUsers(ctx) {\n    let params = ctx.query;\n    params = qs__WEBPACK_IMPORTED_MODULE_12___default.a.parse(params);\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0;\n    const sort = params.sort || 'created';\n    const option = params.option || {};\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getList(option, sort, page, limit);\n    const total = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countList(option);\n    ctx.body = {\n      code: 200,\n      data: result,\n      total: total\n    };\n  } // 管理更新用户信息\n\n\n  async updateUserById(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: body._id\n    }); // 1.校验用户是否存在 -> 用户名是否冲突\n\n    if (!user) {\n      ctx.body = {\n        code: 500,\n        msg: '用户不存在或者id信息错误！'\n      };\n      return;\n    } // 2.判断密码是否传递 -> 进行加密保存\n\n\n    if (body.password) {\n      body.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.hash(body.password, 5);\n    }\n\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1 && result.nModified === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '更新成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务异常，更新失败'\n      };\n    }\n  } // 管理删除用户信息\n\n\n  async deleteUserById(ctx) {\n    const {\n      body\n    } = ctx.request; // const user = await User.findOne({ _id: body.ids })\n    // if (user) {\n\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteMany({\n      _id: {\n        $in: body.ids\n      }\n    });\n    ctx.body = {\n      code: 200,\n      msg: '删除成功',\n      data: result\n    }; // } else {\n    //   ctx.body = {\n    //     code: 500,\n    //     msg: '用户不存在或id错误'\n    //   }\n    // }\n  } // 校验用户名是否冲突\n\n\n  async checkUsername(ctx) {\n    const params = ctx.query;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      username: params.username\n    }); // 默认为1,  1-校验通过 0-校验失败\n\n    let result = 1;\n\n    if (user) {\n      result = 0;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '成功校验'\n    };\n  } // 管理添加用户\n\n\n  async addUser(ctx) {\n    const {\n      body\n    } = ctx.request;\n    body.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.hash(body.password, 5);\n    const user = new _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"](body);\n    const result = await user.save();\n    const userObj = result.toJSON();\n    const arr = ['password']; // 返回数据去掉密码\n\n    arr.map(item => {\n      delete userObj[item];\n    });\n\n    if (result) {\n      ctx.body = {\n        code: 200,\n        data: userObj,\n        msg: '添加用户成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务接口异常'\n      };\n    }\n  } // 管理批量设置\n\n\n  async updateUserBatch(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateMany({\n      _id: {\n        $in: body.ids\n      }\n    }, {\n      $set: { ...body.settings\n      }\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UserController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzP2I5YWYiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJsb2dpbiIsImN0eCIsImJvZHkiLCJyZXF1ZXN0Iiwic2lkIiwiY29kZSIsInJlc3VsdCIsImNoZWNrQ29kZSIsImNvbnNvbGUiLCJsb2ciLCJjaGVja1VzZXJQYXNzV2QiLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJ1c2VybmFtZSIsInJvbGVzIiwiaW5jbHVkZXMiLCJiY3J5cHRqcyIsImNvbXBhcmUiLCJwYXNzd29yZCIsInVzZXJPYmoiLCJ0b0pTT04iLCJhcnIiLCJtYXAiLCJpdGVtIiwidG9rZW4iLCJqc29ud2VidG9rZW4iLCJzaWduIiwiX2lkIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsImRhdGEiLCJtc2ciLCJ1c2VyU2lnbiIsIm9iaiIsImdldEpXdFBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwicmVjb3JkIiwiU2lnblJlY29yZCIsImZpbmRCeVVpZCIsImZpbmRCeUlEIiwibmV3UmVjb3JkIiwibW9tZW50IiwiY3JlYXRlZCIsImZvcm1hdCIsImZhdnMiLCJjb3VudCIsImxhc3RTaWduIiwiZmF2Iiwic3VidHJhY3QiLCJ1cGRhdGVPbmUiLCIkaW5jIiwiJHNldCIsInVpZCIsInNhdmUiLCJ1cGRhdGVVc2VySW5mbyIsInRtcFVzZXIiLCJrZXkiLCJ1dWlkIiwic2V0VmFsdWUiLCJqd3QiLCJzZW5kIiwidHlwZSIsImV4cGlyZSIsImFkZCIsImVtYWlsIiwibmFtZSIsIm4iLCJvayIsInVwZGF0ZVVzZXJuYW1lIiwicXVlcnkiLCJnZXRWYWx1ZSIsImNoYW5nZVBhc3N3ZCIsIm9sZHB3ZCIsIm5ld3Bhc3N3ZCIsImhhc2giLCJuZXdwd2QiLCJzZXRDb2xsZWN0IiwicGFyYW1zIiwicGFyc2VJbnQiLCJpc0ZhdiIsIlVzZXJDb2xsZWN0IiwiZGVsZXRlT25lIiwidGlkIiwibmV3Q29sbGVjdCIsInRpdGxlIiwiZ2V0Q29sbGVjdEJ5VWlkIiwiZ2V0TGlzdEJ5VWlkIiwicGFnZSIsImxpbWl0IiwidG90YWwiLCJjb3VudEJ5VWlkIiwibGVuZ3RoIiwiZ2V0QmFzaWNJbmZvIiwiZGF0ZSIsIiRndGUiLCJpc1NpZ24iLCJnZXRNc2ciLCJDb21tZW50cyIsImdldE1zZ0xpc3QiLCJudW0iLCJnZXRUb3RhbCIsInNldE1zZyIsImlkIiwiaXNSZWFkIiwidXBkYXRlTWFueSIsImdldFVzZXJzIiwicXMiLCJwYXJzZSIsInNvcnQiLCJvcHRpb24iLCJnZXRMaXN0IiwiY291bnRMaXN0IiwidXBkYXRlVXNlckJ5SWQiLCJuTW9kaWZpZWQiLCJkZWxldGVVc2VyQnlJZCIsImRlbGV0ZU1hbnkiLCIkaW4iLCJpZHMiLCJjaGVja1VzZXJuYW1lIiwiYWRkVXNlciIsInVwZGF0ZVVzZXJCYXRjaCIsInNldHRpbmdzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsY0FBTixDQUFxQjtBQUNuQjtBQUNBLFFBQU1DLEtBQU4sQ0FBYUMsR0FBYixFQUFrQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQU07QUFBRUM7QUFBRixRQUFXRCxHQUFHLENBQUNFLE9BQXJCO0FBQ0EsUUFBSUMsR0FBRyxHQUFHRixJQUFJLENBQUNFLEdBQWYsQ0FOZ0IsQ0FNRzs7QUFDbkIsUUFBSUMsSUFBSSxHQUFHSCxJQUFJLENBQUNHLElBQWhCLENBUGdCLENBU2hCOztBQUNBLFFBQUlDLE1BQU0sR0FBRyxNQUFNQywrREFBUyxDQUFDSCxHQUFELEVBQU1DLElBQU4sQ0FBNUIsQ0FWZ0IsQ0FXaEI7O0FBQ0EsUUFB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TmtCLENBT2xCOztBQUNBQSxPQUFHLENBQUNDLEdBQUosQ0FBUUMsSUFBSSxJQUFJO0FBQ2QsYUFBT0osT0FBTyxDQUFDSSxJQUFELENBQWQ7QUFDRCxLQUZEOztBQUdBLFFBQUlsQixNQUFKLEVBQVk7QUFDVkwsU0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDVEcsWUFBSSxFQUFFLEdBREc7QUFFVDJCLFlBQUksRUFBRVosT0FGRztBQUdUYSxXQUFHLEVBQUU7QUFISSxPQUFYO0FBS0QsS0FORCxNQU1PO0FBQ0xoQyxTQUFHLENBQUNDLElBQUosR0FBVztBQUNURyxZQUFJLEVBQUUsR0FERztBQUVUNEIsV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlEO0FBQ0YsR0FyZ0JrQixDQXVnQm5COzs7QUFDQSxRQUFNMEYsZUFBTixDQUF1QjFILEdBQXZCLEVBQTRCO0FBQzFCLFVBQU07QUFBRUM7QUFBRixRQUFXRCxHQUFHLENBQUNFLE9BQXJCO0FBQ0EsVUFBTUcsTUFBTSxHQUFHLE1BQU1NLG1EQUFJLENBQUMrRixVQUFMLENBQ25CO0FBQUUvRSxTQUFHLEVBQUU7QUFBRTJGLFdBQUcsRUFBRXJILElBQUksQ0FBQ3NIO0FBQVo7QUFBUCxLQURtQixFQUVuQjtBQUFFbEUsVUFBSSxFQUFFLEVBQUUsR0FBR3BELElBQUksQ0FBQzBIO0FBQVY7QUFBUixLQUZtQixDQUFyQjtBQUlBM0gsT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDVEcsVUFBSSxFQUFFLEdBREc7QUFFVDJCLFVBQUksRUFBRTFCO0FBRkcsS0FBWDtBQUlEOztBQWxoQmtCOztBQXFoQk4sbUVBQUlQLGNBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvVXNlckNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2lnblJlY29yZCBmcm9tICcuLi9tb2RlbC9TaWduUmVjb3JkJ1xyXG5pbXBvcnQgeyBnZXRKV3RQYXlsb2FkLCBjaGVja0NvZGUgfSBmcm9tICcuLi9jb21tb24vVXRpbHMnXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVsL1VzZXInXHJcbmltcG9ydCBDb21tZW50cyBmcm9tICcuLi9tb2RlbC9Db21tZW50cydcclxuaW1wb3J0IFVzZXJDb2xsZWN0IGZyb20gJy4uL21vZGVsL1VzZXJDb2xsZWN0J1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5pbXBvcnQgc2VuZCBmcm9tICcuLi9jb25maWcvTWFpbENvbmZpZydcclxuaW1wb3J0IHV1aWQgZnJvbSAndXVpZC92NCdcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCB7IHNldFZhbHVlLCBnZXRWYWx1ZSB9IGZyb20gJy4uL2NvbmZpZy9SZWRpc0NvbmZpZydcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcvaW5kZXgnXHJcbmltcG9ydCBiY3J5cHRqcyBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHFzIGZyb20gJ3FzJ1xyXG5pbXBvcnQganNvbndlYnRva2VuIGZyb20gJ2pzb253ZWJ0b2tlbidcclxuXHJcbmNsYXNzIFVzZXJDb250cm9sbGVyIHtcclxuICAvLyDnrqHnkIblkZjnmbvlvZVcclxuICBhc3luYyBsb2dpbiAoY3R4KSB7XHJcbiAgICAvLyDmjqXmlLbnlKjmiLfmlbDmja5cclxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeaXtuaViOaAp+OAgeato+ehruaAp1xyXG4gICAgLy8g6aqM6K+B55So5oi36LSm5Y+35a+G56CB5piv5ZCm5q2j56GuXHJcbiAgICAvLyDov5Tlm550b2tlblxyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgbGV0IHNpZCA9IGJvZHkuc2lkIC8vIOWJjeerr+S8oOmAknNpZOafpeaJvuWvueW6lOmqjOivgeeggVxyXG4gICAgbGV0IGNvZGUgPSBib2R5LmNvZGVcclxuICAgIFxyXG4gICAgLy8g5qCh6aqM6aqM6K+B56CBXHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcclxuICAgIC8vIGNvbnNvbGUubG9nKCdyZXN1bHQ6ICcscmVzdWx0KVxyXG4gICAgaWYocmVzdWx0KXtcclxuICAgICAgLy8g6aqM6K+B55So5oi36LSm5Y+35a+G56CB5piv5ZCm5q2j56GuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdjaGVjaycpXHJcbiAgICAgIGxldCBjaGVja1VzZXJQYXNzV2QgPSBmYWxzZVxyXG4gICAgICAvLyBtb25nb0RC5p+l5bqTXHJcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHt1c2VybmFtZTogYm9keS51c2VybmFtZX0pXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd1c2VyOiAnLHVzZXIpXHJcbiAgICAgIC8vIOWIpOaWreaYr+WQpuS4uueuoeeQhuWRmFxyXG4gICAgICBpZiAodXNlci5yb2xlcy5pbmNsdWRlcygnYWRtaW4nKSB8fCB1c2VyLnJvbGVzLmluY2x1ZGVzKCdzdXBlcl9hZG1pbicpKSB7XHJcbiAgICAgICAgICAgIC8vIOagoemqjOWvhueggVxyXG4gICAgICAgICAgaWYoYXdhaXQgYmNyeXB0anMuY29tcGFyZShib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSl7XHJcbiAgICAgICAgICAgIGNoZWNrVXNlclBhc3NXZCA9IHRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmKGNoZWNrVXNlclBhc3NXZCl7XHJcbiAgICAgICAgICAgIC8vIOmqjOivgemAmui/hyzov5Tlm550b2tlbuaVsOaNrlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaGVsbG8gbG9naW4nKVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdXNlck9iaiA9IHVzZXIudG9KU09OKClcclxuICAgICAgICAgICAgLy8g5LiN5oOz5Lyg5Zue5YmN56uv55qE5pWw5o2uXHJcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IFsncGFzc3dvcmQnLCAndXNlcm5hbWUnXVxyXG4gICAgICAgICAgICAvLyDliKDpmaTmlbDmja5cclxuICAgICAgICAgICAgYXJyLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgIGRlbGV0ZSB1c2VyT2JqW2l0ZW1dXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vIGV4cCDorr7nva50b2tlbui/h+acn+aXtumXtFxyXG4gICAgICAgICAgICAvLyBsZXQgdG9rZW4gPSBqc29ud2VidG9rZW4uc2lnbih7X2lkOidicmlhbicsIGV4cDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgKyA2MCAqIDYwICoyNH0sIGNvbmZpZy5KV1RfU0VDUkVUKVxyXG4gICAgICAgICAgICBsZXQgdG9rZW4gPSBqc29ud2VidG9rZW4uc2lnbih7X2lkOiB1c2VyT2JqLl9pZH0sIGNvbmZpZy5KV1RfU0VDUkVULCB7XHJcbiAgICAgICAgICAgICAgZXhwaXJlc0luOiAnMWQnIC8vIOWPpuS4gOenjeiuvue9rui/h+acn+aXtumXtOaWueazlSwxZOS4ujHlpKlcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICBkYXRhOiB1c2VyT2JqLFxyXG4gICAgICAgICAgICAgIHRva2VuOiB0b2tlblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDnlKjmiLflkI3jgIHlr4bnoIHpqozor4HlpLHotKUs6L+U5Zue5o+Q56S6XHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgIGNvZGU6IDQwNCxcclxuICAgICAgICAgICAgICBtc2c6ICfnlKjmiLflkI3miJblr4bnoIHplJnor68nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyDlm77niYfpqozor4HnoIHmoKHpqozlpLHotKVcclxuICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiA0MDQsXHJcbiAgICAgICAgICAgIG1zZzogJ+S4jeaYr+euoeeQhuWRmCzml6Dms5XnmbvlvZXlkI7lj7AnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coJ2hlbGxvIGxvZ2luJylcclxuICB9IGVsc2Uge1xyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgbXNnOiAn6aqM6K+B56CB6ZSZ6K+vJ1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuICAvLyDnlKjmiLfnrb7liLDmjqXlj6NcclxuICBhc3luYyB1c2VyU2lnbiAoY3R4KSB7XHJcbiAgICAvLyDku450b2tlbuWPlueUqOaIt0lELGpzb253ZWJ0b2tlbui/lOWbnuS4gOS4qnByb21pc2Xlr7nosaFcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgXHJcbiAgICAvLyDmn6Xor6LnlKjmiLfkuIrkuIDmrKHnrb7liLDorrDlvZVcclxuICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZEJ5VWlkKG9iai5faWQpXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRChvYmouX2lkKVxyXG5cclxuICAgIGxldCByZXN1bHQgPSAnJ1xyXG4gICAgbGV0IG5ld1JlY29yZCA9IHt9XHJcbiAgICBcclxuICAgIC8vIOWIpOaWreetvuWIsOmAu+i+kVxyXG4gICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xyXG4gICAgICAvLyDmnInljoblj7Lnrb7liLDmlbDmja5cclxuICAgICAgLy8g5Yik5pat55So5oi35LiK5LiA5qyh562+5Yiw6K6w5b2V55qEY3JlYXRlZOaXtumXtOaYr+WQpuS4juS7iuWkqeebuOWQjFxyXG4gICAgICAvLyDlpoLmnpznm7jlkIzku6PooajnlKjmiLflnKjov57nu63nrb7liLBcclxuICAgICAgLy8g5aaC5p6c5b2T5YmN5pe26Ze055qE5pel5pyf5LiO55So5oi35LiK5LiA5qyh562+5Yiw5pel5pyf55u45ZCMLOivtOaYjueUqOaIt+W3sue7j+etvuWIsFxyXG4gICAgICBcclxuICAgICAgaWYgKG1vbWVudChyZWNvcmQuY3JlYXRlZCkuZm9ybWF0KCdZWVlZLU1NLUREJykgPT09IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMsXHJcbiAgICAgICAgICBjb3VudDogdXNlci5jb3VudCxcclxuICAgICAgICAgIGxhc3RTaWduOiByZWNvcmQuY3JlYXRlZCxcclxuICAgICAgICAgIG1zZzogJ+eUqOaIt+W3sue7j+etvuWIsCdcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g5pyJ5LiK5LiA5qyh55qE562+5Yiw6K6w5b2VLOW5tuS4lOS4jeS4juS7iuWkqeebuOWQjCzov5vooYzov57nu63nrb7liLDnmoTliKTmlq1cclxuICAgICAgICAvLyDlpoLmnpznm7jlkIws5Luj6KGo55So5oi35Zyo6L+e57ut562+5YiwXHJcbiAgICAgICAgbGV0IGNvdW50ID0gdXNlci5jb3VudFxyXG4gICAgICAgIGxldCBmYXYgPSAwXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g5Yik5pat6L+e57ut562+5YiwOiDnlKjmiLfkuIrkuIDmrKHnrb7liLDml7bpl7TnrYnkuo7lvZPliY3ml7bpl7TnmoTliY3kuIDlpKks6K+05piO5Zyo6L+e57ut562+5YiwXHJcbiAgICAgICAgLy8gbW9tZW50KCkuc3VidHJhY3QoMSwgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKSDlj5bmmKjlpKnnmoTml6XmnJ9cclxuICAgICAgICBpZiAobW9tZW50KHJlY29yZC5jcmVhdGVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT0gbW9tZW50KCkuc3VidHJhY3QoMSwgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKSkge1xyXG4gICAgICAgICAgLy8g6L+e57ut562+5Yiw56ev5YiG6I635b6X6YC76L6RXHJcbiAgICAgICAgICBjb3VudCArPSAxXHJcbiAgICAgICAgICBpZiAoY291bnQgPCA1KSB7XHJcbiAgICAgICAgICAgIGZhdiA9IDVcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gNSAmJiBjb3VudCA8IDE1KSB7XHJcbiAgICAgICAgICAgIGZhdiA9IDEwXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDE1ICYmIGNvdW50IDwgMzApIHtcclxuICAgICAgICAgICAgZmF2ID0gMTVcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMzAgJiYgY291bnQgPCAxMDApIHtcclxuICAgICAgICAgICAgZmF2ID0gMjBcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMTAwICYmIGNvdW50IDwgMzY1KSB7XHJcbiAgICAgICAgICAgIGZhdiA9IDMwXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDM2NSkge1xyXG4gICAgICAgICAgICBmYXYgPSA1MFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8g5pu05paw55So5oi36KGo5pWw5o2uXHJcbiAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICAgICAgfSx7XHJcbiAgICAgICAgICAgICRpbmM6IHtmYXZzOiBmYXYsIGNvdW50OiAxfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgZmF2czogdXNlci5mYXZzICsgZmF2LFxyXG4gICAgICAgICAgICBjb3VudDogdXNlci5jb3VudCArIDFcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8g55So5oi35Lit5pat5LqG562+5YiwXHJcbiAgICAgICAgICBmYXYgPSA1XHJcbiAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAkc2V0OiB7IGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgICRpbmM6IHsgZmF2czogZmF2IH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIGZhdixcclxuICAgICAgICAgICAgY291bnQ6IDFcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5pu05paw562+5Yiw6K6w5b2VLOavj+asoeetvuWIsOWwseWtmOWFpeS4gOadoeetvuWIsOiusOW9lVxyXG4gICAgICAgIG5ld1JlY29yZCA9IG5ldyBTaWduUmVjb3JkKHtcclxuICAgICAgICAgIHVpZDogb2JqLl9pZCxcclxuICAgICAgICAgIGZhdnM6IGZhdlxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgYXdhaXQgbmV3UmVjb3JkLnNhdmUoKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDml6Dnrb7liLDmlbDmja4gLT4g56ys5LiA5qyh562+5YiwXHJcbiAgICAgIC8vIOS/neWtmOeUqOaIt+eahOetvuWIsOaVsOaNriAg562+5Yiw5qyh5pWwICsg56ev5YiG5pWw5o2uXHJcbiAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcclxuICAgICAgICBfaWQ6IG9iai5faWRcclxuICAgICAgfSwgeyAvLyBjb3VudOS4uui/nue7reetvuWIsOasoeaVsFxyXG4gICAgICAgICRzZXQ6IHsgY291bnQ6IDEgfSwgLy8g5bCGVXNlcuaooeWei+S4reeahGNvdW506K6+5Li6MVxyXG4gICAgICAgICRpbmM6IHsgZmF2czogNSB9IC8vIOWwhlVzZXLmqKHlnovkuK3nmoRmYXZz5YqgNVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8g5L+d5a2Y55So5oi355qE562+5Yiw6K6w5b2VXHJcbiAgICAgIG5ld1JlY29yZCA9IG5ldyBTaWduUmVjb3JkKHtcclxuICAgICAgICB1aWQ6IG9iai5faWQsXHJcbiAgICAgICAgZmF2czogNVxyXG4gICAgICB9KVxyXG4gICAgICBhd2FpdCBuZXdSZWNvcmQuc2F2ZSgpXHJcbiAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyA1LFxyXG4gICAgICAgIGNvdW50OiAxXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBtc2c6ICfor7fmsYLmiJDlip8nLFxyXG4gICAgICAuLi5yZXN1bHQsXHJcbiAgICAgIGxhc3RTaWduOiBuZXdSZWNvcmQuY3JlYXRlZFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5pu05paw55So5oi35Z+65pys5L+h5oGv5o6l5Y+jXHJcbiAgYXN5bmMgdXBkYXRlVXNlckluZm8gKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcblxyXG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5L+u5pS55LqG6YKu566xXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBvYmouX2lkfSlcclxuICAgIGxldCBtc2cgPSAnJ1xyXG4gICAgaWYgKGJvZHkudXNlcm5hbWUgJiYgYm9keS51c2VybmFtZSAhPT0gdXNlci51c2VybmFtZSkge1xyXG4gICAgICAvLyDnlKjmiLfkv67mlLnkuobpgq7nrrFcclxuICAgICAgLy8g5Y+R6YCBcmVzZXTpgq7ku7ZcclxuICAgICAgLy8g5Yik5pat55So5oi35paw6YKu566x5piv5ZCm5bey57uP6KKr5rOo5YaMXHJcbiAgICAgIGNvbnN0IHRtcFVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB1c2VybmFtZTogYm9keS51c2VybmFtZSB9KVxyXG4gICAgICBpZiAodG1wVXNlciAmJiB0bXBVc2VyLnBhc3N3b3JkKSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDEsXHJcbiAgICAgICAgICBtc2c6ICfpgq7nrrHlt7Lnu4/ooqvms6jlhozkuoYnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgY29uc3Qga2V5ID0gdXVpZCgpXHJcbiAgICAgIC8vIHJlZGlz5a2Y5YKoa2V55YC8IDMw5YiG6ZKf6L+H5pyfXHJcbiAgICAgIHNldFZhbHVlKGtleSwgand0LnNpZ24oe19pZDogb2JqLl9pZH0sIGNvbmZpZy5KV1RfU0VDUkVULCB7XHJcbiAgICAgICAgZXhwaXJlc0luOiAnMzBtJyAvLyAzMOWIhumSn+i/h+acn1xyXG4gICAgICB9KSlcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZCh7XHJcbiAgICAgICAgdHlwZTogJ2VtYWlsJyxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBrZXk6IGtleSxcclxuICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb2RlOiAnJyxcclxuICAgICAgICBleHBpcmU6IG1vbWVudCgpLmFkZCgzMCwgJ21pbnV0ZXMnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcclxuICAgICAgICBlbWFpbDogYm9keS51c2VybmFtZSxcclxuICAgICAgICB1c2VyOiB1c2VyLm5hbWVcclxuICAgICAgfSlcclxuXHJcbiAgICAgIG1zZyA9ICfmm7TmlrDln7rmnKzotYTmlpnmiJDlip8s6LSm5Y+35L+u5pS56ZyA6KaB56Gu6K6k6YKu5Lu2LOivt+afpeaUtumCruS7tidcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8g5pu05paw6ZmkdXNlcm5hbWXlpJbnmoTlhbbku5bmlbDmja5cclxuICAgIGNvbnN0IGFyciA9IFsndXNlcm5hbWUnLCAncGFzc3dvcmQnLCAnbW9iaWxlJ11cclxuICAgIC8vIOaOkumZpOaOiXVzZXJuYW1lXHJcbiAgICBhcnIubWFwKChpdGVtKSA9PiB7IGRlbGV0ZSBib2R5W2l0ZW1dIH0pXHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoe19pZDogb2JqLl9pZH0sIGJvZHkpXHJcbiAgICBpZiAocmVzdWx0Lm4gPT09IDEgJiYgcmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6IG1zZyA9PT0gJycgPyAn5pu05paw5oiQ5YqfJyA6IG1zZ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5pu05paw5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmm7TmlrDnlKjmiLflkI1cclxuICBhc3luYyB1cGRhdGVVc2VybmFtZSAoY3R4KSB7XHJcbiAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XHJcbiAgICBpZiAoYm9keS5rZXkpIHtcclxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRWYWx1ZShib2R5LmtleSlcclxuICAgICAgY29uc3Qgb2JqID0gZ2V0Sld0UGF5bG9hZCgnQmVhcmVyICcgKyB0b2tlbilcclxuICAgICAgYXdhaXQgVXNlci51cGRhdGVPbmUoe19pZDogb2JqLl9pZH0sIHtcclxuICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxyXG4gICAgICB9KVxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn5pu05paw55So5oi35ZCN5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDkv67mlLnlr4bnoIHmjqXlj6NcclxuICBhc3luYyBjaGFuZ2VQYXNzd2QgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtfaWQ6IG9iai5faWR9KVxyXG5cclxuICAgIGlmIChhd2FpdCBiY3J5cHRqcy5jb21wYXJlKGJvZHkub2xkcHdkLCB1c2VyLnBhc3N3b3JkKSkge1xyXG4gICAgICBjb25zdCBuZXdwYXNzd2QgPSBhd2FpdCBiY3J5cHRqcy5oYXNoKGJvZHkubmV3cHdkLCA1KSBcclxuICAgICAgLy8g5pu05paw5a+G56CBXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiBvYmouX2lkIH0sXHJcbiAgICAgICAgeyAkc2V0OiB7IHBhc3N3b3JkOiBuZXdwYXNzd2QgfX1cclxuICAgICAgKVxyXG5cclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIG1zZzogJ+abtOaWsOWvhueggeaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+WvhueggemUmeivryzor7fmo4Dmn6UhJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDorr7nva4v5Y+W5raI5pS26JePXHJcbiAgYXN5bmMgc2V0Q29sbGVjdCAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgaWYgKHBhcnNlSW50KHBhcmFtcy5pc0ZhdikpIHtcclxuICAgICAgLy8g6K+05piO55So5oi35bey57uP5pS26JeP5LqG5biW5a2QXHJcbiAgICAgIGF3YWl0IFVzZXJDb2xsZWN0LmRlbGV0ZU9uZSh7IHVpZDogb2JqLl9pZCwgdGlkOiBwYXJhbXMudGlkIH0pXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICflj5bmtojmlLbol4/miJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOmmluasoeaUtuiXj1xyXG4gICAgICBjb25zdCBuZXdDb2xsZWN0ID0gbmV3IFVzZXJDb2xsZWN0KHtcclxuICAgICAgICB1aWQ6IG9iai5faWQsXHJcbiAgICAgICAgdGlkOiBwYXJhbXMudGlkLFxyXG4gICAgICAgIHRpdGxlOiBwYXJhbXMudGl0bGVcclxuICAgICAgfSlcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV3Q29sbGVjdC5zYXZlKClcclxuICAgICAgLy8g5L+d5a2Y5oiQ5YqfXHJcbiAgICAgIGlmIChyZXN1bHQudWlkKSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgICBtc2c6ICfmlLbol4/miJDlip8nXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bmlLbol4/liJfooahcclxuICBhc3luYyBnZXRDb2xsZWN0QnlVaWQgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXJDb2xsZWN0LmdldExpc3RCeVVpZChcclxuICAgICAgb2JqLl9pZCxcclxuICAgICAgcGFyYW1zLnBhZ2UsXHJcbiAgICAgIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxyXG4gICAgKVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBVc2VyQ29sbGVjdC5jb3VudEJ5VWlkKG9iai5faWQpXHJcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICB0b3RhbCxcclxuICAgICAgICBtc2c6ICfmn6Xor6LliJfooajmiJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmn6Xor6LliJfooajlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlueUqOaIt+WfuuacrOS/oeaBr1xyXG4gIGFzeW5jIGdldEJhc2ljSW5mbyAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIC8vIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgY29uc3QgdWlkID0gcGFyYW1zLnVpZCB8fCBjdHguX2lkXHJcbiAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SUQodWlkIHx8IG9iai5faWQpXHJcbiAgICAvLyDlj5blvpfnlKjmiLfnmoTnrb7liLDorrDlvZUg55yL5pel5pyf5pyJ5rKh5pyJ5aSn5LqO5LuK5aSpIDA6MDA6MDAg55qEXHJcbiAgICB1c2VyID0gdXNlci50b0pTT04oKVxyXG4gICAgY29uc3QgZGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmRPbmUoe1xyXG4gICAgICB1aWQ6IHVpZCxcclxuICAgICAgY3JlYXRlZDogeyAkZ3RlOiBkYXRlICsgJyAwMDowMDowMCcgfVxyXG4gICAgfSlcclxuICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnVpZCkge1xyXG4gICAgICB1c2VyLmlzU2lnbiA9IHRydWVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVzZXIuaXNTaWduID0gZmFsc2VcclxuICAgIH1cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHVzZXIsXHJcbiAgICAgIG1zZzogJ+afpeivouaIkOWKn++8gSdcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlua2iOaBryzorrDlvZXor4TorrrkuYvlkI7nu5nkvZzogIXlj5HpgIHmtojmga9cclxuICBhc3luYyBnZXRNc2cgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDBcclxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDBcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgLy8g6I635Y+W5Y6G5Y+y5raI5oGvXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRNc2dMaXN0KG9iai5faWQsIHBhZ2UsIGxpbWl0KVxyXG4gICAgLy8g5pyJ5aSa5bCR5pyq6K+75raI5oGvXHJcbiAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChvYmouX2lkKVxyXG4gICAgXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIHRvdGFsOiBudW1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiuvue9rua2iOaBr+W3suivu1xyXG4gIGFzeW5jIHNldE1zZyAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIC8vIOWIpOaWreacieaXoOS8oGlkLOacieWImeiuvue9ruS4gOadoea2iOaBr+W3suivuyzml6DliJnmiYDmnInmtojmga/lt7Lor7tcclxuICAgIGlmIChwYXJhbXMuaWQpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHtfaWQ6IHBhcmFtcy5pZH0sIHtpc1JlYWQ6ICcxJ30pXHJcbiAgICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDIwMFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g6K6+572u5omA5pyJ5raI5oGvXHJcbiAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVNYW55KHt1aWQ6IG9iai5faWR9LCB7aXNSZWFkOiAnMSd9KVxyXG4gICAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiAyMDBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOeuoeeQhuiOt+WPlueUqOaIt+WIl+ihqFxyXG4gIGFzeW5jIGdldFVzZXJzIChjdHgpIHtcclxuICAgIGxldCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIHBhcmFtcyA9IHFzLnBhcnNlKHBhcmFtcylcclxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcmFtcy5wYWdlIDogMFxyXG4gICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMFxyXG4gICAgY29uc3Qgc29ydCA9IHBhcmFtcy5zb3J0IHx8ICdjcmVhdGVkJ1xyXG4gICAgY29uc3Qgb3B0aW9uID0gcGFyYW1zLm9wdGlvbiB8fCB7fVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci5nZXRMaXN0KG9wdGlvbiwgc29ydCwgcGFnZSwgbGltaXQpXHJcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFVzZXIuY291bnRMaXN0KG9wdGlvbilcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgdG90YWw6IHRvdGFsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDnrqHnkIbmm7TmlrDnlKjmiLfkv6Hmga9cclxuICBhc3luYyB1cGRhdGVVc2VyQnlJZCAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBib2R5Ll9pZCB9KVxyXG4gICAgLy8gMS7moKHpqoznlKjmiLfmmK/lkKblrZjlnKggLT4g55So5oi35ZCN5piv5ZCm5Yay56qBXHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+eUqOaIt+S4jeWtmOWcqOaIluiAhWlk5L+h5oGv6ZSZ6K+v77yBJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIDIu5Yik5pat5a+G56CB5piv5ZCm5Lyg6YCSIC0+IOi/m+ihjOWKoOWvhuS/neWtmFxyXG4gICAgaWYgKGJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdGpzLmhhc2goYm9keS5wYXNzd29yZCwgNSlcclxuICAgIH1cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlT25lKHsgX2lkOiBib2R5Ll9pZCB9LCBib2R5KVxyXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSAmJiByZXN1bHQubk1vZGlmaWVkID09PSAxKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICfmm7TmlrDmiJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmnI3liqHlvILluLjvvIzmm7TmlrDlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOeuoeeQhuWIoOmZpOeUqOaIt+S/oeaBr1xyXG4gIGFzeW5jIGRlbGV0ZVVzZXJCeUlkIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIC8vIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IGJvZHkuaWRzIH0pXHJcbiAgICAvLyBpZiAodXNlcikge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmRlbGV0ZU1hbnkoeyBfaWQ6IHsgJGluOiBib2R5LmlkcyB9IH0pXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICfliKDpmaTmiJDlip8nLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICBjdHguYm9keSA9IHtcclxuICAgIC8vICAgICBjb2RlOiA1MDAsXHJcbiAgICAvLyAgICAgbXNnOiAn55So5oi35LiN5a2Y5Zyo5oiWaWTplJnor68nXHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICB9XHJcblxyXG4gIC8vIOagoemqjOeUqOaIt+WQjeaYr+WQpuWGsueqgVxyXG4gIGFzeW5jIGNoZWNrVXNlcm5hbWUgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IHBhcmFtcy51c2VybmFtZSB9KVxyXG4gICAgLy8g6buY6K6k5Li6MSwgIDEt5qCh6aqM6YCa6L+HIDAt5qCh6aqM5aSx6LSlXHJcbiAgICBsZXQgcmVzdWx0ID0gMVxyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgcmVzdWx0ID0gMFxyXG4gICAgfVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICBtc2c6ICfmiJDlip/moKHpqownXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDnrqHnkIbmt7vliqDnlKjmiLdcclxuICBhc3luYyBhZGRVc2VyIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHRqcy5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXHJcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoYm9keSlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZXIuc2F2ZSgpXHJcbiAgICBjb25zdCB1c2VyT2JqID0gcmVzdWx0LnRvSlNPTigpXHJcbiAgICBjb25zdCBhcnIgPSBbJ3Bhc3N3b3JkJ11cclxuICAgIC8vIOi/lOWbnuaVsOaNruWOu+aOieWvhueggVxyXG4gICAgYXJyLm1hcChpdGVtID0+IHtcclxuICAgICAgZGVsZXRlIHVzZXJPYmpbaXRlbV1cclxuICAgIH0pXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiB1c2VyT2JqLFxyXG4gICAgICAgIG1zZzogJ+a3u+WKoOeUqOaIt+aIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+acjeWKoeaOpeWPo+W8guW4uCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g566h55CG5om56YeP6K6+572uXHJcbiAgYXN5bmMgdXBkYXRlVXNlckJhdGNoIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlTWFueShcclxuICAgICAgeyBfaWQ6IHsgJGluOiBib2R5LmlkcyB9IH0sXHJcbiAgICAgIHsgJHNldDogeyAuLi5ib2R5LnNldHRpbmdzIH0gfVxyXG4gICAgKVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgVXNlckNvbnRyb2xsZXIoKSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/UserController.js\n");

/***/ }),

/***/ "./src/common/Auth.js":
/*!****************************!*\
  !*** ./src/common/Auth.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/AdminController */ \"./src/api/AdminController.js\");\n\n\n\n // 鉴权获取用户_id并将其挂载到ctx._id上\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  const header = ctx.header.authorization;\n\n  if (typeof header !== 'undefined') {\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_0__[\"getJWtPayload\"])(ctx.header.authorization);\n\n    if (obj._id) {\n      ctx._id = obj._id; // 判断登录用户是否为超级管理员\n\n      const admins = JSON.parse(await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"getValue\"])('admin'));\n\n      if (admins.includes(obj._id)) {\n        ctx.isAdmin = true;\n        await next();\n        return;\n      } else {\n        ctx.isAdmin = false;\n      }\n    }\n  } // 不是管理员\n  // 1.过滤公共路径\n\n\n  const {\n    publicPath\n  } = _config_index__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n\n  if (publicPath.some(item => item.test(ctx.url))) {\n    await next();\n    return;\n  } // 2.根据用户的roles 查询用户menus数据然后拿到用户的operations\n\n\n  const operations = await _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getOperations(ctx); // console.log('operations: ', operations)\n\n  let url = ctx.url.split('?')[0]; // console.log('url: ', url)\n  // 3.判断用户的请求路径是否在operations里面,如果在则放行,否则禁止访问\n\n  if (operations.includes(url)) {\n    await next();\n  } else {\n    ctx.throw(401);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0F1dGguanM/YjQ1YiJdLCJuYW1lcyI6WyJjdHgiLCJuZXh0IiwiaGVhZGVyIiwiYXV0aG9yaXphdGlvbiIsIm9iaiIsImdldEpXdFBheWxvYWQiLCJfaWQiLCJhZG1pbnMiLCJKU09OIiwicGFyc2UiLCJnZXRWYWx1ZSIsImluY2x1ZGVzIiwiaXNBZG1pbiIsInB1YmxpY1BhdGgiLCJjb25maWciLCJzb21lIiwiaXRlbSIsInRlc3QiLCJ1cmwiLCJvcGVyYXRpb25zIiwiYWRtaW5Db250cm9sbGVyIiwiZ2V0T3BlcmF0aW9ucyIsInNwbGl0IiwidGhyb3ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7Q0FHQTs7QUFDZSxzRUFBT0EsR0FBUCxFQUFZQyxJQUFaLEtBQXFCO0FBQ2xDLFFBQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRSxNQUFKLENBQVdDLGFBQTFCOztBQUNBLE1BQUksT0FBT0QsTUFBUCxLQUFrQixXQUF0QixFQUFtQztBQUNqQyxVQUFNRSxHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ0wsR0FBRyxDQUFDRSxNQUFKLENBQVdDLGFBQVosQ0FBL0I7O0FBQ0EsUUFBSUMsR0FBRyxDQUFDRSxHQUFSLEVBQWE7QUFDWE4sU0FBRyxDQUFDTSxHQUFKLEdBQVVGLEdBQUcsQ0FBQ0UsR0FBZCxDQURXLENBR1g7O0FBQ0EsWUFBTUMsTUFBTSxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBVyxNQUFNQyxvRUFBUSxDQUFDLE9BQUQsQ0FBekIsQ0FBZjs7QUFDQSxVQUFJSCxNQUFNLENBQUNJLFFBQVAsQ0FBZ0JQLEdBQUcsQ0FBQ0UsR0FBcEIsQ0FBSixFQUE4QjtBQUM1Qk4sV0FBRyxDQUFDWSxPQUFKLEdBQWMsSUFBZDtBQUNBLGNBQU1YLElBQUksRUFBVjtBQUNBO0FBQ0QsT0FKRCxNQUlPO0FBQ0xELFdBQUcsQ0FBQ1ksT0FBSixHQUFjLEtBQWQ7QUFDRDtBQUNGO0FBQ0YsR0FqQmlDLENBbUJsQztBQUNBOzs7QUFDQSxRQUFNO0FBQUVDO0FBQUYsTUFBaUJDLHFEQUF2Qjs7QUFDQSxNQUFJRCxVQUFVLENBQUNFLElBQVgsQ0FBaUJDLElBQUQsSUFBVUEsSUFBSSxDQUFDQyxJQUFMLENBQVVqQixHQUFHLENBQUNrQixHQUFkLENBQTFCLENBQUosRUFBbUQ7QUFDakQsVUFBTWpCLElBQUksRUFBVjtBQUNBO0FBQ0QsR0F6QmlDLENBMEJsQzs7O0FBQ0EsUUFBTWtCLFVBQVUsR0FBRyxNQUFNQyw0REFBZSxDQUFDQyxhQUFoQixDQUE4QnJCLEdBQTlCLENBQXpCLENBM0JrQyxDQTRCbEM7O0FBQ0EsTUFBSWtCLEdBQUcsR0FBR2xCLEdBQUcsQ0FBQ2tCLEdBQUosQ0FBUUksS0FBUixDQUFjLEdBQWQsRUFBbUIsQ0FBbkIsQ0FBVixDQTdCa0MsQ0E4QmxDO0FBQ0E7O0FBQ0EsTUFBSUgsVUFBVSxDQUFDUixRQUFYLENBQW9CTyxHQUFwQixDQUFKLEVBQThCO0FBQzVCLFVBQU1qQixJQUFJLEVBQVY7QUFDRCxHQUZELE1BRU87QUFDTEQsT0FBRyxDQUFDdUIsS0FBSixDQUFVLEdBQVY7QUFDRDtBQUNGLENBckNEIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9BdXRoLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Sld0UGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IHsgZ2V0VmFsdWUgfSBmcm9tICcuLi9jb25maWcvUmVkaXNDb25maWcnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xyXG5pbXBvcnQgYWRtaW5Db250cm9sbGVyIGZyb20gJy4uL2FwaS9BZG1pbkNvbnRyb2xsZXInXHJcblxyXG4vLyDpibTmnYPojrflj5bnlKjmiLdfaWTlubblsIblhbbmjILovb3liLBjdHguX2lk5LiKXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcclxuICBjb25zdCBoZWFkZXIgPSBjdHguaGVhZGVyLmF1dGhvcml6YXRpb25cclxuICBpZiAodHlwZW9mIGhlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgaWYgKG9iai5faWQpIHtcclxuICAgICAgY3R4Ll9pZCA9IG9iai5faWRcclxuICAgICAgXHJcbiAgICAgIC8vIOWIpOaWreeZu+W9leeUqOaIt+aYr+WQpuS4uui2hee6p+euoeeQhuWRmFxyXG4gICAgICBjb25zdCBhZG1pbnMgPSBKU09OLnBhcnNlKGF3YWl0IGdldFZhbHVlKCdhZG1pbicpKVxyXG4gICAgICBpZiAoYWRtaW5zLmluY2x1ZGVzKG9iai5faWQpKSB7XHJcbiAgICAgICAgY3R4LmlzQWRtaW4gPSB0cnVlXHJcbiAgICAgICAgYXdhaXQgbmV4dCgpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3R4LmlzQWRtaW4gPSBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBcclxuXHJcbiAgLy8g5LiN5piv566h55CG5ZGYXHJcbiAgLy8gMS7ov4fmu6TlhazlhbHot6/lvoRcclxuICBjb25zdCB7IHB1YmxpY1BhdGggfSA9IGNvbmZpZ1xyXG4gIGlmIChwdWJsaWNQYXRoLnNvbWUoKGl0ZW0pID0+IGl0ZW0udGVzdChjdHgudXJsKSkpIHtcclxuICAgIGF3YWl0IG5leHQoKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIC8vIDIu5qC55o2u55So5oi355qEcm9sZXMg5p+l6K+i55So5oi3bWVudXPmlbDmja7nhLblkI7mi7/liLDnlKjmiLfnmoRvcGVyYXRpb25zXHJcbiAgY29uc3Qgb3BlcmF0aW9ucyA9IGF3YWl0IGFkbWluQ29udHJvbGxlci5nZXRPcGVyYXRpb25zKGN0eClcclxuICAvLyBjb25zb2xlLmxvZygnb3BlcmF0aW9uczogJywgb3BlcmF0aW9ucylcclxuICBsZXQgdXJsID0gY3R4LnVybC5zcGxpdCgnPycpWzBdXHJcbiAgLy8gY29uc29sZS5sb2coJ3VybDogJywgdXJsKVxyXG4gIC8vIDMu5Yik5pat55So5oi355qE6K+35rGC6Lev5b6E5piv5ZCm5Zyob3BlcmF0aW9uc+mHjOmdoizlpoLmnpzlnKjliJnmlL7ooYws5ZCm5YiZ56aB5q2i6K6/6ZeuXHJcbiAgaWYgKG9wZXJhdGlvbnMuaW5jbHVkZXModXJsKSkge1xyXG4gICAgYXdhaXQgbmV4dCgpXHJcbiAgfSBlbHNlIHtcclxuICAgIGN0eC50aHJvdyg0MDEpXHJcbiAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/Auth.js\n");

/***/ }),

/***/ "./src/common/ErrorHandle.js":
/*!***********************************!*\
  !*** ./src/common/ErrorHandle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_log4j__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/log4j */ \"./src/config/log4j.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/ErrorRecord */ \"./src/model/ErrorRecord.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n\n\n\n\nconst logger = _config_log4j__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger('error'); // 错误处理\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  // return next().catch((err) => {\n  //   // 存储错误日志\n  //   logger.error(`${ ctx.url }  ${ ctx.method }  ${ ctx.status }  ${ err.stack }`)\n  //   // 401\n  //   if (401 == err.status) {\n  //     ctx.status = 401\n  //     ctx.body = {\n  //       code: 401,\n  //       msg:'Protectted resource, use Authorization header to get access\\n'\n  //     }\n  //   } else {\n  //     // 非401\n  //     ctx.status = err.status || 500\n  //     ctx.body = Object.assign({\n  //       code: 500,\n  //       msg: err.message\n  //       // 添加出错信息位置\n  //     }, process.env.NODE_ENV === 'development' ? { stack: err.stack } : {})\n  //   }\n  // })\n  try {\n    await next(); // 1. 收集用户错误的请求路径的日志 -> 造成大量的垃圾数据\n    // 2. 主动判断，并收集特定的接口请求 -> regex -> path, status, params\n\n    if (ctx.status !== 200 && _config_index__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isDevMode) {\n      const codeMessage = {\n        // 200: '服务器成功返回请求的数据。',\n        201: '新建或修改数据成功。',\n        202: '一个请求已经进入后台排队（异步任务）。',\n        204: '删除数据成功。',\n        400: '发出的请求有错误，服务器没有进行新建或修改数据的操作。',\n        401: '用户没有权限（令牌、用户名、密码错误）。',\n        403: '用户得到授权，但是访问是被禁止的。',\n        404: '发出的请求针对的是不存在的记录，服务器没有进行操作。',\n        405: '请求方法不存在，请检查路由！',\n        406: '请求的格式不可得。',\n        410: '请求的资源被永久删除，且不会再得到的。',\n        422: '当创建一个对象时，发生一个验证错误。',\n        500: '服务器发生错误，请检查服务器。',\n        502: '网关错误。',\n        503: '服务不可用，服务器暂时过载或维护。',\n        504: '网关超时。'\n      };\n      ctx.throw({\n        code: ctx.status,\n        message: codeMessage[ctx.status]\n      });\n    }\n  } catch (err) {\n    // 1. throw Error 2. ctx.throw()\n    logger.error(`${ctx.url} ${ctx.method} ${ctx.status} ${err.stack}`);\n    let user = '';\n\n    if (ctx._id) {\n      user = await _model_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        _id: ctx._id\n      });\n    } // 保存错误日志到数据库\n\n\n    await _model_ErrorRecord__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n      message: err.message,\n      code: ctx.response.status,\n      method: ctx.method,\n      path: ctx.path,\n      param: ctx.method === 'GET' ? ctx.query : ctx.request.body,\n      username: user.username,\n      stack: err.stack\n    });\n\n    if (err.status === 401) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      ctx.status = err.status || 500;\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message\n      },  true ? {\n        stack: err.stack\n      } : undefined); // console.log(err.stack);\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsibG9nZ2VyIiwibG9nNGpzIiwiZ2V0TG9nZ2VyIiwiY3R4IiwibmV4dCIsInN0YXR1cyIsImNvbmZpZyIsImlzRGV2TW9kZSIsImNvZGVNZXNzYWdlIiwidGhyb3ciLCJjb2RlIiwibWVzc2FnZSIsImVyciIsImVycm9yIiwidXJsIiwibWV0aG9kIiwic3RhY2siLCJ1c2VyIiwiX2lkIiwiVXNlciIsImZpbmRPbmUiLCJFcnJvclJlY29yZCIsImNyZWF0ZSIsInJlc3BvbnNlIiwicGF0aCIsInBhcmFtIiwicXVlcnkiLCJyZXF1ZXN0IiwiYm9keSIsInVzZXJuYW1lIiwibXNnIiwiT2JqZWN0IiwiYXNzaWduIiwicHJvY2VzcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxxREFBTSxDQUFDQyxTQUFQLENBQWlCLE9BQWpCLENBQWYsQyxDQUNBOztBQUNlLHNFQUFPQyxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQUk7QUFDRixVQUFNQSxJQUFJLEVBQVYsQ0FERSxDQUVGO0FBQ0E7O0FBQ0EsUUFBSUQsR0FBRyxDQUFDRSxNQUFKLEtBQWUsR0FBZixJQUFzQkMscURBQU0sQ0FBQ0MsU0FBakMsRUFBNEM7QUFDMUMsWUFBTUMsV0FBVyxHQUFHO0FBQ2xCO0FBQ0EsYUFBSyxZQUZhO0FBR2xCLGFBQUsscUJBSGE7QUFJbEIsYUFBSyxTQUphO0FBS2xCLGFBQUssNkJBTGE7QUFNbEIsYUFBSyxzQkFOYTtBQU9sQixhQUFLLG1CQVBhO0FBUWxCLGFBQUssNEJBUmE7QUFTbEIsYUFBSyxnQkFUYTtBQVVsQixhQUFLLFdBVmE7QUFXbEIsYUFBSyxxQkFYYTtBQVlsQixhQUFLLG9CQVphO0FBYWxCLGFBQUssaUJBYmE7QUFjbEIsYUFBSyxPQWRhO0FBZWxCLGFBQUssbUJBZmE7QUFnQmxCLGFBQUs7QUFoQmEsT0FBcEI7QUFrQkFMLFNBQUcsQ0FBQ00sS0FBSixDQUFVO0FBQ1JDLFlBQUksRUFBRVAsR0FBRyxDQUFDRSxNQURGO0FBRVJNLGVBQU8sRUFBRUgsV0FBVyxDQUFDTCxHQUFHLENBQUNFLE1BQUw7QUFGWixPQUFWO0FBSUQ7QUFDRixHQTVCRCxDQTRCRSxPQUFPTyxHQUFQLEVBQVk7QUFDWjtBQUNBWixVQUFNLENBQUNhLEtBQVAsQ0FBYyxHQUFFVixHQUFHLENBQUNXLEdBQUksSUFBR1gsR0FBRyxDQUFDWSxNQUFPLElBQUdaLEdBQUcsQ0FBQ0UsTUFBTyxJQUFHTyxHQUFHLENBQUNJLEtBQU0sRUFBakU7QUFFQSxRQUFJQyxJQUFJLEdBQUcsRUFBWDs7QUFDQSxRQUFJZCxHQUFHLENBQUNlLEdBQVIsRUFBYTtBQUNYRCxVQUFJLEdBQUcsTUFBTUUsbURBQUksQ0FBQ0MsT0FBTCxDQUFhO0FBQUVGLFdBQUcsRUFBRWYsR0FBRyxDQUFDZTtBQUFYLE9BQWIsQ0FBYjtBQUNELEtBUFcsQ0FRWjs7O0FBQ0EsVUFBTUcsMERBQVcsQ0FBQ0MsTUFBWixDQUFtQjtBQUN2QlgsYUFBTyxFQUFFQyxHQUFHLENBQUNELE9BRFU7QUFFdkJELFVBQUksRUFBRVAsR0FBRyxDQUFDb0IsUUFBSixDQUFhbEIsTUFGSTtBQUd2QlUsWUFBTSxFQUFFWixHQUFHLENBQUNZLE1BSFc7QUFJdkJTLFVBQUksRUFBRXJCLEdBQUcsQ0FBQ3FCLElBSmE7QUFLdkJDLFdBQUssRUFBRXRCLEdBQUcsQ0FBQ1ksTUFBSixLQUFlLEtBQWYsR0FBdUJaLEdBQUcsQ0FBQ3VCLEtBQTNCLEdBQW1DdkIsR0FBRyxDQUFDd0IsT0FBSixDQUFZQyxJQUwvQjtBQU12QkMsY0FBUSxFQUFFWixJQUFJLENBQUNZLFFBTlE7QUFPdkJiLFdBQUssRUFBRUosR0FBRyxDQUFDSTtBQVBZLEtBQW5CLENBQU47O0FBU0EsUUFBSUosR0FBRyxDQUFDUCxNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEJGLFNBQUcsQ0FBQ0UsTUFBSixHQUFhLEdBQWI7QUFDQUYsU0FBRyxDQUFDeUIsSUFBSixHQUFXO0FBQ1RsQixZQUFJLEVBQUUsR0FERztBQUVUb0IsV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlELEtBTkQsTUFNTztBQUNMM0IsU0FBRyxDQUFDRSxNQUFKLEdBQWFPLEdBQUcsQ0FBQ1AsTUFBSixJQUFjLEdBQTNCO0FBQ0FGLFNBQUcsQ0FBQ3lCLElBQUosR0FBV0csTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDdkJ0QixZQUFJLEVBQUUsR0FEaUI7QUFFdkJvQixXQUFHLEVBQUVsQixHQUFHLENBQUNEO0FBRmMsT0FBZCxFQUdSc0IsS0FBQSxHQUNDO0FBQUVqQixhQUFLLEVBQUVKLEdBQUcsQ0FBQ0k7QUFBYixPQURELEdBQ3dCLFNBSmhCLENBQVgsQ0FGSyxDQU9MO0FBQ0Q7QUFDRjtBQUNGLENBcEZEIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9FcnJvckhhbmRsZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2c0anMgZnJvbSAnLi4vY29uZmlnL2xvZzRqJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xyXG5pbXBvcnQgRXJyb3JSZWNvcmQgZnJvbSAnLi4vbW9kZWwvRXJyb3JSZWNvcmQnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xyXG5cclxuY29uc3QgbG9nZ2VyID0gbG9nNGpzLmdldExvZ2dlcignZXJyb3InKVxyXG4vLyDplJnor6/lpITnkIZcclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xyXG4gIC8vIHJldHVybiBuZXh0KCkuY2F0Y2goKGVycikgPT4ge1xyXG4gIC8vICAgLy8g5a2Y5YKo6ZSZ6K+v5pel5b+XXHJcbiAgLy8gICBsb2dnZXIuZXJyb3IoYCR7IGN0eC51cmwgfSAgJHsgY3R4Lm1ldGhvZCB9ICAkeyBjdHguc3RhdHVzIH0gICR7IGVyci5zdGFjayB9YClcclxuICAvLyAgIC8vIDQwMVxyXG4gIC8vICAgaWYgKDQwMSA9PSBlcnIuc3RhdHVzKSB7XHJcbiAgLy8gICAgIGN0eC5zdGF0dXMgPSA0MDFcclxuICAvLyAgICAgY3R4LmJvZHkgPSB7XHJcbiAgLy8gICAgICAgY29kZTogNDAxLFxyXG4gIC8vICAgICAgIG1zZzonUHJvdGVjdHRlZCByZXNvdXJjZSwgdXNlIEF1dGhvcml6YXRpb24gaGVhZGVyIHRvIGdldCBhY2Nlc3NcXG4nXHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH0gZWxzZSB7XHJcbiAgLy8gICAgIC8vIOmdnjQwMVxyXG4gIC8vICAgICBjdHguc3RhdHVzID0gZXJyLnN0YXR1cyB8fCA1MDBcclxuICAvLyAgICAgY3R4LmJvZHkgPSBPYmplY3QuYXNzaWduKHtcclxuICAvLyAgICAgICBjb2RlOiA1MDAsXHJcbiAgLy8gICAgICAgbXNnOiBlcnIubWVzc2FnZVxyXG4gIC8vICAgICAgIC8vIOa3u+WKoOWHuumUmeS/oeaBr+S9jee9rlxyXG4gIC8vICAgICB9LCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHsgc3RhY2s6IGVyci5zdGFjayB9IDoge30pXHJcbiAgLy8gICB9XHJcbiAgLy8gfSlcclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IG5leHQoKVxyXG4gICAgLy8gMS4g5pS26ZuG55So5oi36ZSZ6K+v55qE6K+35rGC6Lev5b6E55qE5pel5b+XIC0+IOmAoOaIkOWkp+mHj+eahOWeg+WcvuaVsOaNrlxyXG4gICAgLy8gMi4g5Li75Yqo5Yik5pat77yM5bm25pS26ZuG54m55a6a55qE5o6l5Y+j6K+35rGCIC0+IHJlZ2V4IC0+IHBhdGgsIHN0YXR1cywgcGFyYW1zXHJcbiAgICBpZiAoY3R4LnN0YXR1cyAhPT0gMjAwICYmIGNvbmZpZy5pc0Rldk1vZGUpIHtcclxuICAgICAgY29uc3QgY29kZU1lc3NhZ2UgPSB7XHJcbiAgICAgICAgLy8gMjAwOiAn5pyN5Yqh5Zmo5oiQ5Yqf6L+U5Zue6K+35rGC55qE5pWw5o2u44CCJyxcclxuICAgICAgICAyMDE6ICfmlrDlu7rmiJbkv67mlLnmlbDmja7miJDlip/jgIInLFxyXG4gICAgICAgIDIwMjogJ+S4gOS4quivt+axguW3sue7j+i/m+WFpeWQjuWPsOaOkumYn++8iOW8guatpeS7u+WKoe+8ieOAgicsXHJcbiAgICAgICAgMjA0OiAn5Yig6Zmk5pWw5o2u5oiQ5Yqf44CCJyxcclxuICAgICAgICA0MDA6ICflj5Hlh7rnmoTor7fmsYLmnInplJnor6/vvIzmnI3liqHlmajmsqHmnInov5vooYzmlrDlu7rmiJbkv67mlLnmlbDmja7nmoTmk43kvZzjgIInLFxyXG4gICAgICAgIDQwMTogJ+eUqOaIt+ayoeacieadg+mZkO+8iOS7pOeJjOOAgeeUqOaIt+WQjeOAgeWvhueggemUmeivr++8ieOAgicsXHJcbiAgICAgICAgNDAzOiAn55So5oi35b6X5Yiw5o6I5p2D77yM5L2G5piv6K6/6Zeu5piv6KKr56aB5q2i55qE44CCJyxcclxuICAgICAgICA0MDQ6ICflj5Hlh7rnmoTor7fmsYLpkojlr7nnmoTmmK/kuI3lrZjlnKjnmoTorrDlvZXvvIzmnI3liqHlmajmsqHmnInov5vooYzmk43kvZzjgIInLFxyXG4gICAgICAgIDQwNTogJ+ivt+axguaWueazleS4jeWtmOWcqO+8jOivt+ajgOafpei3r+eUse+8gScsXHJcbiAgICAgICAgNDA2OiAn6K+35rGC55qE5qC85byP5LiN5Y+v5b6X44CCJyxcclxuICAgICAgICA0MTA6ICfor7fmsYLnmoTotYTmupDooqvmsLjkuYXliKDpmaTvvIzkuJTkuI3kvJrlho3lvpfliLDnmoTjgIInLFxyXG4gICAgICAgIDQyMjogJ+W9k+WIm+W7uuS4gOS4quWvueixoeaXtu+8jOWPkeeUn+S4gOS4qumqjOivgemUmeivr+OAgicsXHJcbiAgICAgICAgNTAwOiAn5pyN5Yqh5Zmo5Y+R55Sf6ZSZ6K+v77yM6K+35qOA5p+l5pyN5Yqh5Zmo44CCJyxcclxuICAgICAgICA1MDI6ICfnvZHlhbPplJnor6/jgIInLFxyXG4gICAgICAgIDUwMzogJ+acjeWKoeS4jeWPr+eUqO+8jOacjeWKoeWZqOaaguaXtui/h+i9veaIlue7tOaKpOOAgicsXHJcbiAgICAgICAgNTA0OiAn572R5YWz6LaF5pe244CCJ1xyXG4gICAgICB9XHJcbiAgICAgIGN0eC50aHJvdyh7XHJcbiAgICAgICAgY29kZTogY3R4LnN0YXR1cyxcclxuICAgICAgICBtZXNzYWdlOiBjb2RlTWVzc2FnZVtjdHguc3RhdHVzXVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgLy8gMS4gdGhyb3cgRXJyb3IgMi4gY3R4LnRocm93KClcclxuICAgIGxvZ2dlci5lcnJvcihgJHtjdHgudXJsfSAke2N0eC5tZXRob2R9ICR7Y3R4LnN0YXR1c30gJHtlcnIuc3RhY2t9YClcclxuICAgIFxyXG4gICAgbGV0IHVzZXIgPSAnJ1xyXG4gICAgaWYgKGN0eC5faWQpIHtcclxuICAgICAgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IF9pZDogY3R4Ll9pZCB9KVxyXG4gICAgfVxyXG4gICAgLy8g5L+d5a2Y6ZSZ6K+v5pel5b+X5Yiw5pWw5o2u5bqTXHJcbiAgICBhd2FpdCBFcnJvclJlY29yZC5jcmVhdGUoe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgY29kZTogY3R4LnJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgbWV0aG9kOiBjdHgubWV0aG9kLFxyXG4gICAgICBwYXRoOiBjdHgucGF0aCxcclxuICAgICAgcGFyYW06IGN0eC5tZXRob2QgPT09ICdHRVQnID8gY3R4LnF1ZXJ5IDogY3R4LnJlcXVlc3QuYm9keSxcclxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXHJcbiAgICAgIHN0YWNrOiBlcnIuc3RhY2tcclxuICAgIH0pXHJcbiAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgIGN0eC5zdGF0dXMgPSA0MDFcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgIG1zZzogJ1Byb3RlY3RlZCByZXNvdXJjZSwgdXNlIEF1dGhvcml6YXRpb24gaGVhZGVyIHRvIGdldCBhY2Nlc3NcXG4nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5zdGF0dXMgPSBlcnIuc3RhdHVzIHx8IDUwMFxyXG4gICAgICBjdHguYm9keSA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6IGVyci5tZXNzYWdlXHJcbiAgICAgIH0sIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnXHJcbiAgICAgICAgPyB7IHN0YWNrOiBlcnIuc3RhY2sgfSA6IHt9KVxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhlcnIuc3RhY2spO1xyXG4gICAgfVxyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/ErrorHandle.js\n");

/***/ }),

/***/ "./src/common/Logger.js":
/*!******************************!*\
  !*** ./src/common/Logger.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_log4j__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/log4j */ \"./src/config/log4j.js\");\n\nconst logger = _config_log4j__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLogger('application');\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (ctx, next) => {\n  const start = Date.now();\n  await next();\n  const resTime = Date.now() - start;\n\n  if (resTime / 1000 > 1) {\n    // 判断系统执行效率\n    logger.warn(`[${ctx.method} - ${ctx.url} - time: ${resTime / 1000}s]`);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0xvZ2dlci5qcz9jZWZkIl0sIm5hbWVzIjpbImxvZ2dlciIsImxvZzRqcyIsImdldExvZ2dlciIsImN0eCIsIm5leHQiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJyZXNUaW1lIiwid2FybiIsIm1ldGhvZCIsInVybCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxxREFBTSxDQUFDQyxTQUFQLENBQWlCLGFBQWpCLENBQWY7QUFFZSxzRUFBT0MsR0FBUCxFQUFZQyxJQUFaLEtBQXFCO0FBQ2xDLFFBQU1DLEtBQUssR0FBR0MsSUFBSSxDQUFDQyxHQUFMLEVBQWQ7QUFDQSxRQUFNSCxJQUFJLEVBQVY7QUFDQSxRQUFNSSxPQUFPLEdBQUdGLElBQUksQ0FBQ0MsR0FBTCxLQUFhRixLQUE3Qjs7QUFFQSxNQUFJRyxPQUFPLEdBQUcsSUFBVixHQUFpQixDQUFyQixFQUF3QjtBQUN0QjtBQUNBUixVQUFNLENBQUNTLElBQVAsQ0FBYSxJQUFHTixHQUFHLENBQUNPLE1BQU8sTUFBS1AsR0FBRyxDQUFDUSxHQUFJLFlBQVdILE9BQU8sR0FBRyxJQUFLLElBQWxFO0FBQ0Q7QUFDRixDQVREIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9Mb2dnZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nNGpzIGZyb20gJy4uL2NvbmZpZy9sb2c0aidcclxuXHJcbmNvbnN0IGxvZ2dlciA9IGxvZzRqcy5nZXRMb2dnZXIoJ2FwcGxpY2F0aW9uJylcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcclxuICBjb25zdCBzdGFydCA9IERhdGUubm93KClcclxuICBhd2FpdCBuZXh0KClcclxuICBjb25zdCByZXNUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0XHJcblxyXG4gIGlmIChyZXNUaW1lIC8gMTAwMCA+IDEpIHtcclxuICAgIC8vIOWIpOaWreezu+e7n+aJp+ihjOaViOeOh1xyXG4gICAgbG9nZ2VyLndhcm4oYFske2N0eC5tZXRob2R9IC0gJHtjdHgudXJsfSAtIHRpbWU6ICR7cmVzVGltZSAvIDEwMDB9c11gKVxyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/Logger.js\n");

/***/ }),

/***/ "./src/common/Utils.js":
/*!*****************************!*\
  !*** ./src/common/Utils.js ***!
  \*****************************/
/*! exports provided: checkCode, getJWtPayload, dirExists, rename, getMenuData, sortMenus, flatten, getRights */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCode\", function() { return checkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getJWtPayload\", function() { return getJWtPayload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dirExists\", function() { return dirExists; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rename\", function() { return rename; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMenuData\", function() { return getMenuData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sortMenus\", function() { return sortMenus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flatten\", function() { return flatten; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRights\", function() { return getRights; });\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n // 获取token中的数据\n\nconst getJWtPayload = token => {\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.verify(token.split(' ')[1], _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].JWT_SECRET);\n}; // 检验验证码\n\n\nconst checkCode = async (key, value) => {\n  // 根据sid获取redis中的验证码\n  const redisData = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__[\"getValue\"])(key);\n\n  if (redisData != null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}; // 判断目录是否存在\n\n\nconst getStats = path => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.stat(path, (err, stats) => {\n      if (err) {\n        // 不存在\n        resolve(false);\n      } else {\n        // stats 为 stat函数返回的Stats对象\n        resolve(stats);\n      }\n    }); // fs.stat(path, (err, stats) => err ? resolve(false) : resolve(stats))\n  });\n}; // 创建目录\n\n\nconst mkdir = dir => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.mkdir(dir, err => err ? resolve(false) : resolve(true));\n  });\n}; // 循环遍历,递归判断如果上级目录不存在,则产生上级目录\n\n\nconst dirExists = async dir => {\n  // 判断目录是否存在\n  const isExists = await getStats(dir); // 如果该路径存在且不是文件,返回true, isDirectory检查目录是否存在\n\n  if (isExists && isExists.isDirectory()) {\n    return true;\n  } else if (isExists) {\n    // 路径存在,但是是文件,返回false\n    return false;\n  } // 如果该路径不存在 parse 解析路径并返回一个对象\n  // parse('/a/b/c/d.txt') -> { root:'/', dir:'/a/b/c', ext:'.txt', base:'d.txt', name: 'd' }\n  // parse(dir).dir 拿到路径的上一级目录路径再调用函数判断是否存在\n\n\n  const tempDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.parse(dir).dir; // 循环遍历,递归判断,如果当前目录不存在则判断上级目录,直到有一级目录存在则调用mkdir直接创建所传路径,然后一层层创建\n\n  const status = await dirExists(tempDir);\n\n  if (status) {\n    const result = await mkdir(dir);\n    console.log('dirExists -> mkdir:', result);\n    return result;\n  } else {\n    return false;\n  }\n};\n\nconst rename = (obj, key, newKey) => {\n  if (Object.keys(obj).indexOf(key) !== -1) {\n    obj[newKey] = obj[key];\n    delete obj[key];\n  }\n\n  return obj;\n}; // 排序\n\n\nconst sortObj = (arr, property) => {\n  return arr.sort((m, n) => m[property] - n[property]);\n}; // 菜单排序\n\n\nconst sortMenus = tree => {\n  tree = sortObj(tree, 'sort');\n\n  if (tree.children && tree.children.length > 0) {\n    tree.children = sortObj(tree.children, 'sort');\n  }\n\n  if (tree.operations && tree.operations.length > 0) {\n    tree.operations = sortObj(tree.operations, 'sort');\n  }\n\n  return tree;\n}; // 获取菜单数据并改造结构\n\n\nconst getMenuData = (tree, rights, flag) => {\n  const arr = [];\n\n  for (let i = 0; i < tree.length; i++) {\n    const item = tree[i]; // _id 包含在menus中\n    // 结构进行改造,删除operations\n    // rights中_id为string,所以 +'' 进行转换\n\n    if (rights.includes(item._id + '') || flag) {\n      if (item.type === 'menu') {\n        arr.push({\n          _id: item._id,\n          path: item.path,\n          meta: {\n            title: item.title,\n            hideInBread: item.hideInBread,\n            hideInMenu: item.hideInMenu,\n            notCache: item.notCache,\n            icon: item.icon\n          },\n          component: item.component,\n          children: getMenuData(item.children, rights)\n        });\n      } else if (item.type === 'link') {\n        arr.push({\n          _id: item._id,\n          path: item.path,\n          meta: {\n            title: item.title,\n            icon: item.icon,\n            href: item.link\n          }\n        });\n      }\n    }\n  }\n\n  return sortObj(arr, 'sort');\n};\n\nconst flatten = arr => {\n  while (arr.some(item => Array.isArray(item))) {\n    arr = [].concat(...arr);\n  }\n\n  return arr;\n};\n\nconst getRights = (tree, menus) => {\n  let arr = [];\n\n  for (let item of tree) {\n    if (item.operations && item.operations.length > 0) {\n      for (let op of item.operations) {\n        if (menus.includes(op._id + '')) {\n          arr.push(op.path);\n        }\n      }\n    } else if (item.children && item.children.length > 0) {\n      arr.push(getRights(item.children, menus));\n    }\n  } // console.log('getRight: ',arr)\n\n\n  return flatten(arr);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1V0aWxzLmpzP2I0ZGYiXSwibmFtZXMiOlsiZ2V0Sld0UGF5bG9hZCIsInRva2VuIiwiand0IiwidmVyaWZ5Iiwic3BsaXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiY2hlY2tDb2RlIiwia2V5IiwidmFsdWUiLCJyZWRpc0RhdGEiLCJnZXRWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZ2V0U3RhdHMiLCJwYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmcyIsInN0YXQiLCJlcnIiLCJzdGF0cyIsIm1rZGlyIiwiZGlyIiwiZGlyRXhpc3RzIiwiaXNFeGlzdHMiLCJpc0RpcmVjdG9yeSIsInRlbXBEaXIiLCJwYXJzZSIsInN0YXR1cyIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJyZW5hbWUiLCJvYmoiLCJuZXdLZXkiLCJPYmplY3QiLCJrZXlzIiwiaW5kZXhPZiIsInNvcnRPYmoiLCJhcnIiLCJwcm9wZXJ0eSIsInNvcnQiLCJtIiwibiIsInNvcnRNZW51cyIsInRyZWUiLCJjaGlsZHJlbiIsImxlbmd0aCIsIm9wZXJhdGlvbnMiLCJnZXRNZW51RGF0YSIsInJpZ2h0cyIsImZsYWciLCJpIiwiaXRlbSIsImluY2x1ZGVzIiwiX2lkIiwidHlwZSIsInB1c2giLCJtZXRhIiwidGl0bGUiLCJoaWRlSW5CcmVhZCIsImhpZGVJbk1lbnUiLCJub3RDYWNoZSIsImljb24iLCJjb21wb25lbnQiLCJocmVmIiwibGluayIsImZsYXR0ZW4iLCJzb21lIiwiQXJyYXkiLCJpc0FycmF5IiwiY29uY2F0IiwiZ2V0UmlnaHRzIiwibWVudXMiLCJvcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0NBR0E7O0FBQ0EsTUFBTUEsYUFBYSxHQUFHQyxLQUFLLElBQUk7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LElBQUQsSUFBVWdCLEtBQUssQ0FBQ0MsT0FBTixDQUFjakIsSUFBZCxDQUFuQixDQUFQLEVBQWdEO0FBQzlDZCxPQUFHLEdBQUcsR0FBR2dDLE1BQUgsQ0FBVSxHQUFHaEMsR0FBYixDQUFOO0FBQ0Q7O0FBQ0QsU0FBT0EsR0FBUDtBQUNELENBTEQ7O0FBT0EsTUFBTWlDLFNBQVMsR0FBRyxDQUFDM0IsSUFBRCxFQUFPNEIsS0FBUCxLQUFpQjtBQUNqQyxNQUFJbEMsR0FBRyxHQUFHLEVBQVY7O0FBQ0EsT0FBSyxJQUFJYyxJQUFULElBQWlCUixJQUFqQixFQUF1QjtBQUNyQixRQUFJUSxJQUFJLENBQUNMLFVBQUwsSUFBbUJLLElBQUksQ0FBQ0wsVUFBTCxDQUFnQkQsTUFBaEIsR0FBeUIsQ0FBaEQsRUFBbUQ7QUFDakQsV0FBSyxJQUFJMkIsRUFBVCxJQUFlckIsSUFBSSxDQUFDTCxVQUFwQixFQUFnQztBQUM5QixZQUFJeUIsS0FBSyxDQUFDbkIsUUFBTixDQUFlb0IsRUFBRSxDQUFDbkIsR0FBSCxHQUFTLEVBQXhCLENBQUosRUFBaUM7QUFDL0JoQixhQUFHLENBQUNrQixJQUFKLENBQVNpQixFQUFFLENBQUM1RCxJQUFaO0FBQ0Q7QUFDRjtBQUNGLEtBTkQsTUFNTyxJQUFJdUMsSUFBSSxDQUFDUCxRQUFMLElBQWlCTyxJQUFJLENBQUNQLFFBQUwsQ0FBY0MsTUFBZCxHQUF1QixDQUE1QyxFQUErQztBQUNwRFIsU0FBRyxDQUFDa0IsSUFBSixDQUFTZSxTQUFTLENBQUNuQixJQUFJLENBQUNQLFFBQU4sRUFBZ0IyQixLQUFoQixDQUFsQjtBQUNEO0FBQ0YsR0FaZ0MsQ0FhakM7OztBQUNBLFNBQU9OLE9BQU8sQ0FBQzVCLEdBQUQsQ0FBZDtBQUNELENBZkQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL1V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VmFsdWUgfSBmcm9tICcuLi9jb25maWcvUmVkaXNDb25maWcnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5cclxuLy8g6I635Y+WdG9rZW7kuK3nmoTmlbDmja5cclxuY29uc3QgZ2V0Sld0UGF5bG9hZCA9IHRva2VuID0+IHtcclxuICByZXR1cm4gand0LnZlcmlmeSh0b2tlbi5zcGxpdCgnICcpWzFdLCBjb25maWcuSldUX1NFQ1JFVClcclxufVxyXG5cclxuLy8g5qOA6aqM6aqM6K+B56CBXHJcbmNvbnN0IGNoZWNrQ29kZSA9IGFzeW5jIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgLy8g5qC55o2uc2lk6I635Y+WcmVkaXPkuK3nmoTpqozor4HnoIFcclxuICBjb25zdCByZWRpc0RhdGEgPSBhd2FpdCBnZXRWYWx1ZShrZXkpXHJcbiAgaWYgKHJlZGlzRGF0YSAhPSBudWxsKSB7XHJcbiAgICBpZihyZWRpc0RhdGEudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSl7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblxyXG4vLyDliKTmlq3nm67lvZXmmK/lkKblrZjlnKhcclxuY29uc3QgZ2V0U3RhdHMgPSAocGF0aCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgZnMuc3RhdChwYXRoLCAoZXJyLCBzdGF0cykgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgLy8g5LiN5a2Y5ZyoXHJcbiAgICAgICAgcmVzb2x2ZShmYWxzZSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBzdGF0cyDkuLogc3RhdOWHveaVsOi/lOWbnueahFN0YXRz5a+56LGhXHJcbiAgICAgICAgcmVzb2x2ZShzdGF0cylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIGZzLnN0YXQocGF0aCwgKGVyciwgc3RhdHMpID0+IGVyciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZShzdGF0cykpXHJcbiAgfSlcclxufVxyXG5cclxuLy8g5Yib5bu655uu5b2VXHJcbmNvbnN0IG1rZGlyID0gKGRpcikgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgZnMubWtkaXIoZGlyLCBlcnIgPT4gZXJyID8gcmVzb2x2ZShmYWxzZSkgOiByZXNvbHZlKHRydWUpKVxyXG4gIH0pXHJcbn1cclxuXHJcbi8vIOW+queOr+mBjeWOhizpgJLlvZLliKTmlq3lpoLmnpzkuIrnuqfnm67lvZXkuI3lrZjlnKgs5YiZ5Lqn55Sf5LiK57qn55uu5b2VXHJcbmNvbnN0IGRpckV4aXN0cyA9IGFzeW5jIChkaXIpID0+IHtcclxuICAvLyDliKTmlq3nm67lvZXmmK/lkKblrZjlnKhcclxuICBjb25zdCBpc0V4aXN0cyA9IGF3YWl0IGdldFN0YXRzKGRpcilcclxuXHJcbiAgLy8g5aaC5p6c6K+l6Lev5b6E5a2Y5Zyo5LiU5LiN5piv5paH5Lu2LOi/lOWbnnRydWUsIGlzRGlyZWN0b3J55qOA5p+l55uu5b2V5piv5ZCm5a2Y5ZyoXHJcbiAgaWYgKGlzRXhpc3RzICYmIGlzRXhpc3RzLmlzRGlyZWN0b3J5KCkpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfSBlbHNlIGlmIChpc0V4aXN0cykge1xyXG4gICAgLy8g6Lev5b6E5a2Y5ZyoLOS9huaYr+aYr+aWh+S7tizov5Tlm55mYWxzZVxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICAvLyDlpoLmnpzor6Xot6/lvoTkuI3lrZjlnKggcGFyc2Ug6Kej5p6Q6Lev5b6E5bm26L+U5Zue5LiA5Liq5a+56LGhXHJcbiAgLy8gcGFyc2UoJy9hL2IvYy9kLnR4dCcpIC0+IHsgcm9vdDonLycsIGRpcjonL2EvYi9jJywgZXh0OicudHh0JywgYmFzZTonZC50eHQnLCBuYW1lOiAnZCcgfVxyXG4gIC8vIHBhcnNlKGRpcikuZGlyIOaLv+WIsOi3r+W+hOeahOS4iuS4gOe6p+ebruW9lei3r+W+hOWGjeiwg+eUqOWHveaVsOWIpOaWreaYr+WQpuWtmOWcqFxyXG4gIGNvbnN0IHRlbXBEaXIgPSBwYXRoLnBhcnNlKGRpcikuZGlyXHJcbiAgLy8g5b6q546v6YGN5Y6GLOmAkuW9kuWIpOaWrSzlpoLmnpzlvZPliY3nm67lvZXkuI3lrZjlnKjliJnliKTmlq3kuIrnuqfnm67lvZUs55u05Yiw5pyJ5LiA57qn55uu5b2V5a2Y5Zyo5YiZ6LCD55SobWtkaXLnm7TmjqXliJvlu7rmiYDkvKDot6/lvoQs54S25ZCO5LiA5bGC5bGC5Yib5bu6XHJcbiAgY29uc3Qgc3RhdHVzID0gYXdhaXQgZGlyRXhpc3RzKHRlbXBEaXIpXHJcbiAgaWYgKHN0YXR1cykge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWtkaXIoZGlyKVxyXG4gICAgY29uc29sZS5sb2coJ2RpckV4aXN0cyAtPiBta2RpcjonLCByZXN1bHQpXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgcmVuYW1lID0gKG9iaiwga2V5LCBuZXdLZXkpID0+IHtcclxuICBpZiAoT2JqZWN0LmtleXMob2JqKS5pbmRleE9mKGtleSkgIT09IC0xKSB7XHJcbiAgICBvYmpbbmV3S2V5XSA9IG9ialtrZXldXHJcbiAgICBkZWxldGUgb2JqW2tleV1cclxuICB9XHJcbiAgcmV0dXJuIG9ialxyXG59XHJcblxyXG4vLyDmjpLluo9cclxuY29uc3Qgc29ydE9iaiA9IChhcnIsIHByb3BlcnR5KSA9PiB7XHJcbiAgcmV0dXJuIGFyci5zb3J0KChtLCBuKSA9PiBtW3Byb3BlcnR5XSAtIG5bcHJvcGVydHldKVxyXG59XHJcblxyXG4vLyDoj5zljZXmjpLluo9cclxuY29uc3Qgc29ydE1lbnVzID0gKHRyZWUpID0+IHtcclxuICB0cmVlID0gc29ydE9iaih0cmVlLCAnc29ydCcpXHJcbiAgaWYgKHRyZWUuY2hpbGRyZW4gJiYgdHJlZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICB0cmVlLmNoaWxkcmVuID0gc29ydE9iaih0cmVlLmNoaWxkcmVuLCAnc29ydCcpXHJcbiAgfVxyXG4gIGlmICh0cmVlLm9wZXJhdGlvbnMgJiYgdHJlZS5vcGVyYXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgIHRyZWUub3BlcmF0aW9ucyA9IHNvcnRPYmoodHJlZS5vcGVyYXRpb25zLCAnc29ydCcpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJlZVxyXG59XHJcblxyXG4vLyDojrflj5boj5zljZXmlbDmja7lubbmlLnpgKDnu5PmnoRcclxuY29uc3QgZ2V0TWVudURhdGEgPSAodHJlZSwgcmlnaHRzLCBmbGFnKSA9PiB7XHJcbiAgY29uc3QgYXJyID0gW11cclxuICBmb3IobGV0IGkgPSAwOyBpIDwgdHJlZS5sZW5ndGg7IGkrKyl7XHJcbiAgICBjb25zdCBpdGVtID0gdHJlZVtpXVxyXG4gICAgLy8gX2lkIOWMheWQq+WcqG1lbnVz5LitXHJcbiAgICAgIC8vIOe7k+aehOi/m+ihjOaUuemAoCzliKDpmaRvcGVyYXRpb25zXHJcbiAgICAgIC8vIHJpZ2h0c+S4rV9pZOS4unN0cmluZyzmiYDku6UgKycnIOi/m+ihjOi9rOaNolxyXG4gICAgICBpZiAocmlnaHRzLmluY2x1ZGVzKGl0ZW0uX2lkICsgJycpIHx8IGZsYWcpIHtcclxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVudScpIHtcclxuICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgX2lkOiBpdGVtLl9pZCxcclxuICAgICAgICAgICAgcGF0aDogaXRlbS5wYXRoLFxyXG4gICAgICAgICAgICBtZXRhOiB7XHJcbiAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXHJcbiAgICAgICAgICAgICAgaGlkZUluQnJlYWQ6IGl0ZW0uaGlkZUluQnJlYWQsXHJcbiAgICAgICAgICAgICAgaGlkZUluTWVudTogaXRlbS5oaWRlSW5NZW51LFxyXG4gICAgICAgICAgICAgIG5vdENhY2hlOiBpdGVtLm5vdENhY2hlLFxyXG4gICAgICAgICAgICAgIGljb246IGl0ZW0uaWNvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb21wb25lbnQ6IGl0ZW0uY29tcG9uZW50LFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0TWVudURhdGEoaXRlbS5jaGlsZHJlbiwgcmlnaHRzKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2xpbmsnKSB7XHJcbiAgICAgICAgICBhcnIucHVzaCh7XHJcbiAgICAgICAgICAgIF9pZDogaXRlbS5faWQsXHJcbiAgICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aCxcclxuICAgICAgICAgICAgbWV0YToge1xyXG4gICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxyXG4gICAgICAgICAgICAgIGljb246IGl0ZW0uaWNvbixcclxuICAgICAgICAgICAgICBocmVmOiBpdGVtLmxpbmtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzb3J0T2JqKGFyciwgJ3NvcnQnKVxyXG59XHJcblxyXG5jb25zdCBmbGF0dGVuID0gKGFycikgPT4ge1xyXG4gIHdoaWxlIChhcnIuc29tZSgoaXRlbSkgPT4gQXJyYXkuaXNBcnJheShpdGVtKSkpIHtcclxuICAgIGFyciA9IFtdLmNvbmNhdCguLi5hcnIpXHJcbiAgfVxyXG4gIHJldHVybiBhcnJcclxufVxyXG5cclxuY29uc3QgZ2V0UmlnaHRzID0gKHRyZWUsIG1lbnVzKSA9PiB7XHJcbiAgbGV0IGFyciA9IFtdXHJcbiAgZm9yIChsZXQgaXRlbSBvZiB0cmVlKSB7XHJcbiAgICBpZiAoaXRlbS5vcGVyYXRpb25zICYmIGl0ZW0ub3BlcmF0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAobGV0IG9wIG9mIGl0ZW0ub3BlcmF0aW9ucykge1xyXG4gICAgICAgIGlmIChtZW51cy5pbmNsdWRlcyhvcC5faWQgKyAnJykpIHtcclxuICAgICAgICAgIGFyci5wdXNoKG9wLnBhdGgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGFyci5wdXNoKGdldFJpZ2h0cyhpdGVtLmNoaWxkcmVuLCBtZW51cykpXHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIGNvbnNvbGUubG9nKCdnZXRSaWdodDogJyxhcnIpXHJcbiAgcmV0dXJuIGZsYXR0ZW4oYXJyKVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHtcclxuICBjaGVja0NvZGUsXHJcbiAgZ2V0Sld0UGF5bG9hZCxcclxuICBkaXJFeGlzdHMsXHJcbiAgcmVuYW1lLFxyXG4gIGdldE1lbnVEYXRhLFxyXG4gIHNvcnRNZW51cyxcclxuICBmbGF0dGVuLFxyXG4gIGdldFJpZ2h0c1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/Utils.js\n");

/***/ }),

/***/ "./src/common/init.js":
/*!****************************!*\
  !*** ./src/common/init.js ***!
  \****************************/
/*! exports provided: run */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"run\", function() { return run; });\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n\n\n\nconst run = async () => {\n  if (_config_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAdminEmain && _config_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAdminEmain.length > 0) {\n    const emails = _config_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAdminEmain;\n    const arr = []; // 将有管理员权限的账号id添加进数组\n\n    for (let email of emails) {\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n        username: email\n      });\n      arr.push(user._id);\n    }\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_2__[\"setValue\"])('admin', JSON.stringify(arr));\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2luaXQuanM/MjdiNyJdLCJuYW1lcyI6WyJydW4iLCJjb25maWciLCJpc0FkbWluRW1haW4iLCJsZW5ndGgiLCJlbWFpbHMiLCJhcnIiLCJlbWFpbCIsInVzZXIiLCJVc2VyIiwiZmluZE9uZSIsInVzZXJuYW1lIiwicHVzaCIsIl9pZCIsInNldFZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVPLE1BQU1BLEdBQUcsR0FBRyxZQUFZO0FBQzdCLE1BQUlDLHFEQUFNLENBQUNDLFlBQVAsSUFBdUJELHFEQUFNLENBQUNDLFlBQVAsQ0FBb0JDLE1BQXBCLEdBQTZCLENBQXhELEVBQTJEO0FBQ3pELFVBQU1DLE1BQU0sR0FBR0gscURBQU0sQ0FBQ0MsWUFBdEI7QUFDQSxVQUFNRyxHQUFHLEdBQUcsRUFBWixDQUZ5RCxDQUd6RDs7QUFDQSxTQUFLLElBQUlDLEtBQVQsSUFBa0JGLE1BQWxCLEVBQTBCO0FBQ3hCLFlBQU1HLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDQyxPQUFMLENBQWE7QUFBRUMsZ0JBQVEsRUFBRUo7QUFBWixPQUFiLENBQW5CO0FBQ0FELFNBQUcsQ0FBQ00sSUFBSixDQUFTSixJQUFJLENBQUNLLEdBQWQ7QUFDRDs7QUFFREMsd0VBQVEsQ0FBQyxPQUFELEVBQVVDLElBQUksQ0FBQ0MsU0FBTCxDQUFlVixHQUFmLENBQVYsQ0FBUjtBQUNEO0FBQ0YsQ0FaTSIsImZpbGUiOiIuL3NyYy9jb21tb24vaW5pdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xyXG5pbXBvcnQgeyBzZXRWYWx1ZSB9IGZyb20gJy4uL2NvbmZpZy9SZWRpc0NvbmZpZydcclxuXHJcbmV4cG9ydCBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7XHJcbiAgaWYgKGNvbmZpZy5pc0FkbWluRW1haW4gJiYgY29uZmlnLmlzQWRtaW5FbWFpbi5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBlbWFpbHMgPSBjb25maWcuaXNBZG1pbkVtYWluXHJcbiAgICBjb25zdCBhcnIgPSBbXVxyXG4gICAgLy8g5bCG5pyJ566h55CG5ZGY5p2D6ZmQ55qE6LSm5Y+3aWTmt7vliqDov5vmlbDnu4RcclxuICAgIGZvciAobGV0IGVtYWlsIG9mIGVtYWlscykge1xyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IGVtYWlsIH0pXHJcbiAgICAgIGFyci5wdXNoKHVzZXIuX2lkKVxyXG4gICAgfVxyXG5cclxuICAgIHNldFZhbHVlKCdhZG1pbicsIEpTT04uc3RyaW5naWZ5KGFycikpXHJcbiAgfVxyXG59XHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/init.js\n");

/***/ }),

/***/ "./src/config/DBHelpler.js":
/*!*********************************!*\
  !*** ./src/config/DBHelpler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n/*\n * @Author: your name\n * @Date: 2020-12-28 15:06:57\n * @LastEditTime: 2021-02-22 13:40:26\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: \\test-axios-api-start\\src\\config\\DBHelpler.js\n */\n\n // 创建连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); // 连接成功\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('connected', () => {\n  console.log('Mongoose connection open to ' + _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL);\n}); // 连接异常\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('error', err => {\n  console.log('Mongoose connection error: ' + err);\n}); // 断开连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('disconnected', () => {\n  console.log('Mongoose connection disconnected');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mongoose__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcz9lNjg0Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdCIsImNvbmZpZyIsIkRCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0NBR0E7O0FBQ0FBLCtDQUFRLENBQUNDLE9BQVQsQ0FBaUJDLDhDQUFNLENBQUNDLE1BQXhCLEVBQWdDO0FBQzlCQyxpQkFBZSxFQUFFLElBRGE7QUFFOUJDLG9CQUFrQixFQUFFO0FBRlUsQ0FBaEMsRSxDQUtBOztBQUNBTCwrQ0FBUSxDQUFDTSxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxNQUFNO0FBQ3hDQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxpQ0FBaUNQLDhDQUFNLENBQUNDLE1BQXBEO0FBQ0QsQ0FGRCxFLENBSUE7O0FBQ0FILCtDQUFRLENBQUNNLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWlDRyxHQUFELElBQVM7QUFDdkNGLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLGdDQUFnQ0MsR0FBNUM7QUFDRCxDQUZELEUsQ0FJQTs7QUFDQVYsK0NBQVEsQ0FBQ00sVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUMsTUFBTTtBQUMzQ0MsU0FBTyxDQUFDQyxHQUFSLENBQVksa0NBQVo7QUFDRCxDQUZEO0FBSWVULDhHQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9EQkhlbHBsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQEF1dGhvcjogeW91ciBuYW1lXG4gKiBARGF0ZTogMjAyMC0xMi0yOCAxNTowNjo1N1xuICogQExhc3RFZGl0VGltZTogMjAyMS0wMi0yMiAxMzo0MDoyNlxuICogQExhc3RFZGl0b3JzOiBQbGVhc2Ugc2V0IExhc3RFZGl0b3JzXG4gKiBARGVzY3JpcHRpb246IEluIFVzZXIgU2V0dGluZ3MgRWRpdFxuICogQEZpbGVQYXRoOiBcXHRlc3QtYXhpb3MtYXBpLXN0YXJ0XFxzcmNcXGNvbmZpZ1xcREJIZWxwbGVyLmpzXG4gKi9cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcbmltcG9ydCBjb25maWcgZnJvbSAnLi9pbmRleCdcblxuLy8g5Yib5bu66L+e5o6lXG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5EQl9VUkwsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbn0pXG5cbi8vIOi/nuaOpeaIkOWKn1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBvcGVuIHRvICcgKyBjb25maWcuREJfVVJMKTtcbn0pXG5cbi8vIOi/nuaOpeW8guW4uFxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdNb25nb29zZSBjb25uZWN0aW9uIGVycm9yOiAnICsgZXJyKTtcbn0pXG5cbi8vIOaWreW8gOi/nuaOpVxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZGlzY29ubmVjdGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnKVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/DBHelpler.js\n");

/***/ }),

/***/ "./src/config/MailConfig.js":
/*!**********************************!*\
  !*** ./src/config/MailConfig.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n // async..await is not allowed in global scope, must use a wrapper\n\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  // let testAccount = await nodemailer.createTestAccount()\n  // create reusable transporter object using the default SMTP transport\n  let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n    host: 'smtp.qq.com',\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: '841796191@qq.com',\n      // generated ethereal user\n      pass: 'emhqkhwzaooobeei' // 授权码到qq邮箱设置中获取\n\n    }\n  }); // let sendInfo = {\n  //   code: '1234',\n  //   expire: '2019-10-01',\n  //   email: 'imoocbrian@qq.com',\n  //   user: 'Brian',\n  // }\n\n  const baseUrl = _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl;\n  const route = sendInfo.type === 'email' ? '/confirm' : 'reset'; // 拼接跳转链接,携带uuid和新修改用户邮箱\n\n  let url = `${baseUrl}/#${route}?` + qs__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(sendInfo.data); // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: '\"认证邮件\" <841796191@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: sendInfo.user !== '' && sendInfo.type !== 'email' ? `你好开发者，${sendInfo.user}！《问答网》注册码` : '《问答网》确认修改邮件链接',\n    // Subject line\n    text: `您在问答网中注册，您的邀请码是${sendInfo.code},邀请码的过期时间: ${sendInfo.expire}`,\n    // plain text body\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">问答社区——欢迎来到官方社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，修改链接有效时间30分钟，请在${sendInfo.expire}之前确认修改您的账号邮箱：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n    ` // html body\n\n  });\n  return 'Message sent: %s', info.messageId; // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n  // console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info))\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n} // main().catch(console.error)\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (send);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL01haWxDb25maWcuanM/MmRiMSJdLCJuYW1lcyI6WyJzZW5kIiwic2VuZEluZm8iLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImJhc2VVcmwiLCJjb25maWciLCJyb3V0ZSIsInR5cGUiLCJ1cmwiLCJxcyIsInN0cmluZ2lmeSIsImRhdGEiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJ0ZXh0IiwiY29kZSIsImV4cGlyZSIsImh0bWwiLCJtZXNzYWdlSWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Q0FHQTs7QUFDQSxlQUFlQSxJQUFmLENBQW9CQyxRQUFwQixFQUE4QjtBQUM1QjtBQUNBO0FBQ0E7QUFFQTtBQUNBLE1BQUlDLFdBQVcsR0FBR0MsaURBQVUsQ0FBQ0MsZUFBWCxDQUEyQjtBQUMzQ0MsUUFBSSxFQUFFLGFBRHFDO0FBRTNDQyxRQUFJLEVBQUUsR0FGcUM7QUFHM0NDLFVBQU0sRUFBRSxLQUhtQztBQUc1QjtBQUNmQyxRQUFJLEVBQUU7QUFDSkMsVUFBSSxFQUFFLGtCQURGO0FBQ3NCO0FBQzFCQyxVQUFJLEVBQUUsa0JBRkYsQ0FFc0I7O0FBRnRCO0FBSnFDLEdBQTNCLENBQWxCLENBTjRCLENBZ0I1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsUUFBTUMsT0FBTyxHQUFHQyw4Q0FBTSxDQUFDRCxPQUF2QjtBQUNBLFFBQU1FLEtBQUssR0FBR1osUUFBUSxDQUFDYSxJQUFULEtBQWtCLE9BQWxCLEdBQTRCLFVBQTVCLEdBQXlDLE9BQXZELENBdkI0QixDQXdCNUI7O0FBQ0EsTUFBSUMsR0FBRyxHQUFJLEdBQUVKLE9BQVEsS0FBSUUsS0FBTSxHQUFyQixHQUEwQkcseUNBQUUsQ0FBQ0MsU0FBSCxDQUFhaEIsUUFBUSxDQUFDaUIsSUFBdEIsQ0FBcEMsQ0F6QjRCLENBMkI1Qjs7QUFDQSxNQUFJQyxJQUFJLEdBQUcsTUFBTWpCLFdBQVcsQ0FBQ2tCLFFBQVosQ0FBcUI7QUFDcENDLFFBQUksRUFBRSwyQkFEOEI7QUFDRDtBQUNuQ0MsTUFBRSxFQUFFckIsUUFBUSxDQUFDc0IsS0FGdUI7QUFFaEI7QUFDcEJDLFdBQU8sRUFDTHZCLFFBQVEsQ0FBQ1EsSUFBVCxLQUFrQixFQUFsQixJQUF3QlIsUUFBUSxDQUFDYSxJQUFULEtBQWtCLE9BQTFDLEdBQ0ssU0FBUWIsUUFBUSxDQUFDUSxJQUFLLFdBRDNCLEdBRUksZUFOOEI7QUFNYjtBQUN2QmdCLFFBQUksRUFBRyxrQkFDTHhCLFFBQVEsQ0FBQ3lCLElBQ1YsY0FBYXpCLFFBQVEsQ0FBQzBCLE1BQU8sRUFUTTtBQVNIO0FBQ2pDQyxRQUFJLEVBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IzQixRQUFRLENBQUNRLElBQUsscUJBQzVCUixRQUFRLENBQUMwQixNQUNWO0FBQ0wscUJBQXFCWixHQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0F0QndDLENBc0JqQzs7QUF0QmlDLEdBQXJCLENBQWpCO0FBeUJBLFNBQU8sb0JBQW9CSSxJQUFJLENBQUNVLFNBQWhDLENBckQ0QixDQXNENUI7QUFFQTtBQUNBO0FBQ0E7QUFDRCxDLENBRUQ7OztBQUVlN0IsbUVBQWYiLCJmaWxlIjoiLi9zcmMvY29uZmlnL01haWxDb25maWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHFzIGZyb20gJ3FzJ1xuXG4vLyBhc3luYy4uYXdhaXQgaXMgbm90IGFsbG93ZWQgaW4gZ2xvYmFsIHNjb3BlLCBtdXN0IHVzZSBhIHdyYXBwZXJcbmFzeW5jIGZ1bmN0aW9uIHNlbmQoc2VuZEluZm8pIHtcbiAgLy8gR2VuZXJhdGUgdGVzdCBTTVRQIHNlcnZpY2UgYWNjb3VudCBmcm9tIGV0aGVyZWFsLmVtYWlsXG4gIC8vIE9ubHkgbmVlZGVkIGlmIHlvdSBkb24ndCBoYXZlIGEgcmVhbCBtYWlsIGFjY291bnQgZm9yIHRlc3RpbmdcbiAgLy8gbGV0IHRlc3RBY2NvdW50ID0gYXdhaXQgbm9kZW1haWxlci5jcmVhdGVUZXN0QWNjb3VudCgpXG5cbiAgLy8gY3JlYXRlIHJldXNhYmxlIHRyYW5zcG9ydGVyIG9iamVjdCB1c2luZyB0aGUgZGVmYXVsdCBTTVRQIHRyYW5zcG9ydFxuICBsZXQgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgaG9zdDogJ3NtdHAucXEuY29tJyxcbiAgICBwb3J0OiA1ODcsXG4gICAgc2VjdXJlOiBmYWxzZSwgLy8gdHJ1ZSBmb3IgNDY1LCBmYWxzZSBmb3Igb3RoZXIgcG9ydHNcbiAgICBhdXRoOiB7XG4gICAgICB1c2VyOiAnODQxNzk2MTkxQHFxLmNvbScsIC8vIGdlbmVyYXRlZCBldGhlcmVhbCB1c2VyXG4gICAgICBwYXNzOiAnZW1ocWtod3phb29vYmVlaScsIC8vIOaOiOadg+eggeWIsHFx6YKu566x6K6+572u5Lit6I635Y+WXG4gICAgfSxcbiAgfSlcblxuICAvLyBsZXQgc2VuZEluZm8gPSB7XG4gIC8vICAgY29kZTogJzEyMzQnLFxuICAvLyAgIGV4cGlyZTogJzIwMTktMTAtMDEnLFxuICAvLyAgIGVtYWlsOiAnaW1vb2NicmlhbkBxcS5jb20nLFxuICAvLyAgIHVzZXI6ICdCcmlhbicsXG4gIC8vIH1cbiAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsXG4gIGNvbnN0IHJvdXRlID0gc2VuZEluZm8udHlwZSA9PT0gJ2VtYWlsJyA/ICcvY29uZmlybScgOiAncmVzZXQnXG4gIC8vIOaLvOaOpei3s+i9rOmTvuaOpSzmkLrluKZ1dWlk5ZKM5paw5L+u5pS555So5oi36YKu566xXG4gIGxldCB1cmwgPSBgJHtiYXNlVXJsfS8jJHtyb3V0ZX0/YCArIHFzLnN0cmluZ2lmeShzZW5kSW5mby5kYXRhKVxuXG4gIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxuICBsZXQgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICBmcm9tOiAnXCLorqTor4Hpgq7ku7ZcIiA8ODQxNzk2MTkxQHFxLmNvbT4nLCAvLyBzZW5kZXIgYWRkcmVzc1xuICAgIHRvOiBzZW5kSW5mby5lbWFpbCwgLy8gbGlzdCBvZiByZWNlaXZlcnNcbiAgICBzdWJqZWN0OlxuICAgICAgc2VuZEluZm8udXNlciAhPT0gJycgJiYgc2VuZEluZm8udHlwZSAhPT0gJ2VtYWlsJ1xuICAgICAgICA/IGDkvaDlpb3lvIDlj5HogIXvvIwke3NlbmRJbmZvLnVzZXJ977yB44CK6Zeu562U572R44CL5rOo5YaM56CBYFxuICAgICAgICA6ICfjgIrpl67nrZTnvZHjgIvnoa7orqTkv67mlLnpgq7ku7bpk77mjqUnLCAvLyBTdWJqZWN0IGxpbmVcbiAgICB0ZXh0OiBg5oKo5Zyo6Zeu562U572R5Lit5rOo5YaM77yM5oKo55qE6YKA6K+356CB5pivJHtcbiAgICAgIHNlbmRJbmZvLmNvZGVcbiAgICB9LOmCgOivt+eggeeahOi/h+acn+aXtumXtDogJHtzZW5kSW5mby5leHBpcmV9YCwgLy8gcGxhaW4gdGV4dCBib2R5XG4gICAgaHRtbDogYFxuICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgI2RjZGNkYztjb2xvcjogIzY3Njc2Nzt3aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nLWJvdHRvbTogNTBweDtwb3NpdGlvbjogcmVsYXRpdmU7XCI+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDYwcHg7IGJhY2tncm91bmQ6ICMzOTNkNDk7IGxpbmUtaGVpZ2h0OiA2MHB4OyBjb2xvcjogIzU4YTM2ZjsgZm9udC1zaXplOiAxOHB4O3BhZGRpbmctbGVmdDogMTBweDtcIj7pl67nrZTnpL7ljLrigJTigJTmrKLov47mnaXliLDlrpjmlrnnpL7ljLo8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDI1cHhcIj5cbiAgICAgICAgICA8ZGl2PuaCqOWlve+8jCR7c2VuZEluZm8udXNlcn3nq6XpnovvvIzkv67mlLnpk77mjqXmnInmlYjml7bpl7QzMOWIhumSn++8jOivt+WcqCR7XG4gICAgICBzZW5kSW5mby5leHBpcmVcbiAgICB95LmL5YmN56Gu6K6k5L+u5pS55oKo55qE6LSm5Y+36YKu566x77yaPC9kaXY+XG4gICAgICAgICAgPGEgaHJlZj1cIiR7dXJsfVwiIHN0eWxlPVwicGFkZGluZzogMTBweCAyMHB4OyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIzAwOWU5NDsgZGlzcGxheTogaW5saW5lLWJsb2NrO21hcmdpbjogMTVweCAwO1wiPueri+WNs+mHjee9ruWvhueggTwvYT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogNXB4OyBiYWNrZ3JvdW5kOiAjZjJmMmYyO1wiPuWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAgjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmYWZhZmE7IGNvbG9yOiAjYjRiNGI0O3RleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDQ1cHg7IGhlaWdodDogNDVweDsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyBib3R0b206IDA7d2lkdGg6IDEwMCU7XCI+57O757uf6YKu5Lu277yM6K+35Yu/55u05o6l5Zue5aSNPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYCwgLy8gaHRtbCBib2R5XG4gIH0pXG5cbiAgcmV0dXJuICdNZXNzYWdlIHNlbnQ6ICVzJywgaW5mby5tZXNzYWdlSWRcbiAgLy8gTWVzc2FnZSBzZW50OiA8YjY1OGY4Y2EtNjI5Ni1jY2Y0LTgzMDYtODdkNTdhMGI0MzIxQGV4YW1wbGUuY29tPlxuXG4gIC8vIFByZXZpZXcgb25seSBhdmFpbGFibGUgd2hlbiBzZW5kaW5nIHRocm91Z2ggYW4gRXRoZXJlYWwgYWNjb3VudFxuICAvLyBjb25zb2xlLmxvZygnUHJldmlldyBVUkw6ICVzJywgbm9kZW1haWxlci5nZXRUZXN0TWVzc2FnZVVybChpbmZvKSlcbiAgLy8gUHJldmlldyBVUkw6IGh0dHBzOi8vZXRoZXJlYWwuZW1haWwvbWVzc2FnZS9XYVFLTWdLZGR4UURvb3UuLi5cbn1cblxuLy8gbWFpbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG5cbmV4cG9ydCBkZWZhdWx0IHNlbmRcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/MailConfig.js\n");

/***/ }),

/***/ "./src/config/RedisConfig.js":
/*!***********************************!*\
  !*** ./src/config/RedisConfig.js ***!
  \***********************************/
/*! exports provided: client, setValue, getValue, getHValue, delValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"client\", function() { return client; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setValue\", function() { return setValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValue\", function() { return getValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHValue\", function() { return getHValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delValue\", function() { return delValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bluebird */ \"bluebird\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\n\nconst options = {\n  host: '192.168.110.131',\n  port: 15001,\n  password: '123456',\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === 'ECONNREFUSED') {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error('The server refused the connection');\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error('Retry time exhausted');\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n}; // const client = redis.createClient(options)\n// promisifyAll把redis的操作全转换为异步操作\n\nconst client = Object(bluebird__WEBPACK_IMPORTED_MODULE_1__[\"promisifyAll\"])(redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options));\nclient.on('error', err => {\n  console.log('Redis Client Error:' + err);\n}); // 设置键值\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value == null || value === '') {\n    return;\n  } // 判断存储的是字符串还是哈希对象\n\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      // 如果有传时间参数则给键值设置过期时间\n      client.set(key, value, 'EX', time);\n    } else {\n      client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    // { key1: value1, key2: value2}\n    // Object.keys(value) => [key1, key2]\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print);\n    });\n  }\n}; // const {promisify} = require('util');\n// const getAsync = promisify(client.get).bind(client);\n// 获取键值\n\n\nconst getValue = key => {\n  return client.getAsync(key);\n}; // 获取所有键值\n\n\nconst getHValue = key => {\n  // v8 Promisify method use util, must node > 8\n  // return promisify(client.hgetall).bind(client)(key)\n  // bluebird async\n  return client.hgetallAsync(key);\n}; // 删除键值\n\n\nconst delValue = key => {\n  client.del(key, (err, res) => {\n    if (res === 1) {\n      console.log('delete successfully');\n    } else {\n      console.log('delete redis key error:' + err);\n    }\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiXSwibmFtZXMiOlsib3B0aW9ucyIsImhvc3QiLCJwb3J0IiwicGFzc3dvcmQiLCJkZXRlY3RfYnVmZmVycyIsInJldHJ5X3N0cmF0ZWd5IiwiZXJyb3IiLCJjb2RlIiwiRXJyb3IiLCJ0b3RhbF9yZXRyeV90aW1lIiwiYXR0ZW1wdCIsInVuZGVmaW5lZCIsIk1hdGgiLCJtaW4iLCJjbGllbnQiLCJwcm9taXNpZnlBbGwiLCJyZWRpcyIsImNyZWF0ZUNsaWVudCIsIm9uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInNldFZhbHVlIiwia2V5IiwidmFsdWUiLCJ0aW1lIiwic2V0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpdGVtIiwiaHNldCIsInByaW50IiwiZ2V0VmFsdWUiLCJnZXRBc3luYyIsImdldEhWYWx1ZSIsImhnZXRhbGxBc3luYyIsImRlbFZhbHVlIiwiZGVsIiwicmVzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUEsTUFBTUEsT0FBTyxHQUFHO0FBQ2RDLE1BQUksRUFBRSxpQkFEUTtBQUVkQyxNQUFJLEVBQUUsS0FGUTtBQUdkQyxVQUFRLEVBQUUsUUFISTtBQUlkQyxnQkFBYyxFQUFFLElBSkY7QUFLZEMsZ0JBQWMsRUFBRSxVQUFVTCxPQUFWLEVBQW1CO0FBQ2pDLFFBQUlBLE9BQU8sQ0FBQ00sS0FBUixJQUFpQk4sT0FBTyxDQUFDTSxLQUFSLENBQWNDLElBQWQsS0FBdUIsY0FBNUMsRUFBNEQ7QUFDeEQ7QUFDQTtBQUNBLGFBQU8sSUFBSUMsS0FBSixDQUFVLG1DQUFWLENBQVA7QUFDSDs7QUFDRCxRQUFJUixPQUFPLENBQUNTLGdCQUFSLEdBQTJCLE9BQU8sRUFBUCxHQUFZLEVBQTNDLEVBQStDO0FBQzNDO0FBQ0E7QUFDQSxhQUFPLElBQUlELEtBQUosQ0FBVSxzQkFBVixDQUFQO0FBQ0g7O0FBQ0QsUUFBSVIsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEVBQXRCLEVBQTBCO0FBQ3RCO0FBQ0EsYUFBT0MsU0FBUDtBQUNILEtBZGdDLENBZWpDOzs7QUFDQSxXQUFPQyxJQUFJLENBQUNDLEdBQUwsQ0FBU2IsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEdBQTNCLEVBQWdDLElBQWhDLENBQVA7QUFDRDtBQXRCYSxDQUFoQixDLENBeUJBO0FBQ0E7O0FBQ0EsTUFBTUksTUFBTSxHQUFHQyw2REFBWSxDQUFDQyw0Q0FBSyxDQUFDQyxZQUFOLENBQW1CakIsT0FBbkIsQ0FBRCxDQUEzQjtBQUVBYyxNQUFNLENBQUNJLEVBQVAsQ0FBVSxPQUFWLEVBQW9CQyxHQUFELElBQVM7QUFDMUJDLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUF3QkYsR0FBcEM7QUFDRCxDQUZELEUsQ0FHQTs7QUFDQSxNQUFNRyxRQUFRLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxLQUFOLEVBQWFDLElBQWIsS0FBc0I7QUFDckMsTUFBSSxPQUFPRCxLQUFQLEtBQWlCLFdBQWpCLElBQWdDQSxLQUFLLElBQUksSUFBekMsSUFBZ0RBLEtBQUssS0FBSyxFQUE5RCxFQUFrRTtBQUNoRTtBQUNELEdBSG9DLENBSXJDOzs7QUFDQSxNQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0IsUUFBSSxPQUFPQyxJQUFQLEtBQWdCLFdBQXBCLEVBQWdDO0FBQzlCO0FBQ0FYLFlBQU0sQ0FBQ1ksR0FBUCxDQUFXSCxHQUFYLEVBQWdCQyxLQUFoQixFQUF1QixJQUF2QixFQUE2QkMsSUFBN0I7QUFDRCxLQUhELE1BR087QUFDTFgsWUFBTSxDQUFDWSxHQUFQLENBQVdILEdBQVgsRUFBZ0JDLEtBQWhCO0FBQ0Q7QUFDRixHQVBELE1BT08sSUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQ3BDO0FBQ0E7QUFDQUcsVUFBTSxDQUFDQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE9BQW5CLENBQTRCQyxJQUFELElBQVU7QUFDbkNoQixZQUFNLENBQUNpQixJQUFQLENBQVlSLEdBQVosRUFBaUJPLElBQWpCLEVBQXVCTixLQUFLLENBQUNNLElBQUQsQ0FBNUIsRUFBb0NkLDRDQUFLLENBQUNnQixLQUExQztBQUNELEtBRkQ7QUFHRDtBQUNGLENBbkJELEMsQ0FxQkE7QUFDQTtBQUNBOzs7QUFDQSxNQUFNQyxRQUFRLEdBQUlWLEdBQUQsSUFBUztBQUN4QixTQUFPVCxNQUFNLENBQUNvQixRQUFQLENBQWdCWCxHQUFoQixDQUFQO0FBQ0QsQ0FGRCxDLENBR0E7OztBQUNBLE1BQU1ZLFNBQVMsR0FBSVosR0FBRCxJQUFTO0FBQ3pCO0FBQ0E7QUFFQTtBQUNBLFNBQU9ULE1BQU0sQ0FBQ3NCLFlBQVAsQ0FBb0JiLEdBQXBCLENBQVA7QUFDRCxDQU5ELEMsQ0FPQTs7O0FBQ0EsTUFBTWMsUUFBUSxHQUFJZCxHQUFELElBQVM7QUFDeEJULFFBQU0sQ0FBQ3dCLEdBQVAsQ0FBV2YsR0FBWCxFQUFnQixDQUFDSixHQUFELEVBQU1vQixHQUFOLEtBQWM7QUFDNUIsUUFBSUEsR0FBRyxLQUFLLENBQVosRUFBZTtBQUNibkIsYUFBTyxDQUFDQyxHQUFSLENBQVkscUJBQVo7QUFDRCxLQUZELE1BRU87QUFDTEQsYUFBTyxDQUFDQyxHQUFSLENBQVksNEJBQTRCRixHQUF4QztBQUNEO0FBQ0YsR0FORDtBQU9ELENBUkQiLCJmaWxlIjoiLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzIGZyb20gJ3JlZGlzJ1xuaW1wb3J0IHsgcHJvbWlzaWZ5QWxsIH0gZnJvbSAnYmx1ZWJpcmQnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXG5cbmNvbnN0IG9wdGlvbnMgPSB7XG4gIGhvc3Q6ICcxOTIuMTY4LjExMC4xMzEnLFxuICBwb3J0OiAxNTAwMSxcbiAgcGFzc3dvcmQ6ICcxMjM0NTYnLFxuICBkZXRlY3RfYnVmZmVyczogdHJ1ZSxcbiAgcmV0cnlfc3RyYXRlZ3k6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZXJyb3IgJiYgb3B0aW9ucy5lcnJvci5jb2RlID09PSAnRUNPTk5SRUZVU0VEJykge1xuICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIG9uIGEgc3BlY2lmaWMgZXJyb3IgYW5kIGZsdXNoIGFsbCBjb21tYW5kcyB3aXRoXG4gICAgICAgIC8vIGEgaW5kaXZpZHVhbCBlcnJvclxuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdUaGUgc2VydmVyIHJlZnVzZWQgdGhlIGNvbm5lY3Rpb24nKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudG90YWxfcmV0cnlfdGltZSA+IDEwMDAgKiA2MCAqIDYwKSB7XG4gICAgICAgIC8vIEVuZCByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBzcGVjaWZpYyB0aW1lb3V0IGFuZCBmbHVzaCBhbGwgY29tbWFuZHNcbiAgICAgICAgLy8gd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmV0cnkgdGltZSBleGhhdXN0ZWQnKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYXR0ZW1wdCA+IDEwKSB7XG4gICAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgd2l0aCBidWlsdCBpbiBlcnJvclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyByZWNvbm5lY3QgYWZ0ZXJcbiAgICByZXR1cm4gTWF0aC5taW4ob3B0aW9ucy5hdHRlbXB0ICogMTAwLCAzMDAwKTtcbiAgfVxufVxuXG4vLyBjb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucylcbi8vIHByb21pc2lmeUFsbOaKinJlZGlz55qE5pON5L2c5YWo6L2s5o2i5Li65byC5q2l5pON5L2cXG5jb25zdCBjbGllbnQgPSBwcm9taXNpZnlBbGwocmVkaXMuY3JlYXRlQ2xpZW50KG9wdGlvbnMpKVxuXG5jbGllbnQub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICBjb25zb2xlLmxvZygnUmVkaXMgQ2xpZW50IEVycm9yOicgKyBlcnIpXG59KVxuLy8g6K6+572u6ZSu5YC8XG5jb25zdCBzZXRWYWx1ZSA9IChrZXksIHZhbHVlLCB0aW1lKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09IG51bGwgfHx2YWx1ZSA9PT0gJycpIHtcbiAgICByZXR1cm5cbiAgfVxuICAvLyDliKTmlq3lrZjlgqjnmoTmmK/lrZfnrKbkuLLov5jmmK/lk4jluIzlr7nosaFcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHRpbWUgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgIC8vIOWmguaenOacieS8oOaXtumXtOWPguaVsOWImee7memUruWAvOiuvue9rui/h+acn+aXtumXtFxuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlLCAnRVgnLCB0aW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBjbGllbnQuc2V0KGtleSwgdmFsdWUpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyB7IGtleTE6IHZhbHVlMSwga2V5MjogdmFsdWUyfVxuICAgIC8vIE9iamVjdC5rZXlzKHZhbHVlKSA9PiBba2V5MSwga2V5Ml1cbiAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY2xpZW50LmhzZXQoa2V5LCBpdGVtLCB2YWx1ZVtpdGVtXSwgcmVkaXMucHJpbnQpXG4gICAgfSlcbiAgfVxufVxuXG4vLyBjb25zdCB7cHJvbWlzaWZ5fSA9IHJlcXVpcmUoJ3V0aWwnKTtcbi8vIGNvbnN0IGdldEFzeW5jID0gcHJvbWlzaWZ5KGNsaWVudC5nZXQpLmJpbmQoY2xpZW50KTtcbi8vIOiOt+WPlumUruWAvFxuY29uc3QgZ2V0VmFsdWUgPSAoa2V5KSA9PiB7XG4gIHJldHVybiBjbGllbnQuZ2V0QXN5bmMoa2V5KVxufVxuLy8g6I635Y+W5omA5pyJ6ZSu5YC8XG5jb25zdCBnZXRIVmFsdWUgPSAoa2V5KSA9PiB7XG4gIC8vIHY4IFByb21pc2lmeSBtZXRob2QgdXNlIHV0aWwsIG11c3Qgbm9kZSA+IDhcbiAgLy8gcmV0dXJuIHByb21pc2lmeShjbGllbnQuaGdldGFsbCkuYmluZChjbGllbnQpKGtleSlcblxuICAvLyBibHVlYmlyZCBhc3luY1xuICByZXR1cm4gY2xpZW50LmhnZXRhbGxBc3luYyhrZXkpXG59XG4vLyDliKDpmaTplK7lgLxcbmNvbnN0IGRlbFZhbHVlID0gKGtleSkgPT4ge1xuICBjbGllbnQuZGVsKGtleSwgKGVyciwgcmVzKSA9PiB7XG4gICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSByZWRpcyBrZXkgZXJyb3I6JyArIGVycilcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCB7XG4gIGNsaWVudCxcbiAgc2V0VmFsdWUsXG4gIGdldFZhbHVlLFxuICBnZXRIVmFsdWUsXG4gIGRlbFZhbHVlXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/RedisConfig.js\n");

/***/ }),

/***/ "./src/config/WebSocket.js":
/*!*********************************!*\
  !*** ./src/config/WebSocket.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ws */ \"ws\");\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ws__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n\n\n\n\nclass WebSocketServer {\n  constructor(config = {}) {\n    const defaultConfig = {\n      port: 3001,\n      timeInterval: 5 * 1000,\n      // 心跳检测\n      isAuth: true\n    }; // 最终配置\n\n    const finalConfig = { ...defaultConfig,\n      ...config\n    };\n    this.wss = {};\n    this.interval = finalConfig.timeInterval;\n    this.isAuth = finalConfig.isAuth;\n    this.port = finalConfig.port;\n    this.options = config.options || {};\n  } // 初始化webscoekt服务\n\n\n  init() {\n    this.wss = new ws__WEBPACK_IMPORTED_MODULE_0___default.a.Server({\n      port: this.port,\n      ...this.options\n    }); // 连接信息\n\n    this.wss.on('connection', ws => {\n      // 连接上之后随即发送一次心跳检测\n      ws.isAlive = true;\n      ws.send(JSON.stringify({\n        event: 'heartbeat',\n        message: 'ping'\n      }));\n      ws.on('message', msg => this.onMessage(ws, msg));\n      ws.on('close', () => this.onClose(ws));\n    }); // 心跳检测\n\n    this.heartbeat();\n  }\n\n  onMessage(ws, msg) {\n    // 用户鉴权 -> token -> _id\n    // 心跳检测\n    // 消息发送\n    const msgObj = JSON.parse(msg);\n    const events = {\n      auth: async () => {\n        try {\n          const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(msgObj.message);\n\n          if (obj) {\n            ws.isAuth = true;\n            ws._id = obj._id;\n            const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTotal(obj._id);\n            ws.send(JSON.stringify({\n              event: 'message',\n              message: num\n            }));\n          }\n        } catch (error) {\n          ws.send(JSON.stringify({\n            event: 'noauth',\n            message: 'please auth again'\n          }));\n        }\n      },\n      heartbeat: () => {\n        if (msgObj.message === 'pong') {\n          ws.isAlive = true;\n        }\n      },\n      message: () => {// 鉴权拦截\n        // if (!ws.isAuth && this.isAuth) {\n        //   return\n        // }\n        // 消息广播\n        // this.wss.clients.forEach((client) => {\n        //   if (client.readyState === WebSocket.OPEN && client._id === ws._id) {\n        //     this.send(msg)\n        //   }\n        // })\n      }\n    };\n    events[msgObj.event]();\n  } // 点对点的消息发送\n\n\n  send(uid, msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN && client._id === uid) {\n        client.send(msg);\n      }\n    });\n  } // 广播消息 -> 推送系统消息\n\n\n  broadcast(msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN) {\n        client.send(msg);\n      }\n    });\n  }\n\n  onClose(ws) {} // 心跳检测\n\n\n  heartbeat() {\n    clearInterval(this.interval);\n    this.interval = setInterval(() => {\n      this.wss.clients.forEach(ws => {\n        if (!ws.isAlive) {\n          return ws.terminate();\n        } // 主动发送心跳检测请求\n        // 当客户端返回了消息之后，主动设置flag为在线\n\n\n        ws.isAlive = false;\n        ws.send(JSON.stringify({\n          event: 'heartbeat',\n          message: 'ping'\n        }));\n      });\n    }, this.timeInterval);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WebSocketServer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1dlYlNvY2tldC5qcz9jZDkzIl0sIm5hbWVzIjpbIldlYlNvY2tldFNlcnZlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsInBvcnQiLCJ0aW1lSW50ZXJ2YWwiLCJpc0F1dGgiLCJmaW5hbENvbmZpZyIsIndzcyIsImludGVydmFsIiwib3B0aW9ucyIsImluaXQiLCJXZWJTb2NrZXQiLCJTZXJ2ZXIiLCJvbiIsIndzIiwiaXNBbGl2ZSIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXZlbnQiLCJtZXNzYWdlIiwibXNnIiwib25NZXNzYWdlIiwib25DbG9zZSIsImhlYXJ0YmVhdCIsIm1zZ09iaiIsInBhcnNlIiwiZXZlbnRzIiwiYXV0aCIsIm9iaiIsImdldEpXdFBheWxvYWQiLCJfaWQiLCJudW0iLCJDb21tZW50cyIsImdldFRvdGFsIiwiZXJyb3IiLCJ1aWQiLCJjbGllbnRzIiwiZm9yRWFjaCIsImNsaWVudCIsInJlYWR5U3RhdGUiLCJPUEVOIiwiYnJvYWRjYXN0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwidGVybWluYXRlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGVBQU4sQ0FBc0I7QUFDcEJDLGFBQVcsQ0FBQ0MsTUFBTSxHQUFHLEVBQVYsRUFBYztBQUN2QixVQUFNQyxhQUFhLEdBQUc7QUFDcEJDLFVBQUksRUFBRSxJQURjO0FBRXBCQyxrQkFBWSxFQUFFLElBQUksSUFGRTtBQUVJO0FBQ3hCQyxZQUFNLEVBQUU7QUFIWSxLQUF0QixDQUR1QixDQU12Qjs7QUFDQSxVQUFNQyxXQUFXLEdBQUcsRUFBRSxHQUFHSixhQUFMO0FBQW9CLFNBQUdEO0FBQXZCLEtBQXBCO0FBQ0EsU0FBS00sR0FBTCxHQUFXLEVBQVg7QUFDQSxTQUFLQyxRQUFMLEdBQWdCRixXQUFXLENBQUNGLFlB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RUFBZ0U7QUFDOURHLGNBQU0sQ0FBQ3ZCLElBQVAsQ0FBWUssR0FBWjtBQUNEO0FBQ0YsS0FKRDtBQUtELEdBeEZtQixDQTBGcEI7OztBQUNBcUIsV0FBUyxDQUFFckIsR0FBRixFQUFPO0FBQ2QsU0FBS2QsR0FBTCxDQUFTOEIsT0FBVCxDQUFpQkMsT0FBakIsQ0FBMEJDLE1BQUQsSUFBWTtBQUNuQyxVQUFJQSxNQUFNLENBQUNDLFVBQVAsS0FBc0I3Qix5Q0FBUyxDQUFDOEIsSUFBcEMsRUFBMEM7QUFDeENGLGNBQU0sQ0FBQ3ZCLElBQVAsQ0FBWUssR0FBWjtBQUNEO0FBQ0YsS0FKRDtBQUtEOztBQUVERSxTQUFPLENBQUVULEVBQUYsRUFBTSxDQUVaLENBckdtQixDQXVHcEI7OztBQUNBVSxXQUFTLEdBQUk7QUFDWG1CLGlCQUFhLENBQUMsS0FBS25DLFFBQU4sQ0FBYjtBQUNBLFNBQUtBLFFBQUwsR0FBZ0JvQyxXQUFXLENBQUMsTUFBTTtBQUNoQyxXQUFLckMsR0FBTCxDQUFTOEIsT0FBVCxDQUFpQkMsT0FBakIsQ0FBMEJ4QixFQUFELElBQVE7QUFDL0IsWUFBSSxDQUFDQSxFQUFFLENBQUNDLE9BQVIsRUFBaUI7QUFDZixpQkFBT0QsRUFBRSxDQUFDK0IsU0FBSCxFQUFQO0FBQ0QsU0FIOEIsQ0FJL0I7QUFDQTs7O0FBQ0EvQixVQUFFLENBQUNDLE9BQUgsR0FBYSxLQUFiO0FBQ0FELFVBQUUsQ0FBQ0UsSUFBSCxDQUFRQyxJQUFJLENBQUNDLFNBQUwsQ0FBZTtBQUNyQkMsZUFBSyxFQUFFLFdBRGM7QUFFckJDLGlCQUFPLEVBQUU7QUFGWSxTQUFmLENBQVI7QUFJRCxPQVhEO0FBWUQsS0FiMEIsRUFheEIsS0FBS2hCLFlBYm1CLENBQTNCO0FBY0Q7O0FBeEhtQjs7QUEySFBMLDhFQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9XZWJTb2NrZXQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2ViU29ja2V0IGZyb20gJ3dzJ1xyXG5pbXBvcnQgeyBnZXRKV3RQYXlsb2FkIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xyXG5pbXBvcnQgQ29tbWVudHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHMnXHJcblxyXG5jbGFzcyBXZWJTb2NrZXRTZXJ2ZXIge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICBwb3J0OiAzMDAxLFxyXG4gICAgICB0aW1lSW50ZXJ2YWw6IDUgKiAxMDAwLCAvLyDlv4Pot7Pmo4DmtYtcclxuICAgICAgaXNBdXRoOiB0cnVlXHJcbiAgICB9XHJcbiAgICAvLyDmnIDnu4jphY3nva5cclxuICAgIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5kZWZhdWx0Q29uZmlnLCAuLi5jb25maWd9XHJcbiAgICB0aGlzLndzcyA9IHt9XHJcbiAgICB0aGlzLmludGVydmFsID0gZmluYWxDb25maWcudGltZUludGVydmFsXHJcbiAgICB0aGlzLmlzQXV0aCA9IGZpbmFsQ29uZmlnLmlzQXV0aFxyXG4gICAgdGhpcy5wb3J0ID0gZmluYWxDb25maWcucG9ydFxyXG4gICAgdGhpcy5vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwge31cclxuICB9XHJcbiAgLy8g5Yid5aeL5YyWd2Vic2NvZWt05pyN5YqhXHJcbiAgaW5pdCAoKSB7XHJcbiAgICB0aGlzLndzcyA9IG5ldyBXZWJTb2NrZXQuU2VydmVyKHsgcG9ydDogdGhpcy5wb3J0LCAuLi50aGlzLm9wdGlvbnMgfSlcclxuXHJcbiAgICAvLyDov57mjqXkv6Hmga9cclxuICAgIHRoaXMud3NzLm9uKCdjb25uZWN0aW9uJywgKHdzKSA9PiB7XHJcbiAgICAgIC8vIOi/nuaOpeS4iuS5i+WQjumaj+WNs+WPkemAgeS4gOasoeW/g+i3s+ajgOa1i1xyXG4gICAgICB3cy5pc0FsaXZlID0gdHJ1ZVxyXG4gICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBldmVudDogJ2hlYXJ0YmVhdCcsXHJcbiAgICAgICAgbWVzc2FnZTogJ3BpbmcnXHJcbiAgICAgIH0pKVxyXG4gICAgICB3cy5vbignbWVzc2FnZScsIChtc2cpID0+IHRoaXMub25NZXNzYWdlKHdzLCBtc2cpKVxyXG4gICAgICB3cy5vbignY2xvc2UnLCAoKSA9PiB0aGlzLm9uQ2xvc2Uod3MpKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyDlv4Pot7Pmo4DmtYtcclxuICAgIHRoaXMuaGVhcnRiZWF0KClcclxuICB9XHJcblxyXG4gIG9uTWVzc2FnZSAod3MsIG1zZykge1xyXG4gICAgLy8g55So5oi36Ym05p2DIC0+IHRva2VuIC0+IF9pZFxyXG4gICAgLy8g5b+D6Lez5qOA5rWLXHJcbiAgICAvLyDmtojmga/lj5HpgIFcclxuICAgIGNvbnN0IG1zZ09iaiA9IEpTT04ucGFyc2UobXNnKVxyXG4gICAgY29uc3QgZXZlbnRzID0ge1xyXG4gICAgICBhdXRoOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQobXNnT2JqLm1lc3NhZ2UpXHJcbiAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgIHdzLmlzQXV0aCA9IHRydWVcclxuICAgICAgICAgICAgd3MuX2lkID0gb2JqLl9pZFxyXG4gICAgICAgICAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChvYmouX2lkKVxyXG4gICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBldmVudDogJ21lc3NhZ2UnLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IG51bVxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIGV2ZW50OiAnbm9hdXRoJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ3BsZWFzZSBhdXRoIGFnYWluJ1xyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBoZWFydGJlYXQ6ICgpID0+IHtcclxuICAgICAgICBpZiAobXNnT2JqLm1lc3NhZ2UgPT09ICdwb25nJykge1xyXG4gICAgICAgICAgd3MuaXNBbGl2ZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICgpID0+IHtcclxuICAgICAgICAvLyDpibTmnYPmi6bmiKpcclxuICAgICAgICAvLyBpZiAoIXdzLmlzQXV0aCAmJiB0aGlzLmlzQXV0aCkge1xyXG4gICAgICAgIC8vICAgcmV0dXJuXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIOa2iOaBr+W5v+aSrVxyXG4gICAgICAgIC8vIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaCgoY2xpZW50KSA9PiB7XHJcbiAgICAgICAgLy8gICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIGNsaWVudC5faWQgPT09IHdzLl9pZCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLnNlbmQobXNnKVxyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGV2ZW50c1ttc2dPYmouZXZlbnRdKClcclxuICB9XHJcblxyXG4gIC8vIOeCueWvueeCueeahOa2iOaBr+WPkemAgVxyXG4gIHNlbmQgKHVpZCwgbXNnKSB7XHJcbiAgICB0aGlzLndzcy5jbGllbnRzLmZvckVhY2goKGNsaWVudCkgPT4ge1xyXG4gICAgICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIGNsaWVudC5faWQgPT09IHVpZCkge1xyXG4gICAgICAgIGNsaWVudC5zZW5kKG1zZylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIOW5v+aSrea2iOaBryAtPiDmjqjpgIHns7vnu5/mtojmga9cclxuICBicm9hZGNhc3QgKG1zZykge1xyXG4gICAgdGhpcy53c3MuY2xpZW50cy5mb3JFYWNoKChjbGllbnQpID0+IHtcclxuICAgICAgaWYgKGNsaWVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgIGNsaWVudC5zZW5kKG1zZylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UgKHdzKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8g5b+D6Lez5qOA5rWLXHJcbiAgaGVhcnRiZWF0ICgpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcclxuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaCgod3MpID0+IHtcclxuICAgICAgICBpZiAoIXdzLmlzQWxpdmUpIHtcclxuICAgICAgICAgIHJldHVybiB3cy50ZXJtaW5hdGUoKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDkuLvliqjlj5HpgIHlv4Pot7Pmo4DmtYvor7fmsYJcclxuICAgICAgICAvLyDlvZPlrqLmiLfnq6/ov5Tlm57kuobmtojmga/kuYvlkI7vvIzkuLvliqjorr7nva5mbGFn5Li65Zyo57q/XHJcbiAgICAgICAgd3MuaXNBbGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBldmVudDogJ2hlYXJ0YmVhdCcsXHJcbiAgICAgICAgICBtZXNzYWdlOiAncGluZydcclxuICAgICAgICB9KSlcclxuICAgICAgfSlcclxuICAgIH0sIHRoaXMudGltZUludGVydmFsKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgV2ViU29ja2V0U2VydmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/WebSocket.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DB_URL = 'mongodb://192.168.110.131:10050/testdb';\nconst DB_URL2 = 'mongodb://127.0.0.1:27017/testdb';\nconst JWT_SECRET = 'agdvabgmhgnfrvedfcaerqf';\nconst baseUrl = 'http://localhost:8081';\nconst uploadPath = path__WEBPACK_IMPORTED_MODULE_0___default.a.join(path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname), '../../public');\nconst isAdminEmain = ['lds@toimc.com']; // const publicPath = [/^\\/public/, /^\\/login/, /^\\/content/, /^\\/user/]\n\nconst publicPath = [/^\\/public/, /^\\/login/];\nconst isDevMode = 'development' === 'development';\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  DB_URL,\n  DB_URL2,\n  JWT_SECRET,\n  baseUrl,\n  uploadPath,\n  isAdminEmain,\n  publicPath,\n  isDevMode\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\\\\config\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiREJfVVJMIiwiREJfVVJMMiIsIkpXVF9TRUNSRVQiLCJiYXNlVXJsIiwidXBsb2FkUGF0aCIsInBhdGgiLCJqb2luIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsImlzQWRtaW5FbWFpbiIsInB1YmxpY1BhdGgiLCJpc0Rldk1vZGUiLCJwcm9jZXNzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyx3Q0FBZjtBQUNBLE1BQU1DLE9BQU8sR0FBRyxrQ0FBaEI7QUFDQSxNQUFNQyxVQUFVLEdBQUcseUJBQW5CO0FBQ0EsTUFBTUMsT0FBTyxHQUFHLHVCQUFoQjtBQUNBLE1BQU1DLFVBQVUsR0FBR0MsMkNBQUksQ0FBQ0MsSUFBTCxDQUFVRCwyQ0FBSSxDQUFDRSxPQUFMLENBQWFDLFNBQWIsQ0FBVixFQUFtQyxjQUFuQyxDQUFuQjtBQUVBLE1BQU1DLFlBQVksR0FBRyxDQUFDLGVBQUQsQ0FBckIsQyxDQUNBOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUFDLFdBQUQsRUFBYyxVQUFkLENBQW5CO0FBQ0EsTUFBTUMsU0FBUyxHQUFHQyxhQUFBLEtBQXlCLGFBQTNDO0FBQ2U7QUFDYlosUUFEYTtBQUViQyxTQUZhO0FBR2JDLFlBSGE7QUFJYkMsU0FKYTtBQUtiQyxZQUxhO0FBTWJLLGNBTmE7QUFPYkMsWUFQYTtBQVFiQztBQVJhLENBQWYsRSIsImZpbGUiOiIuL3NyYy9jb25maWcvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5jb25zdCBEQl9VUkwgPSAnbW9uZ29kYjovLzE5Mi4xNjguMTEwLjEzMToxMDA1MC90ZXN0ZGInXG5jb25zdCBEQl9VUkwyID0gJ21vbmdvZGI6Ly8xMjcuMC4wLjE6MjcwMTcvdGVzdGRiJ1xuY29uc3QgSldUX1NFQ1JFVCA9ICdhZ2R2YWJnbWhnbmZydmVkZmNhZXJxZidcbmNvbnN0IGJhc2VVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgxJ1xuY29uc3QgdXBsb2FkUGF0aCA9IHBhdGguam9pbihwYXRoLnJlc29sdmUoX19kaXJuYW1lKSwgJy4uLy4uL3B1YmxpYycpXG5cbmNvbnN0IGlzQWRtaW5FbWFpbiA9IFsnbGRzQHRvaW1jLmNvbSddXG4vLyBjb25zdCBwdWJsaWNQYXRoID0gWy9eXFwvcHVibGljLywgL15cXC9sb2dpbi8sIC9eXFwvY29udGVudC8sIC9eXFwvdXNlci9dXG5jb25zdCBwdWJsaWNQYXRoID0gWy9eXFwvcHVibGljLywgL15cXC9sb2dpbi9dXG5jb25zdCBpc0Rldk1vZGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xuZXhwb3J0IGRlZmF1bHQge1xuICBEQl9VUkwsXG4gIERCX1VSTDIsXG4gIEpXVF9TRUNSRVQsXG4gIGJhc2VVcmwsXG4gIHVwbG9hZFBhdGgsXG4gIGlzQWRtaW5FbWFpbixcbiAgcHVibGljUGF0aCxcbiAgaXNEZXZNb2RlXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/config/log4j.js":
/*!*****************************!*\
  !*** ./src/config/log4j.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_log4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-log4 */ \"koa-log4\");\n/* harmony import */ var koa_log4__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_log4__WEBPACK_IMPORTED_MODULE_0__);\n\nkoa_log4__WEBPACK_IMPORTED_MODULE_0___default.a.configure({\n  appenders: {\n    access: {\n      type: 'dateFile',\n      filename: 'logs/access.log',\n      pattern: '-yyyy-MM-dd.log'\n    },\n    application: {\n      type: 'dateFile',\n      filename: 'logs/app.log',\n      pattern: '-yyyy-MM-dd.log'\n    },\n    error: {\n      type: 'dateFile',\n      filename: 'logs/error.log',\n      pattern: '-yyyy-MM-dd'\n    },\n    out: {\n      type: 'console'\n    }\n  },\n  categories: {\n    default: {\n      appenders: ['out'],\n      level: 'info'\n    },\n    access: {\n      appenders: ['access'],\n      level: 'info'\n    },\n    application: {\n      appenders: ['application'],\n      level: 'WARN'\n    },\n    error: {\n      appenders: ['error'],\n      level: 'WARN'\n    }\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_log4__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2xvZzRqLmpzPzZhNzYiXSwibmFtZXMiOlsibG9nNGpzIiwiY29uZmlndXJlIiwiYXBwZW5kZXJzIiwiYWNjZXNzIiwidHlwZSIsImZpbGVuYW1lIiwicGF0dGVybiIsImFwcGxpY2F0aW9uIiwiZXJyb3IiLCJvdXQiLCJjYXRlZ29yaWVzIiwiZGVmYXVsdCIsImxldmVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBQSwrQ0FBTSxDQUFDQyxTQUFQLENBQWlCO0FBQ2ZDLFdBQVMsRUFBRTtBQUNUQyxVQUFNLEVBQUU7QUFDTkMsVUFBSSxFQUFFLFVBREE7QUFFTkMsY0FBUSxFQUFFLGlCQUZKO0FBR05DLGFBQU8sRUFBRTtBQUhILEtBREM7QUFNVEMsZUFBVyxFQUFFO0FBQ1hILFVBQUksRUFBRSxVQURLO0FBRVhDLGNBQVEsRUFBRSxjQUZDO0FBR1hDLGFBQU8sRUFBRTtBQUhFLEtBTko7QUFXVEUsU0FBSyxFQUFFO0FBQ0xKLFVBQUksRUFBRSxVQUREO0FBRUxDLGNBQVEsRUFBRSxnQkFGTDtBQUdMQyxhQUFPLEVBQUU7QUFISixLQVhFO0FBZ0JURyxPQUFHLEVBQUU7QUFBRUwsVUFBSSxFQUFFO0FBQVI7QUFoQkksR0FESTtBQW1CZk0sWUFBVSxFQUFFO0FBQ1ZDLFdBQU8sRUFBRTtBQUFFVCxlQUFTLEVBQUUsQ0FBQyxLQUFELENBQWI7QUFBc0JVLFdBQUssRUFBRTtBQUE3QixLQURDO0FBRVZULFVBQU0sRUFBRTtBQUFFRCxlQUFTLEVBQUUsQ0FBQyxRQUFELENBQWI7QUFBeUJVLFdBQUssRUFBRTtBQUFoQyxLQUZFO0FBR1ZMLGVBQVcsRUFBRTtBQUFFTCxlQUFTLEVBQUUsQ0FBQyxhQUFELENBQWI7QUFBOEJVLFdBQUssRUFBRTtBQUFyQyxLQUhIO0FBSVZKLFNBQUssRUFBRTtBQUFFTixlQUFTLEVBQUUsQ0FBQyxPQUFELENBQWI7QUFBd0JVLFdBQUssRUFBRTtBQUEvQjtBQUpHO0FBbkJHLENBQWpCO0FBMkJlWiw4R0FBZiIsImZpbGUiOiIuL3NyYy9jb25maWcvbG9nNGouanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nNGpzIGZyb20gJ2tvYS1sb2c0J1xyXG5cclxubG9nNGpzLmNvbmZpZ3VyZSh7XHJcbiAgYXBwZW5kZXJzOiB7XHJcbiAgICBhY2Nlc3M6IHtcclxuICAgICAgdHlwZTogJ2RhdGVGaWxlJyxcclxuICAgICAgZmlsZW5hbWU6ICdsb2dzL2FjY2Vzcy5sb2cnLFxyXG4gICAgICBwYXR0ZXJuOiAnLXl5eXktTU0tZGQubG9nJ1xyXG4gICAgfSxcclxuICAgIGFwcGxpY2F0aW9uOiB7XHJcbiAgICAgIHR5cGU6ICdkYXRlRmlsZScsXHJcbiAgICAgIGZpbGVuYW1lOiAnbG9ncy9hcHAubG9nJyxcclxuICAgICAgcGF0dGVybjogJy15eXl5LU1NLWRkLmxvZydcclxuICAgIH0sXHJcbiAgICBlcnJvcjoge1xyXG4gICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxyXG4gICAgICBmaWxlbmFtZTogJ2xvZ3MvZXJyb3IubG9nJyxcclxuICAgICAgcGF0dGVybjogJy15eXl5LU1NLWRkJ1xyXG4gICAgfSxcclxuICAgIG91dDogeyB0eXBlOiAnY29uc29sZScgfVxyXG4gIH0sXHJcbiAgY2F0ZWdvcmllczoge1xyXG4gICAgZGVmYXVsdDogeyBhcHBlbmRlcnM6IFsnb3V0J10sIGxldmVsOiAnaW5mbycgfSxcclxuICAgIGFjY2VzczogeyBhcHBlbmRlcnM6IFsnYWNjZXNzJ10sIGxldmVsOiAnaW5mbycgfSxcclxuICAgIGFwcGxpY2F0aW9uOiB7IGFwcGVuZGVyczogWydhcHBsaWNhdGlvbiddLCBsZXZlbDogJ1dBUk4nIH0sXHJcbiAgICBlcnJvcjogeyBhcHBlbmRlcnM6IFsnZXJyb3InXSwgbGV2ZWw6ICdXQVJOJyB9LFxyXG4gIH1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxvZzRqcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/log4j.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! koa-helmet */ \"koa-helmet\");\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes/routes */ \"./src/routes/routes.js\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/ErrorHandle */ \"./src/common/ErrorHandle.js\");\n/* harmony import */ var _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./config/WebSocket */ \"./src/config/WebSocket.js\");\n/* harmony import */ var _common_Auth__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./common/Auth */ \"./src/common/Auth.js\");\n/* harmony import */ var _common_init__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./common/init */ \"./src/common/init.js\");\n/* harmony import */ var _config_log4j__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./config/log4j */ \"./src/config/log4j.js\");\n/* harmony import */ var _common_Logger__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./common/Logger */ \"./src/common/Logger.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n // 鉴权错误处理函数\n\n\n\n // import logger from 'koa-logger' // 打印日志\n\n // 输出日志文件\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nconst ws = new _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__[\"default\"]();\nws.init();\nglobal.ws = ws; // 全局绑定ws\n\nconst isDevMode =  false ? undefined : true; // 定义公共路径,unless是不需要jwt鉴权的路径\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_4___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /\\/login/]\n});\n/**\n * 使用koa-compose 集成中间件\n */\n// koa-json格式化get请求返回的结果,pretty:false 不格式化响应,\n//param:'pretty'查询字符串中包含pretty时格式化响应\n// 例:xx.xx.com/api/api?name=lds&pretty\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_9___default()([_common_Logger__WEBPACK_IMPORTED_MODULE_17__[\"default\"], koa_body__WEBPACK_IMPORTED_MODULE_6___default()({\n  multipart: true,\n  // 支持图片上传\n  formidable: {\n    keepExtensions: true,\n    // 保持文件后缀\n    maxFieldsSize: 5 * 1024 * 1024 // 上传最大图片限制\n\n  },\n  onError: err => {\n    console.log('koabody: err -> ', err);\n  }\n}), koa_static__WEBPACK_IMPORTED_MODULE_3___default()(path__WEBPACK_IMPORTED_MODULE_1___default.a.join(__dirname, '../public')), _koa_cors__WEBPACK_IMPORTED_MODULE_8___default()(), koa_json__WEBPACK_IMPORTED_MODULE_7___default()({\n  pretty: false,\n  param: 'pretty'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_2___default()(), // 设置安全的headers\n_common_Auth__WEBPACK_IMPORTED_MODULE_14__[\"default\"], _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"], jwt, _config_log4j__WEBPACK_IMPORTED_MODULE_16__[\"default\"].koaLogger(_config_log4j__WEBPACK_IMPORTED_MODULE_16__[\"default\"].getLogger('access'), {\n  level: 'auto'\n})]);\n\nif (!isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_10___default()());\n}\n\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\napp.listen(3000, () => {\n  Object(_common_init__WEBPACK_IMPORTED_MODULE_15__[\"run\"])();\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJrb2EiLCJ3cyIsIldlYlNvY2tldFNlcnZlciIsImluaXQiLCJnbG9iYWwiLCJpc0Rldk1vZGUiLCJwcm9jZXNzIiwiand0IiwiSldUIiwic2VjcmV0IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInVubGVzcyIsInBhdGgiLCJtaWRkbGV3YXJlIiwiY29tcG9zZSIsIm1vbml0b3JMb2dnZXIiLCJrb2FCb2R5IiwibXVsdGlwYXJ0IiwiZm9ybWlkYWJsZSIsImtlZXBFeHRlbnNpb25zIiwibWF4RmllbGRzU2l6ZSIsIm9uRXJyb3IiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic3RhdGljcyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJjb3JzIiwianNvbnV0aWwiLCJwcmV0dHkiLCJwYXJhbSIsImhlbG1ldCIsImF1dGgiLCJlcnJvckhhbmRsZSIsImxvZzRqcyIsImtvYUxvZ2dlciIsImdldExvZ2dlciIsImxldmVsIiwidXNlIiwiY29tcHJlc3MiLCJyb3V0ZXIiLCJsaXN0ZW4iLCJydW4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FDK0M7O0FBQy9DO0FBQ0E7Q0FFQTs7Q0FDb0M7O0FBQ3BDO0FBRUEsTUFBTUEsR0FBRyxHQUFHLElBQUlDLDBDQUFKLEVBQVo7QUFDQSxNQUFNQyxFQUFFLEdBQUcsSUFBSUMsMERBQUosRUFBWDtBQUNBRCxFQUFFLENBQUNFLElBQUg7QUFDQUMsTUFBTSxDQUFDSCxFQUFQLEdBQVlBLEVBQVosQyxDQUFlOztBQUVmLE1BQU1JLFNBQVMsR0FBR0MsTUFBQSxHQUF3QyxTQUF4QyxHQUFnRCxJQUFsRSxDLENBRUE7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyw4Q0FBRyxDQUFDO0FBQUNDLFFBQU0sRUFBRUMsc0RBQU0sQ0FBQ0M7QUFBaEIsQ0FBRCxDQUFILENBQWlDQyxNQUFqQyxDQUF3QztBQUFFQyxNQUFJLEVBQUUsQ0FBQyxXQUFELEVBQWMsU0FBZDtBQUFSLENBQXhDLENBQVo7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHQyxrREFBTyxDQUFDLENBQ3pCQyx1REFEeUIsRUFFekJDLCtDQUFPLENBQUM7QUFDTkMsV0FBUyxFQUFFLElBREw7QUFDVztBQUNqQkMsWUFBVSxFQUFFO0FBQ1ZDLGtCQUFjLEVBQUUsSUFETjtBQUNZO0FBQ3RCQyxpQkFBYSxFQUFFLElBQUksSUFBSixHQUFXLElBRmhCLENBRXFCOztBQUZyQixHQUZOO0FBTU5DLFNBQU8sRUFBRUMsR0FBRyxJQUFJO0FBQ2RDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaLEVBQWdDRixHQUFoQztBQUNEO0FBUkssQ0FBRCxDQUZrQixFQVl6QkcsaURBQU8sQ0FBQ2IsMkNBQUksQ0FBQ2MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFdBQXJCLENBQUQsQ0Faa0IsRUFhekJDLGdEQUFJLEVBYnFCLEVBY3pCQywrQ0FBUSxDQUFDO0FBQUVDLFFBQU0sRUFBRSxLQUFWO0FBQWlCQyxPQUFLLEVBQUU7QUFBeEIsQ0FBRCxDQWRpQixFQWV6QkMsaURBQU0sRUFmbUIsRUFlaEI7QUFDVEMscURBaEJ5QixFQWlCekJDLDREQWpCeUIsRUFrQnpCNUIsR0FsQnlCLEVBbUJ6QjZCLHNEQUFNLENBQUNDLFNBQVAsQ0FBaUJELHNEQUFNLENBQUNFLFNBQVAsQ0FBaUIsUUFBakIsQ0FBakIsRUFBNkM7QUFBRUMsT0FBSyxFQUFFO0FBQVQsQ0FBN0MsQ0FuQnlCLENBQUQsQ0FBMUI7O0FBc0JBLElBQUksQ0FBQ2xDLFNBQUwsRUFBZ0I7QUFDZE4sS0FBRyxDQUFDeUMsR0FBSixDQUFRQyxvREFBUSxFQUFoQjtBQUNEOztBQUVEMUMsR0FBRyxDQUFDeUMsR0FBSixDQUFRMUIsVUFBUjtBQUNBZixHQUFHLENBQUN5QyxHQUFKLENBQVFFLDhEQUFNLEVBQWQ7QUFFQTNDLEdBQUcsQ0FBQzRDLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQU07QUFDckJDLDJEQUFHO0FBQ0osQ0FGRCxFIiwiZmlsZSI6Ii4vc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtvYSBmcm9tICdrb2EnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGhlbG1ldCBmcm9tICdrb2EtaGVsbWV0J1xuaW1wb3J0IHN0YXRpY3MgZnJvbSAna29hLXN0YXRpYydcbmltcG9ydCBKV1QgZnJvbSAna29hLWp3dCdcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvcm91dGVzJ1xuaW1wb3J0IGtvYUJvZHkgZnJvbSAna29hLWJvZHknXG5pbXBvcnQganNvbnV0aWwgZnJvbSAna29hLWpzb24nXG5pbXBvcnQgY29ycyBmcm9tICdAa29hL2NvcnMnXG5pbXBvcnQgY29tcG9zZSBmcm9tICdrb2EtY29tcG9zZSdcbmltcG9ydCBjb21wcmVzcyBmcm9tICdrb2EtY29tcHJlc3MnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnL2luZGV4J1xuaW1wb3J0IGVycm9ySGFuZGxlIGZyb20gJy4vY29tbW9uL0Vycm9ySGFuZGxlJyAvLyDpibTmnYPplJnor6/lpITnkIblh73mlbBcbmltcG9ydCBXZWJTb2NrZXRTZXJ2ZXIgZnJvbSAnLi9jb25maWcvV2ViU29ja2V0J1xuaW1wb3J0IGF1dGggZnJvbSAnLi9jb21tb24vQXV0aCdcbmltcG9ydCB7IHJ1biB9IGZyb20gJy4vY29tbW9uL2luaXQnXG4vLyBpbXBvcnQgbG9nZ2VyIGZyb20gJ2tvYS1sb2dnZXInIC8vIOaJk+WNsOaXpeW/l1xuaW1wb3J0IGxvZzRqcyBmcm9tICcuL2NvbmZpZy9sb2c0aicgLy8g6L6T5Ye65pel5b+X5paH5Lu2XG5pbXBvcnQgbW9uaXRvckxvZ2dlciBmcm9tICcuL2NvbW1vbi9Mb2dnZXInXG5cbmNvbnN0IGFwcCA9IG5ldyBrb2EoKVxuY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0U2VydmVyKClcbndzLmluaXQoKVxuZ2xvYmFsLndzID0gd3MgLy8g5YWo5bGA57uR5a6ad3NcblxuY29uc3QgaXNEZXZNb2RlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IGZhbHNlIDogdHJ1ZVxuXG4vLyDlrprkuYnlhazlhbHot6/lvoQsdW5sZXNz5piv5LiN6ZyA6KaBand06Ym05p2D55qE6Lev5b6EXG5jb25zdCBqd3QgPSBKV1Qoe3NlY3JldDogY29uZmlnLkpXVF9TRUNSRVR9KS51bmxlc3MoeyBwYXRoOiBbL15cXC9wdWJsaWMvLCAvXFwvbG9naW4vXSB9KVxuXG4vKipcbiAqIOS9v+eUqGtvYS1jb21wb3NlIOmbhuaIkOS4remXtOS7tlxuICovXG4vLyBrb2EtanNvbuagvOW8j+WMlmdldOivt+axgui/lOWbnueahOe7k+aenCxwcmV0dHk6ZmFsc2Ug5LiN5qC85byP5YyW5ZON5bqULFxuLy9wYXJhbToncHJldHR5J+afpeivouWtl+espuS4suS4reWMheWQq3ByZXR0eeaXtuagvOW8j+WMluWTjeW6lFxuLy8g5L6LOnh4Lnh4LmNvbS9hcGkvYXBpP25hbWU9bGRzJnByZXR0eVxuY29uc3QgbWlkZGxld2FyZSA9IGNvbXBvc2UoW1xuICBtb25pdG9yTG9nZ2VyLFxuICBrb2FCb2R5KHtcbiAgICBtdWx0aXBhcnQ6IHRydWUsIC8vIOaUr+aMgeWbvueJh+S4iuS8oFxuICAgIGZvcm1pZGFibGU6IHtcbiAgICAgIGtlZXBFeHRlbnNpb25zOiB0cnVlLCAvLyDkv53mjIHmlofku7blkI7nvIBcbiAgICAgIG1heEZpZWxkc1NpemU6IDUgKiAxMDI0ICogMTAyNCAvLyDkuIrkvKDmnIDlpKflm77niYfpmZDliLZcbiAgICB9LFxuICAgIG9uRXJyb3I6IGVyciA9PiB7XG4gICAgICBjb25zb2xlLmxvZygna29hYm9keTogZXJyIC0+ICcsIGVycilcbiAgICB9XG4gIH0pLFxuICBzdGF0aWNzKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMnKSksXG4gIGNvcnMoKSxcbiAganNvbnV0aWwoeyBwcmV0dHk6IGZhbHNlLCBwYXJhbTogJ3ByZXR0eScgfSksXG4gIGhlbG1ldCgpLC8vIOiuvue9ruWuieWFqOeahGhlYWRlcnNcbiAgYXV0aCxcbiAgZXJyb3JIYW5kbGUsXG4gIGp3dCxcbiAgbG9nNGpzLmtvYUxvZ2dlcihsb2c0anMuZ2V0TG9nZ2VyKCdhY2Nlc3MnKSwgeyBsZXZlbDogJ2F1dG8nIH0pXG5dKVxuXG5pZiAoIWlzRGV2TW9kZSkge1xuICBhcHAudXNlKGNvbXByZXNzKCkpXG59XG5cbmFwcC51c2UobWlkZGxld2FyZSlcbmFwcC51c2Uocm91dGVyKCkpXG5cbmFwcC5saXN0ZW4oMzAwMCwgKCkgPT4ge1xuICBydW4oKVxufSlcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/Comments.js":
/*!*******************************!*\
  !*** ./src/model/Comments.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  tid: {\n    type: String,\n    ref: 'post'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  cuid: {\n    type: String,\n    ref: 'users'\n  },\n  // 评论人\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  hands: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '1'\n  },\n  isRead: {\n    type: String,\n    default: '0'\n  },\n  isBest: {\n    type: String,\n    default: '0'\n  }\n}, {\n  toJSON: {\n    virtuals: true\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByTid: function (id) {\n    // 根据帖子id查询\n    return this.find({\n      tid: id\n    });\n  },\n  findByCid: function (id) {\n    // 根据评论人id查询\n    return this.findOne({\n      _id: id\n    });\n  },\n  getCommentsList: function (id, page, limit) {\n    // 根据tid查询评论信息\n    return this.find({\n      tid: id\n    }).populate({\n      path: 'cuid',\n      // 根据帖子信息中的评论人(cuid)信息查询其在Post的信息\n      select: '_id name pic isVip',\n      match: {\n        status: {\n          $eq: '0'\n        }\n      } // $eq 作用:返回那些值不为0的数据\n\n    }).populate({\n      path: 'tid',\n      // 根据Comments中的tid查询其在Post中的信息\n      select: '_id title status'\n    }).skip(page * limit).limit(limit); // 限制返回条数\n  },\n  queryCount: function (id) {\n    return this.find({\n      tid: id\n    }).countDocuments();\n  },\n  // 查询用户最近评论\n  getCommetsPublic: function (id, page, limit) {\n    return this.find({\n      cuid: id\n    }).populate({\n      path: 'tid',\n      select: '_id title'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 历史消息\n  getMsgList: function (id, page, limit) {\n    return this.find({\n      uid: id,\n      cuid: {\n        $ne: id\n      },\n      isRead: {\n        $eq: '0'\n      },\n      // 未读状态\n      status: {\n        $eq: '1'\n      } // 是否显示\n\n    }).populate({\n      path: 'tid',\n      select: '_id title content'\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cuid',\n      select: '_id name'\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  getTotal: function (id) {\n    return this.find({\n      uid: id,\n      isRead: '0',\n      status: '1'\n    }).countDocuments();\n  },\n  getCommentsOptions: function (options, page, limit) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        // radio\n        query[options.item] = options.search;\n      }\n      /**\r\n       * 创建视图：\r\n       * db.createView('comments_users', 'comments', [\r\n          { '$lookup': {\r\n              from: 'posts', let: { pid: { '$toObjectId': '$tid' } },\r\n              pipeline: [ { '$match': { '$expr': { '$eq': [ '$_id', '$$pid' ] } } },\r\n              { '$project': { _id: 1, uid: 1, title: 1 } } ], as: 'tid' } },\r\n              { '$replaceRoot': { newRoot: { '$mergeObjects': [ { '$arrayElemAt': [ '$tid', 0 ] }, '$$ROOT' ] } } },\r\n              { '$unwind': '$tid' },\r\n              { '$addFields': { userId: { '$toObjectId': '$uid' } } },\r\n              { '$lookup': {\r\n                  from: 'users', localField: 'userId', foreignField: '_id', as: 'uid' } },\r\n              { '$unwind': '$uid' }, { '$addFields': { fuserId: { '$toObjectId': '$cuid' } } },\r\n              { '$lookup': { from: 'users', localField: 'fuserId', foreignField: '_id', as: 'cuid' } },\r\n              { '$unwind': '$cuid' },\r\n          { '$project': { tid: 1, cuid: { name: 1, _id: 1 }, uid: { name: 1, _id: 1 }, isBest: 1, status: 1, content: 1, created: 1 } },\r\n          { '$sort': { created: -1 } }],\r\n          {})\r\n       */\n\n\n      if (['uid', 'tid', 'cuid'].includes(options.item)) {\n        let arr = [{\n          $lookup: {\n            from: 'posts',\n            let: {\n              pid: {\n                $toObjectId: '$tid'\n              }\n            },\n            pipeline: [{\n              $match: {\n                $expr: {\n                  $eq: ['$_id', '$$pid']\n                }\n              }\n            }, {\n              $project: {\n                _id: 1,\n                uid: 1,\n                title: 1\n              }\n            }],\n            as: 'tid'\n          }\n        }, {\n          $replaceRoot: {\n            newRoot: {\n              $mergeObjects: [{\n                $arrayElemAt: ['$tid', 0]\n              }, '$$ROOT']\n            }\n          }\n        }, {\n          $unwind: '$tid'\n        }];\n\n        if (options.item === 'tid') {\n          arr.push({\n            $match: {\n              title: {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $addFields: {\n            userId: {\n              $toObjectId: '$uid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'userId',\n            foreignField: '_id',\n            as: 'uid'\n          }\n        }]);\n\n        if (options.item === 'uid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'uid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$uid'\n        });\n        arr = arr.concat([{\n          $addFields: {\n            fuserId: {\n              $toObjectId: '$cuid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'fuserId',\n            foreignField: '_id',\n            as: 'cuid'\n          }\n        }]);\n\n        if (options.item === 'cuid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'cuid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $unwind: '$cuid'\n        }, {\n          $project: {\n            tid: 1,\n            cuid: {\n              name: 1,\n              _id: 1\n            },\n            uid: {\n              name: 1,\n              _id: 1\n            },\n            isBest: 1,\n            status: 1,\n            content: 1,\n            created: 1\n          }\n        }, {\n          $skip: limit * page\n        }, {\n          $limit: limit\n        }, {\n          $sort: {\n            created: -1\n          }\n        }]);\n        return this.aggregate(arr);\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n\n      return this.find(query).populate({\n        path: 'tid',\n        select: '_id title'\n      }).populate({\n        path: 'cuid',\n        select: '_id name'\n      }).populate({\n        path: 'uid',\n        select: '_id name'\n      }).skip(page * limit).limit(limit).sort({\n        created: -1\n      });\n    }\n  },\n  getCommentsOptionsCount: function (options) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        // radio\n        query[options.item] = options.search;\n      }\n\n      if (['uid', 'tid', 'cuid'].includes(options.item)) {\n        let arr = [{\n          $lookup: {\n            from: 'posts',\n            let: {\n              pid: {\n                $toObjectId: '$tid'\n              }\n            },\n            pipeline: [{\n              $match: {\n                $expr: {\n                  $eq: ['$_id', '$$pid']\n                }\n              }\n            }, {\n              $project: {\n                _id: 1,\n                uid: 1,\n                title: 1\n              }\n            }],\n            as: 'tid'\n          }\n        }, {\n          $replaceRoot: {\n            newRoot: {\n              $mergeObjects: [{\n                $arrayElemAt: ['$tid', 0]\n              }, '$$ROOT']\n            }\n          }\n        }, {\n          $unwind: '$tid'\n        }];\n\n        if (options.item === 'tid') {\n          arr.push({\n            $match: {\n              title: {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $addFields: {\n            userId: {\n              $toObjectId: '$uid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'userId',\n            foreignField: '_id',\n            as: 'uid'\n          }\n        }]);\n\n        if (options.item === 'uid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'uid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$uid'\n        });\n        arr = arr.concat([{\n          $addFields: {\n            fuserId: {\n              $toObjectId: '$cuid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'fuserId',\n            foreignField: '_id',\n            as: 'cuid'\n          }\n        }]);\n\n        if (options.item === 'cuid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'cuid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$cuid'\n        });\n        arr.push({\n          $project: {\n            tid: 1,\n            cuid: {\n              name: 1,\n              _id: 1\n            },\n            uid: {\n              name: 1,\n              _id: 1\n            },\n            isBest: 1,\n            status: 1,\n            content: 1,\n            created: 1\n          }\n        });\n        arr.push({\n          $group: {\n            _id: null,\n            count: {\n              $sum: 1\n            }\n          }\n        });\n        return this.aggregate(arr);\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n\n      return this.find(query).countDocuments();\n    }\n\n    return this.find(query).countDocuments();\n  },\n  // getMsgList: function (id, page, limit) {\n  //   return this.aggregate([\n  // {\n  //   $lookup: {\n  //     from: 'posts',\n  //     let: { pid: { $toObjectId: '$tid' } },\n  //     pipeline: [\n  //       { $match: { $expr: { $eq: ['$_id', '$$pid'] } } },\n  //       { $project: { _id: 1, uid: 1, content: 1 } }\n  //     ],\n  //     as: 'post'\n  //   }\n  // },\n  // {\n  //   $replaceRoot: {\n  //     newRoot: {\n  //       $mergeObjects: [{ $arrayElemAt: ['$post', 0] }, '$$ROOT']\n  //     }\n  //   }\n  // },\n  // { $addFields: { userId: { $toObjectId: '$uid' } } },\n  // { $lookup: { from: 'users', localField: 'userId', foreignField: '_id', as: 'tuid' } },\n  // { $unwind: '$tuid' },\n  // { $addFields: { fuserId: { $toObjectId: '$cuid' } } },\n  // { $lookup: { from: 'users', localField: 'fuserId', foreignField: '_id', as: 'fuid' } },\n  // { $unwind: '$fuid' },\n  // { $project: { post: 0, tuid: { username: 0, password: 0 }, fuid: { username: 0, password: 0 }, userId: 0, fuserId: 0, tid: 0, cuid: 0 } },\n  //     { $match: { uid: id, status: '1', isRead: '0' } }\n  //   ])\n  //     .skip(limit * page)\n  //     .limit(limit)\n  //     .sort({ created: -1 })\n  // }\n  getHotComments: function (page, limit, index) {\n    if (index === '0') {\n      // 总评论记数 -> aggregate聚合查询\n      return this.aggregate([// 匹配30天内的评论数据\n      {\n        $match: {\n          created: {\n            $gte: new Date(dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(30, 'day'))\n          }\n        }\n      }, {\n        $group: {\n          _id: '$cuid',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $addFields: {\n          userId: {\n            $toObjectId: '$_id'\n          }\n        }\n      }, {\n        $lookup: {\n          from: 'users',\n          localField: 'userId',\n          foreignField: '_id',\n          as: 'cuid'\n        }\n      }, {\n        $unwind: '$cuid'\n      }, {\n        $project: {\n          cuid: {\n            name: 1,\n            _id: 1,\n            pic: 1\n          },\n          count: 1\n        }\n      }, {\n        $skip: page * limit\n      }, {\n        $limit: limit\n      }, {\n        $sort: {\n          count: -1\n        }\n      }]);\n    } else if (index === '1') {\n      // 最新评论\n      return this.find({}) // populate\n      .populate({\n        path: 'cuid',\n        select: 'name pic _id'\n      }).skip(page * limit).limit(limit).sort({\n        created: -1\n      });\n    }\n  },\n  getHotCommentsCount: async function (index) {\n    if (index === '0') {\n      // 总评论记数 -> aggregate聚合查询\n      const result = await this.aggregate([// 匹配30天内的评论数据\n      {\n        $match: {\n          created: {\n            $gte: new Date(dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(30, 'day'))\n          }\n        }\n      }, {\n        $group: {\n          _id: '$cuid',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $group: {\n          _id: 'null',\n          total: {\n            $sum: 1\n          }\n        }\n      }]);\n      return result[0].total;\n    } else if (index === '1') {\n      // 最新评论\n      return this.find({}).countDocuments();\n    }\n  }\n};\nconst Comments = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Comments);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHMuanM/MmUwMSJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvbW1lbnRzU2NoZW1hIiwidGlkIiwidHlwZSIsIlN0cmluZyIsInJlZiIsInVpZCIsImN1aWQiLCJjb250ZW50IiwiY3JlYXRlZCIsIkRhdGUiLCJoYW5kcyIsIk51bWJlciIsImRlZmF1bHQiLCJzdGF0dXMiLCJpc1JlYWQiLCJpc0Jlc3QiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInByZSIsIm5leHQiLCJwb3N0IiwiZXJyb3IiLCJkb2MiLCJuYW1lIiwiY29kZSIsIkVycm9yIiwic3RhdGljcyIsImZpbmRCeVRpZCIsImlkIiwiZmluZCIsImZpbmRCeUNpZCIsImZpbmRPbmUiLCJfaWQiLCJnZXRDb21tZW50c0xpc3QiLCJwYWdlIiwibGltaXQiLCJwb3B1bGF0ZSIsInBhdGgiLCJzZWxlY3QiLCJtYXRjaCIsIiRlcSIsInNraXAiLCJxdWVyeUNvdW50IiwiY291bnREb2N1bWVudHMiLCJnZXRDb21tZXRzUHVibGljIiwic29ydCIsImdldE1zZ0xpc3QiLCIkbmUiLCJnZXRUb3RhbCIsImdldENvbW1lbnRzT3B0aW9ucyIsIm9wdGlvbnMiLCJxdWVyeSIsInNlYXJjaCIsInRyaW0iLCJpdGVtIiwiaW5jbHVkZXMiLCJhcnIiLCIkbG9va3VwIiwiZnJvbSIsImxldCIsInBpZCIsIiR0b09iamVjdElkIiwicGlwZWxpbmUiLCIkbWF0Y2giLCIkZXhwciIsIiRwcm9qZWN0IiwidGl0bGUiLCJhcyIsIiRyZXBsYWNlUm9vdCIsIm5ld1Jvb3QiLCIkbWVyZ2VPYmplY3RzIiwiJGFycmF5RWxlbUF0IiwiJHVud2luZCIsInB1c2giLCIkcmVnZXgiLCIkb3B0aW9ucyIsImNvbmNhdCIsIiRhZGRGaWVsZHMiLCJ1c2VySWQiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiZnVzZXJJZCIsIiRza2lwIiwiJGxpbWl0IiwiJHNvcnQiLCJhZ2dyZWdhdGUiLCJzdGFydCIsImVuZCIsIiRndGUiLCIkbHQiLCJnZXRDb21tZW50c09wdGlvbnNDb3VudCIsIiRncm91cCIsImNvdW50IiwiJHN1bSIsImdldEhvdENvbW1lbnRzIiwiaW5kZXgiLCJtb21lbnQiLCJzdWJ0cmFjdCIsInBpYyIsImdldEhvdENvbW1lbnRzQ291bnQiLCJyZXN1bHQiLCJ0b3RhbCIsIkNvbW1lbnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FEMkI7QUFFaENDLEtBQUcsRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLE9BQUcsRUFBRTtBQUFyQixHQUYyQjtBQUdoQ0UsTUFBSSxFQUFFO0FBQUVKLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsT0FBRyxFQUFFO0FBQXJCLEdBSDBCO0FBR007QUFDdENHLFNBQU8sRUFBRTtBQUFFTCxRQUFJLEVBQUVDO0FBQVIsR0FKdUI7QUFLaENLLFNBQU8sRUFBRTtBQUFFTixRQUFJLEVBQUVPO0FBQVIsR0FMdUI7QUFNaENDLE9BQUssRUFBRTtBQUFFUixRQUFJLEVBQUVTLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQU55QjtBQU9oQ0MsUUFBTSxFQUFFO0FBQUVYLFFBQUksRUFBRUMsTUFBUjtBQUFnQlMsV0FBTyxFQUFFO0FBQXpCLEdBUHdCO0FBUWhDRSxRQUFNLEVBQUU7QUFBRVosUUFBSSxFQUFFQyxNQUFSO0FBQWdCUyxXQUFPLEVBQUU7QUFBekIsR0FSd0I7QUFTaENHLFFBQU0sRUFBRTtBQUFFYixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JTLFdBQU8sRUFBRTtBQUF6QjtBQVR3QixDQUFYLEVBVXBC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VUMsS0FBakI7QUFDRCxLQVRELE1BU08sSUFBSU4sS0FBSyxLQUFLLEdBQWQsRUFBbUI7QUFDeEI7QUFDQSxhQUFPLEtBQUtsRSxJQUFMLENBQVUsRUFBVixFQUFjYyxjQUFkLEVBQVA7QUFDRDtBQUNGO0FBalRzQixDQUF6QjtBQW9UQSxNQUFNMkQsUUFBUSxHQUFHdkcseURBQVEsQ0FBQ3dHLEtBQVQsQ0FBZSxVQUFmLEVBQTJCdkcsY0FBM0IsQ0FBakI7QUFFZXNHLHVFQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL0NvbW1lbnRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IENvbW1lbnRzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdGlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAncG9zdCcgfSxcclxuICB1aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICd1c2VycycgfSxcclxuICBjdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sIC8vIOivhOiuuuS6ulxyXG4gIGNvbnRlbnQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgaGFuZHM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzEnIH0sXHJcbiAgaXNSZWFkOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sXHJcbiAgaXNCZXN0OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH1cclxufSwgeyB0b0pTT046IHsgdmlydHVhbHM6IHRydWUgfSB9KVxyXG5cclxuQ29tbWVudHNTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXHJcbiAgbmV4dCgpXHJcbn0pXHJcblxyXG5Db21tZW50c1NjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcclxuICBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvRXJyb3InICYmIGVycm9yLmNvZGUgPT09IDExMDAwKSB7XHJcbiAgICBuZXh0KG5ldyBFcnJvcignVGhlcmUgd2FzIGEgZHVwbGljYXRlIGtleSBlcnJvcicpKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBuZXh0KGVycm9yKVxyXG4gIH1cclxufSlcclxuXHJcbkNvbW1lbnRzU2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgZmluZEJ5VGlkOiBmdW5jdGlvbiAoaWQpIHsgLy8g5qC55o2u5biW5a2QaWTmn6Xor6JcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB0aWQ6IGlkIH0pXHJcbiAgfSxcclxuICBmaW5kQnlDaWQ6IGZ1bmN0aW9uIChpZCkgeyAvLyDmoLnmja7or4TorrrkurppZOafpeivolxyXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IF9pZDogaWQgfSlcclxuICB9LFxyXG4gIGdldENvbW1lbnRzTGlzdDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xyXG4gICAgLy8g5qC55o2udGlk5p+l6K+i6K+E6K665L+h5oGvXHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdGlkOiBpZCB9KS5wb3B1bGF0ZSh7XHJcbiAgICAgIHBhdGg6ICdjdWlkJywgLy8g5qC55o2u5biW5a2Q5L+h5oGv5Lit55qE6K+E6K665Lq6KGN1aWQp5L+h5oGv5p+l6K+i5YW25ZyoUG9zdOeahOS/oeaBr1xyXG4gICAgICBzZWxlY3Q6ICdfaWQgbmFtZSBwaWMgaXNWaXAnLFxyXG4gICAgICBtYXRjaDogeyBzdGF0dXM6IHsgJGVxOiAnMCcgfSB9IC8vICRlcSDkvZznlKg66L+U5Zue6YKj5Lqb5YC85LiN5Li6MOeahOaVsOaNrlxyXG4gICAgfSkucG9wdWxhdGUoe1xyXG4gICAgICBwYXRoOiAndGlkJywgLy8g5qC55o2uQ29tbWVudHPkuK3nmoR0aWTmn6Xor6LlhbblnKhQb3N05Lit55qE5L+h5oGvXHJcbiAgICAgIHNlbGVjdDogJ19pZCB0aXRsZSBzdGF0dXMnXHJcbiAgICB9KS5za2lwKHBhZ2UgKiBsaW1pdCkubGltaXQobGltaXQpIC8vIOmZkOWItui/lOWbnuadoeaVsFxyXG4gIH0sXHJcbiAgcXVlcnlDb3VudDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdGlkOiBpZCB9KS5jb3VudERvY3VtZW50cygpXHJcbiAgfSxcclxuICAvLyDmn6Xor6LnlKjmiLfmnIDov5Hor4TorrpcclxuICBnZXRDb21tZXRzUHVibGljOiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgY3VpZDogaWQgfSlcclxuICAgICAgLnBvcHVsYXRlKHtcclxuICAgICAgICBwYXRoOiAndGlkJyxcclxuICAgICAgICBzZWxlY3Q6ICdfaWQgdGl0bGUnXHJcbiAgICAgIH0pXHJcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICAvLyDljoblj7Lmtojmga9cclxuICBnZXRNc2dMaXN0OiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHtcclxuICAgICAgdWlkOiBpZCxcclxuICAgICAgY3VpZDogeyAkbmU6IGlkIH0sXHJcbiAgICAgIGlzUmVhZDogeyAkZXE6ICcwJyB9LCAvLyDmnKror7vnirbmgIFcclxuICAgICAgc3RhdHVzOiB7ICRlcTogJzEnIH0gLy8g5piv5ZCm5pi+56S6XHJcbiAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd0aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCB0aXRsZSBjb250ZW50J1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICdjdWlkJyxcclxuICAgICAgICBzZWxlY3Q6ICdfaWQgbmFtZSdcclxuICAgICAgfSlcclxuICAgICAgLnNraXAobGltaXQgKiBwYWdlKVxyXG4gICAgICAubGltaXQobGltaXQpXHJcbiAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICB9LFxyXG4gIGdldFRvdGFsOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkLCBpc1JlYWQ6ICcwJywgc3RhdHVzOiAnMScgfSkuY291bnREb2N1bWVudHMoKVxyXG4gIH0sXHJcbiAgZ2V0Q29tbWVudHNPcHRpb25zOiBmdW5jdGlvbiAob3B0aW9ucywgcGFnZSwgbGltaXQpIHtcclxuICAgIGxldCBxdWVyeSA9IHt9XHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgLy8gcmFkaW9cclxuICAgICAgICBxdWVyeVtvcHRpb25zLml0ZW1dID0gb3B0aW9ucy5zZWFyY2hcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIOWIm+W7uuinhuWbvu+8mlxyXG4gICAgICAgKiBkYi5jcmVhdGVWaWV3KCdjb21tZW50c191c2VycycsICdjb21tZW50cycsIFtcclxuICAgICAgICAgIHsgJyRsb29rdXAnOiB7XHJcbiAgICAgICAgICAgICAgZnJvbTogJ3Bvc3RzJywgbGV0OiB7IHBpZDogeyAnJHRvT2JqZWN0SWQnOiAnJHRpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHBpcGVsaW5lOiBbIHsgJyRtYXRjaCc6IHsgJyRleHByJzogeyAnJGVxJzogWyAnJF9pZCcsICckJHBpZCcgXSB9IH0gfSxcclxuICAgICAgICAgICAgICB7ICckcHJvamVjdCc6IHsgX2lkOiAxLCB1aWQ6IDEsIHRpdGxlOiAxIH0gfSBdLCBhczogJ3RpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyRyZXBsYWNlUm9vdCc6IHsgbmV3Um9vdDogeyAnJG1lcmdlT2JqZWN0cyc6IFsgeyAnJGFycmF5RWxlbUF0JzogWyAnJHRpZCcsIDAgXSB9LCAnJCRST09UJyBdIH0gfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyR1bndpbmQnOiAnJHRpZCcgfSxcclxuICAgICAgICAgICAgICB7ICckYWRkRmllbGRzJzogeyB1c2VySWQ6IHsgJyR0b09iamVjdElkJzogJyR1aWQnIH0gfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyRsb29rdXAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICd1c2VySWQnLCBmb3JlaWduRmllbGQ6ICdfaWQnLCBhczogJ3VpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyR1bndpbmQnOiAnJHVpZCcgfSwgeyAnJGFkZEZpZWxkcyc6IHsgZnVzZXJJZDogeyAnJHRvT2JqZWN0SWQnOiAnJGN1aWQnIH0gfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyRsb29rdXAnOiB7IGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICdmdXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH0sXHJcbiAgICAgICAgICAgICAgeyAnJHVud2luZCc6ICckY3VpZCcgfSxcclxuICAgICAgICAgIHsgJyRwcm9qZWN0JzogeyB0aWQ6IDEsIGN1aWQ6IHsgbmFtZTogMSwgX2lkOiAxIH0sIHVpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgaXNCZXN0OiAxLCBzdGF0dXM6IDEsIGNvbnRlbnQ6IDEsIGNyZWF0ZWQ6IDEgfSB9LFxyXG4gICAgICAgICAgeyAnJHNvcnQnOiB7IGNyZWF0ZWQ6IC0xIH0gfV0sXHJcbiAgICAgICAgICB7fSlcclxuICAgICAgICovXHJcbiAgICAgIGlmIChbJ3VpZCcsICd0aWQnLCAnY3VpZCddLmluY2x1ZGVzKG9wdGlvbnMuaXRlbSkpIHtcclxuICAgICAgICBsZXQgYXJyID0gW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAkbG9va3VwOiB7XHJcbiAgICAgICAgICAgICAgZnJvbTogJ3Bvc3RzJyxcclxuICAgICAgICAgICAgICBsZXQ6IHsgcGlkOiB7ICR0b09iamVjdElkOiAnJHRpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHBpcGVsaW5lOiBbXHJcbiAgICAgICAgICAgICAgICB7ICRtYXRjaDogeyAkZXhwcjogeyAkZXE6IFsnJF9pZCcsICckJHBpZCddIH0gfSB9LFxyXG4gICAgICAgICAgICAgICAgeyAkcHJvamVjdDogeyBfaWQ6IDEsIHVpZDogMSwgdGl0bGU6IDEgfSB9XHJcbiAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICBhczogJ3RpZCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgJHJlcGxhY2VSb290OiB7XHJcbiAgICAgICAgICAgICAgbmV3Um9vdDoge1xyXG4gICAgICAgICAgICAgICAgJG1lcmdlT2JqZWN0czogW3sgJGFycmF5RWxlbUF0OiBbJyR0aWQnLCAwXSB9LCAnJCRST09UJ11cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7ICR1bndpbmQ6ICckdGlkJyB9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICd0aWQnKSB7XHJcbiAgICAgICAgICBhcnIucHVzaCh7XHJcbiAgICAgICAgICAgICRtYXRjaDogeyB0aXRsZTogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyID0gYXJyLmNvbmNhdChbXHJcbiAgICAgICAgICB7ICRhZGRGaWVsZHM6IHsgdXNlcklkOiB7ICR0b09iamVjdElkOiAnJHVpZCcgfSB9IH0sXHJcbiAgICAgICAgICB7ICRsb29rdXA6IHsgZnJvbTogJ3VzZXJzJywgbG9jYWxGaWVsZDogJ3VzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAndWlkJyB9IH1dKVxyXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICd1aWQnICYmIG9wdGlvbnMuc2VhcmNoLnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgJG1hdGNoOiB7ICd1aWQubmFtZSc6IHsgJHJlZ2V4OiBvcHRpb25zLnNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyci5wdXNoKHsgJHVud2luZDogJyR1aWQnIH0pXHJcbiAgICAgICAgYXJyID0gYXJyLmNvbmNhdChbXHJcbiAgICAgICAgICB7ICRhZGRGaWVsZHM6IHsgZnVzZXJJZDogeyAkdG9PYmplY3RJZDogJyRjdWlkJyB9IH0gfSxcclxuICAgICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAnZnVzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAnY3VpZCcgfSB9XHJcbiAgICAgICAgXSlcclxuICAgICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAnY3VpZCcgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgYXJyLnB1c2goe1xyXG4gICAgICAgICAgICAkbWF0Y2g6IHsgJ2N1aWQubmFtZSc6IHsgJHJlZ2V4OiBvcHRpb25zLnNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyciA9IGFyci5jb25jYXQoW1xyXG4gICAgICAgICAgeyAkdW53aW5kOiAnJGN1aWQnIH0sXHJcbiAgICAgICAgICB7ICRwcm9qZWN0OiB7IHRpZDogMSwgY3VpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgdWlkOiB7IG5hbWU6IDEsIF9pZDogMSB9LCBpc0Jlc3Q6IDEsIHN0YXR1czogMSwgY29udGVudDogMSwgY3JlYXRlZDogMSB9IH0sXHJcbiAgICAgICAgICB7ICRza2lwOiBsaW1pdCAqIHBhZ2UgfSxcclxuICAgICAgICAgIHsgJGxpbWl0OiBsaW1pdCB9LFxyXG4gICAgICAgICAgeyAkc29ydDogeyBjcmVhdGVkOiAtMSB9IH1cclxuICAgICAgICBdKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZShhcnIpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBvcHRpb25zLnNlYXJjaFswXVxyXG4gICAgICAgIGNvbnN0IGVuZCA9IG9wdGlvbnMuc2VhcmNoWzFdXHJcbiAgICAgICAgcXVlcnkgPSB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnQpLCAkbHQ6IG5ldyBEYXRlKGVuZCkgfSB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMuZmluZChxdWVyeSlcclxuICAgICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgICAgcGF0aDogJ3RpZCcsXHJcbiAgICAgICAgICBzZWxlY3Q6ICdfaWQgdGl0bGUnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgICAgcGF0aDogJ2N1aWQnLFxyXG4gICAgICAgICAgc2VsZWN0OiAnX2lkIG5hbWUnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgICAgcGF0aDogJ3VpZCcsXHJcbiAgICAgICAgICBzZWxlY3Q6ICdfaWQgbmFtZSdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgICAubGltaXQobGltaXQpXHJcbiAgICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZ2V0Q29tbWVudHNPcHRpb25zQ291bnQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBsZXQgcXVlcnkgPSB7fVxyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgIC8vIHJhZGlvXHJcbiAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IG9wdGlvbnMuc2VhcmNoXHJcbiAgICAgIH1cclxuICAgICAgaWYgKFsndWlkJywgJ3RpZCcsICdjdWlkJ10uaW5jbHVkZXMob3B0aW9ucy5pdGVtKSkge1xyXG4gICAgICAgIGxldCBhcnIgPSBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICRsb29rdXA6IHtcclxuICAgICAgICAgICAgICBmcm9tOiAncG9zdHMnLFxyXG4gICAgICAgICAgICAgIGxldDogeyBwaWQ6IHsgJHRvT2JqZWN0SWQ6ICckdGlkJyB9IH0sXHJcbiAgICAgICAgICAgICAgcGlwZWxpbmU6IFtcclxuICAgICAgICAgICAgICAgIHsgJG1hdGNoOiB7ICRleHByOiB7ICRlcTogWyckX2lkJywgJyQkcGlkJ10gfSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7ICRwcm9qZWN0OiB7IF9pZDogMSwgdWlkOiAxLCB0aXRsZTogMSB9IH1cclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgIGFzOiAndGlkJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAkcmVwbGFjZVJvb3Q6IHtcclxuICAgICAgICAgICAgICBuZXdSb290OiB7XHJcbiAgICAgICAgICAgICAgICAkbWVyZ2VPYmplY3RzOiBbeyAkYXJyYXlFbGVtQXQ6IFsnJHRpZCcsIDBdIH0sICckJFJPT1QnXVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHsgJHVud2luZDogJyR0aWQnIH1cclxuICAgICAgICBdXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ3RpZCcpIHtcclxuICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgJG1hdGNoOiB7IHRpdGxlOiB7ICRyZWdleDogb3B0aW9ucy5zZWFyY2gsICRvcHRpb25zOiAnaScgfSB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBhcnIgPSBhcnIuY29uY2F0KFtcclxuICAgICAgICAgIHsgJGFkZEZpZWxkczogeyB1c2VySWQ6IHsgJHRvT2JqZWN0SWQ6ICckdWlkJyB9IH0gfSxcclxuICAgICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAndXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICd1aWQnIH0gfV0pXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ3VpZCcgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgYXJyLnB1c2goe1xyXG4gICAgICAgICAgICAkbWF0Y2g6IHsgJ3VpZC5uYW1lJzogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyLnB1c2goeyAkdW53aW5kOiAnJHVpZCcgfSlcclxuICAgICAgICBhcnIgPSBhcnIuY29uY2F0KFtcclxuICAgICAgICAgIHsgJGFkZEZpZWxkczogeyBmdXNlcklkOiB7ICR0b09iamVjdElkOiAnJGN1aWQnIH0gfSB9LFxyXG4gICAgICAgICAgeyAkbG9va3VwOiB7IGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICdmdXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH1cclxuICAgICAgICBdKVxyXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICdjdWlkJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgICBhcnIucHVzaCh7XHJcbiAgICAgICAgICAgICRtYXRjaDogeyAnY3VpZC5uYW1lJzogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyLnB1c2goeyAkdW53aW5kOiAnJGN1aWQnIH0pXHJcbiAgICAgICAgYXJyLnB1c2goeyAkcHJvamVjdDogeyB0aWQ6IDEsIGN1aWQ6IHsgbmFtZTogMSwgX2lkOiAxIH0sIHVpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgaXNCZXN0OiAxLCBzdGF0dXM6IDEsIGNvbnRlbnQ6IDEsIGNyZWF0ZWQ6IDEgfSB9KVxyXG4gICAgICAgIGFyci5wdXNoKHsgJGdyb3VwOiB7IF9pZDogbnVsbCwgY291bnQ6IHsgJHN1bTogMSB9IH0gfSlcclxuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGUoYXJyKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IG9wdGlvbnMuc2VhcmNoWzBdXHJcbiAgICAgICAgY29uc3QgZW5kID0gb3B0aW9ucy5zZWFyY2hbMV1cclxuICAgICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShzdGFydCksICRsdDogbmV3IERhdGUoZW5kKSB9IH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXHJcbiAgfSxcclxuICAvLyBnZXRNc2dMaXN0OiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgLy8gICByZXR1cm4gdGhpcy5hZ2dyZWdhdGUoW1xyXG4gIC8vIHtcclxuICAvLyAgICRsb29rdXA6IHtcclxuICAvLyAgICAgZnJvbTogJ3Bvc3RzJyxcclxuICAvLyAgICAgbGV0OiB7IHBpZDogeyAkdG9PYmplY3RJZDogJyR0aWQnIH0gfSxcclxuICAvLyAgICAgcGlwZWxpbmU6IFtcclxuICAvLyAgICAgICB7ICRtYXRjaDogeyAkZXhwcjogeyAkZXE6IFsnJF9pZCcsICckJHBpZCddIH0gfSB9LFxyXG4gIC8vICAgICAgIHsgJHByb2plY3Q6IHsgX2lkOiAxLCB1aWQ6IDEsIGNvbnRlbnQ6IDEgfSB9XHJcbiAgLy8gICAgIF0sXHJcbiAgLy8gICAgIGFzOiAncG9zdCdcclxuICAvLyAgIH1cclxuICAvLyB9LFxyXG4gIC8vIHtcclxuICAvLyAgICRyZXBsYWNlUm9vdDoge1xyXG4gIC8vICAgICBuZXdSb290OiB7XHJcbiAgLy8gICAgICAgJG1lcmdlT2JqZWN0czogW3sgJGFycmF5RWxlbUF0OiBbJyRwb3N0JywgMF0gfSwgJyQkUk9PVCddXHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH1cclxuICAvLyB9LFxyXG4gIC8vIHsgJGFkZEZpZWxkczogeyB1c2VySWQ6IHsgJHRvT2JqZWN0SWQ6ICckdWlkJyB9IH0gfSxcclxuICAvLyB7ICRsb29rdXA6IHsgZnJvbTogJ3VzZXJzJywgbG9jYWxGaWVsZDogJ3VzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAndHVpZCcgfSB9LFxyXG4gIC8vIHsgJHVud2luZDogJyR0dWlkJyB9LFxyXG4gIC8vIHsgJGFkZEZpZWxkczogeyBmdXNlcklkOiB7ICR0b09iamVjdElkOiAnJGN1aWQnIH0gfSB9LFxyXG4gIC8vIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAnZnVzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAnZnVpZCcgfSB9LFxyXG4gIC8vIHsgJHVud2luZDogJyRmdWlkJyB9LFxyXG4gIC8vIHsgJHByb2plY3Q6IHsgcG9zdDogMCwgdHVpZDogeyB1c2VybmFtZTogMCwgcGFzc3dvcmQ6IDAgfSwgZnVpZDogeyB1c2VybmFtZTogMCwgcGFzc3dvcmQ6IDAgfSwgdXNlcklkOiAwLCBmdXNlcklkOiAwLCB0aWQ6IDAsIGN1aWQ6IDAgfSB9LFxyXG4gIC8vICAgICB7ICRtYXRjaDogeyB1aWQ6IGlkLCBzdGF0dXM6ICcxJywgaXNSZWFkOiAnMCcgfSB9XHJcbiAgLy8gICBdKVxyXG4gIC8vICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXHJcbiAgLy8gICAgIC5saW1pdChsaW1pdClcclxuICAvLyAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gIC8vIH1cclxuICBnZXRIb3RDb21tZW50czogZnVuY3Rpb24gKHBhZ2UsIGxpbWl0LCBpbmRleCkge1xyXG4gICAgaWYgKGluZGV4ID09PSAnMCcpIHtcclxuICAgICAgLy8g5oC76K+E6K666K6w5pWwIC0+IGFnZ3JlZ2F0ZeiBmuWQiOafpeivolxyXG4gICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGUoW1xyXG4gICAgICAgIC8vIOWMuemFjTMw5aSp5YaF55qE6K+E6K665pWw5o2uXHJcbiAgICAgICAgeyAkbWF0Y2g6IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShtb21lbnQoKS5zdWJ0cmFjdCgzMCwgJ2RheScpKSB9IH0gfSxcclxuICAgICAgICB7ICRncm91cDogeyBfaWQ6ICckY3VpZCcsIGNvdW50OiB7ICRzdW06IDEgfSB9IH0sXHJcbiAgICAgICAgeyAkYWRkRmllbGRzOiB7IHVzZXJJZDogeyAkdG9PYmplY3RJZDogJyRfaWQnIH0gfSB9LFxyXG4gICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAndXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH0sXHJcbiAgICAgICAgeyAkdW53aW5kOiAnJGN1aWQnIH0sXHJcbiAgICAgICAgeyAkcHJvamVjdDogeyBjdWlkOiB7IG5hbWU6IDEsIF9pZDogMSwgcGljOiAxIH0sIGNvdW50OiAxIH0gfSxcclxuICAgICAgICB7ICRza2lwOiBwYWdlICogbGltaXQgfSxcclxuICAgICAgICB7ICRsaW1pdDogbGltaXQgfSxcclxuICAgICAgICB7ICRzb3J0OiB7IGNvdW50OiAtMSB9IH1cclxuICAgICAgXSlcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09ICcxJykge1xyXG4gICAgICAvLyDmnIDmlrDor4TorrpcclxuICAgICAgcmV0dXJuIHRoaXMuZmluZCh7fSlcclxuICAgICAgICAvLyBwb3B1bGF0ZVxyXG4gICAgICAgIC5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICBwYXRoOiAnY3VpZCcsXHJcbiAgICAgICAgICBzZWxlY3Q6ICduYW1lIHBpYyBfaWQnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2tpcChwYWdlICogbGltaXQpXHJcbiAgICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICAgIH1cclxuICB9LFxyXG4gIGdldEhvdENvbW1lbnRzQ291bnQ6IGFzeW5jIGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgaWYgKGluZGV4ID09PSAnMCcpIHtcclxuICAgICAgLy8g5oC76K+E6K666K6w5pWwIC0+IGFnZ3JlZ2F0ZeiBmuWQiOafpeivolxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAgLy8g5Yy56YWNMzDlpKnlhoXnmoTor4TorrrmlbDmja5cclxuICAgICAgICB7ICRtYXRjaDogeyBjcmVhdGVkOiB7ICRndGU6IG5ldyBEYXRlKG1vbWVudCgpLnN1YnRyYWN0KDMwLCAnZGF5JykpIH0gfSB9LFxyXG4gICAgICAgIHsgJGdyb3VwOiB7IF9pZDogJyRjdWlkJywgY291bnQ6IHsgJHN1bTogMSB9IH0gfSxcclxuICAgICAgICB7ICRncm91cDogeyBfaWQ6ICdudWxsJywgdG90YWw6IHsgJHN1bTogMSB9IH0gfVxyXG4gICAgICBdKVxyXG4gICAgICByZXR1cm4gcmVzdWx0WzBdLnRvdGFsXHJcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAnMScpIHtcclxuICAgICAgLy8g5pyA5paw6K+E6K66XHJcbiAgICAgIHJldHVybiB0aGlzLmZpbmQoe30pLmNvdW50RG9jdW1lbnRzKClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IENvbW1lbnRzID0gbW9uZ29vc2UubW9kZWwoJ2NvbW1lbnRzJywgQ29tbWVudHNTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb21tZW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Comments.js\n");

/***/ }),

/***/ "./src/model/CommentsHands.js":
/*!************************************!*\
  !*** ./src/model/CommentsHands.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  // 'cid': { type: String},\n  cid: {\n    type: String,\n    ref: 'comments'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByCid: function (id) {\n    return this.find({\n      cid: id\n    });\n  },\n  getHandsByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cid',\n      select: '_id content'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  }\n};\nconst CommentsHands = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments_hands', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentsHands);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHNIYW5kcy5qcz9jOTdiIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiQ29tbWVudHNTY2hlbWEiLCJjaWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVmIiwidWlkIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlDaWQiLCJpZCIsImZpbmQiLCJnZXRIYW5kc0J5VWlkIiwicGFnZSIsImxpbWl0IiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0Iiwic2tpcCIsInNvcnQiLCJDb21tZW50c0hhbmRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDO0FBQ0FHLEtBQUcsRUFBRTtBQUFFQyxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLE9BQUcsRUFBRTtBQUFyQixHQUYyQjtBQUdoQ0MsS0FBRyxFQUFFO0FBQUVILFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsT0FBRyxFQUFFO0FBQXJCLEdBSDJCO0FBSWhDRSxTQUFPLEVBQUU7QUFBRUosUUFBSSxFQUFFSztBQUFSO0FBSnVCLENBQVgsQ0FBdkI7QUFPQVAsY0FBYyxDQUFDUSxHQUFmLENBQW1CLE1BQW5CLEVBQTJCLFVBQVVDLElBQVYsRUFBZ0I7QUFDekMsT0FBS0gsT0FBTCxHQUFlLElBQUlDLElBQUosRUFBZjtBQUNBRSxNQUFJO0FBQ0wsQ0FIRDtBQUtBVCxjQUFjLENBQUNVLElBQWYsQ0FBb0IsTUFBcEIsRUFBNEIsVUFBVUMsS0FBVixFQUFpQkMsR0FBakIsRUFBc0JILElBQXRCLEVBQTRCO0FBQ3RELE1BQUlFLEtBQUssQ0FBQ0UsSUFBTixLQUFlLFlBQWYsSUFBK0JGLEtBQUssQ0FBQ0csSUFBTixLQUFlLEtBQWxELEVBQXlEO0FBQ3ZETCxRQUFJLENBQUMsSUFBSU0sS0FBSixDQUFVLGlDQUFWLENBQUQsQ0FBSjtBQUNELEdBRkQsTUFFTztBQUNMTixRQUFJLENBQUNFLEtBQUQsQ0FBSjtBQUNEO0FBQ0YsQ0FORDtBQVFBWCxjQUFjLENBQUNnQixPQUFmLEdBQXlCO0FBQ3ZCQyxXQUFTLEVBQUUsVUFBVUMsRUFBVixFQUFjO0FBQ3ZCLFdBQU8sS0FBS0MsSUFBTCxDQUFVO0FBQUVsQixTQUFHLEVBQUVpQjtBQUFQLEtBQVYsQ0FBUDtBQUNELEdBSHNCO0FBSXZCRSxlQUFhLEVBQUUsVUFBVUYsRUFBVixFQUFjRyxJQUFkLEVBQW9CQyxLQUFwQixFQUEyQjtBQUN4QyxXQUFPLEtBQUtILElBQUwsQ0FBVTtBQUFFZCxTQUFHLEVBQUVhO0FBQVAsS0FBVixFQUNKSyxRQURJLENBQ0s7QUFDUkMsVUFBSSxFQUFFLEtBREU7QUFFUkMsWUFBTSxFQUFFO0FBRkEsS0FETCxFQUtKRixRQUxJLENBS0s7QUFDUkMsVUFBSSxFQUFFLEtBREU7QUFFUkMsWUFBTSxFQUFFO0FBRkEsS0FMTCxFQVNKQyxJQVRJLENBU0NMLElBQUksR0FBR0MsS0FUUixFQVVKQSxLQVZJLENBVUVBLEtBVkYsRUFXSkssSUFYSSxDQVdDO0FBQUVyQixhQUFPLEVBQUUsQ0FBQztBQUFaLEtBWEQsQ0FBUDtBQVlEO0FBakJzQixDQUF6QjtBQW9CQSxNQUFNc0IsYUFBYSxHQUFHN0IseURBQVEsQ0FBQzhCLEtBQVQsQ0FBZSxnQkFBZixFQUFpQzdCLGNBQWpDLENBQXRCO0FBRWU0Qiw0RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Db21tZW50c0hhbmRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IENvbW1lbnRzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgLy8gJ2NpZCc6IHsgdHlwZTogU3RyaW5nfSxcclxuICBjaWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICdjb21tZW50cycgfSxcclxuICB1aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICd1c2VycycgfSxcclxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfVxyXG59KVxyXG5cclxuQ29tbWVudHNTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXHJcbiAgbmV4dCgpXHJcbn0pXHJcblxyXG5Db21tZW50c1NjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcclxuICBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvRXJyb3InICYmIGVycm9yLmNvZGUgPT09IDExMDAwKSB7XHJcbiAgICBuZXh0KG5ldyBFcnJvcignVGhlcmUgd2FzIGEgZHVwbGljYXRlIGtleSBlcnJvcicpKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBuZXh0KGVycm9yKVxyXG4gIH1cclxufSlcclxuXHJcbkNvbW1lbnRzU2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgZmluZEJ5Q2lkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyBjaWQ6IGlkIH0pXHJcbiAgfSxcclxuICBnZXRIYW5kc0J5VWlkOiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdWlkOiBpZCB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICdjaWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCBjb250ZW50J1xyXG4gICAgICB9KVxyXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgQ29tbWVudHNIYW5kcyA9IG1vbmdvb3NlLm1vZGVsKCdjb21tZW50c19oYW5kcycsIENvbW1lbnRzU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29tbWVudHNIYW5kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/CommentsHands.js\n");

/***/ }),

/***/ "./src/model/ErrorRecord.js":
/*!**********************************!*\
  !*** ./src/model/ErrorRecord.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema; // Schema.Types.Mixed 可以让字段接收不同的值,如string、object\n\nconst ErrorRecordSchema = new Schema({\n  message: {\n    type: String,\n    default: ''\n  },\n  // 错误信息\n  code: {\n    type: String,\n    default: ''\n  },\n  // response status\n  method: {\n    type: String,\n    default: ''\n  },\n  // 请求的类型\n  path: {\n    type: String,\n    default: ''\n  },\n  // 请求的路径\n  param: {\n    type: Schema.Types.Mixed,\n    default: ''\n  },\n  // 请求的参数\n  username: {\n    type: String,\n    default: ''\n  },\n  // 当前登录用户\n  stack: {\n    type: String,\n    default: ''\n  },\n  created: {\n    type: Date\n  }\n});\nErrorRecordSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst ErrorRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('error_record', ErrorRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (ErrorRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvRXJyb3JSZWNvcmQuanM/YTgyYyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkVycm9yUmVjb3JkU2NoZW1hIiwibWVzc2FnZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiY29kZSIsIm1ldGhvZCIsInBhdGgiLCJwYXJhbSIsIlR5cGVzIiwiTWl4ZWQiLCJ1c2VybmFtZSIsInN0YWNrIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwiRXJyb3JSZWNvcmQiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyx5REFBUSxDQUFDRCxNQUF4QixDLENBQ0E7O0FBQ0EsTUFBTUUsaUJBQWlCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ25DRyxTQUFPLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FEMEI7QUFDSztBQUN4Q0MsTUFBSSxFQUFFO0FBQUVILFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRjZCO0FBRUU7QUFDckNFLFFBQU0sRUFBRTtBQUFFSixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUgyQjtBQUdJO0FBQ3ZDRyxNQUFJLEVBQUU7QUFBRUwsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FKNkI7QUFJRTtBQUNyQ0ksT0FBSyxFQUFFO0FBQUVOLFFBQUksRUFBRUosTUFBTSxDQUFDVyxLQUFQLENBQWFDLEtBQXJCO0FBQTRCTixXQUFPLEVBQUU7QUFBckMsR0FMNEI7QUFLZTtBQUNsRE8sVUFBUSxFQUFFO0FBQUVULFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBTnlCO0FBTU07QUFDekNRLE9BQUssRUFBRTtBQUFFVixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQVA0QjtBQVFuQ1MsU0FBTyxFQUFFO0FBQUVYLFFBQUksRUFBRVk7QUFBUjtBQVIwQixDQUFYLENBQTFCO0FBV0FkLGlCQUFpQixDQUFDZSxHQUFsQixDQUFzQixNQUF0QixFQUE4QixVQUFVQyxJQUFWLEVBQWdCO0FBQzVDLE9BQUtILE9BQUwsR0FBZSxJQUFJQyxJQUFKLEVBQWY7QUFDQUUsTUFBSTtBQUNMLENBSEQ7QUFLQSxNQUFNQyxXQUFXLEdBQUdsQix5REFBUSxDQUFDbUIsS0FBVCxDQUFlLGNBQWYsRUFBK0JsQixpQkFBL0IsQ0FBcEI7QUFFZWlCLDBFQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL0Vycm9yUmVjb3JkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuLy8gU2NoZW1hLlR5cGVzLk1peGVkIOWPr+S7peiuqeWtl+auteaOpeaUtuS4jeWQjOeahOWAvCzlpoJzdHJpbmfjgIFvYmplY3RcclxuY29uc3QgRXJyb3JSZWNvcmRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICBtZXNzYWdlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8g6ZSZ6K+v5L+h5oGvXHJcbiAgY29kZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sIC8vIHJlc3BvbnNlIHN0YXR1c1xyXG4gIG1ldGhvZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sIC8vIOivt+axgueahOexu+Wei1xyXG4gIHBhdGg6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LCAvLyDor7fmsYLnmoTot6/lvoRcclxuICBwYXJhbTogeyB0eXBlOiBTY2hlbWEuVHlwZXMuTWl4ZWQsIGRlZmF1bHQ6ICcnIH0sIC8vIOivt+axgueahOWPguaVsFxyXG4gIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwgLy8g5b2T5YmN55m75b2V55So5oi3XHJcbiAgc3RhY2s6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9XHJcbn0pXHJcblxyXG5FcnJvclJlY29yZFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcclxuICBuZXh0KClcclxufSlcclxuXHJcbmNvbnN0IEVycm9yUmVjb3JkID0gbW9uZ29vc2UubW9kZWwoJ2Vycm9yX3JlY29yZCcsIEVycm9yUmVjb3JkU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXJyb3JSZWNvcmRcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/ErrorRecord.js\n");

/***/ }),

/***/ "./src/model/Links.js":
/*!****************************!*\
  !*** ./src/model/Links.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst LinksSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'link'\n  },\n  created: {\n    type: Date\n  },\n  isTop: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: ''\n  }\n});\nLinksSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('links', LinksSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTGlua3MuanM/ZTMxMiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkxpbmtzU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwiZGVmYXVsdCIsImxpbmsiLCJjcmVhdGVkIiwiRGF0ZSIsImlzVG9wIiwic29ydCIsInByZSIsIm5leHQiLCJMaW5rcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM3QkcsT0FBSyxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRHNCO0FBRTdCQyxNQUFJLEVBQUU7QUFBRUgsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FGdUI7QUFHN0JGLE1BQUksRUFBRTtBQUFFQSxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUh1QjtBQUk3QkUsU0FBTyxFQUFFO0FBQUVKLFFBQUksRUFBRUs7QUFBUixHQUpvQjtBQUs3QkMsT0FBSyxFQUFFO0FBQUVOLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBTHNCO0FBTTdCSyxNQUFJLEVBQUU7QUFBRVAsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekI7QUFOdUIsQ0FBWCxDQUFwQjtBQVNBSixXQUFXLENBQUNVLEdBQVosQ0FBZ0IsTUFBaEIsRUFBd0IsVUFBVUMsSUFBVixFQUFnQjtBQUN0QyxPQUFLTCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FJLE1BQUk7QUFDTCxDQUhEO0FBS0EsTUFBTUMsS0FBSyxHQUFHYix5REFBUSxDQUFDYyxLQUFULENBQWUsT0FBZixFQUF3QmIsV0FBeEIsQ0FBZDtBQUVlWSxvRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9MaW5rcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBMaW5rc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICBsaW5rOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2xpbmsnIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgaXNUb3A6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIHNvcnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9XHJcbn0pXHJcblxyXG5MaW5rc1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcclxuICBuZXh0KClcclxufSlcclxuXHJcbmNvbnN0IExpbmtzID0gbW9uZ29vc2UubW9kZWwoJ2xpbmtzJywgTGlua3NTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaW5rcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Links.js\n");

/***/ }),

/***/ "./src/model/Menus.js":
/*!****************************!*\
  !*** ./src/model/Menus.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst MenuSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  name: {\n    type: String,\n    default: ''\n  },\n  path: {\n    type: String,\n    default: ''\n  },\n  component: {\n    type: String,\n    default: ''\n  },\n  hideInBread: {\n    type: Boolean,\n    default: false\n  },\n  hideInMenu: {\n    type: Boolean,\n    default: false\n  },\n  notCache: {\n    type: Boolean,\n    default: false\n  },\n  icon: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: 0\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  redirect: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'menu'\n  },\n  // 配合tree组件，展开对应的树形结构\n  expand: {\n    type: Boolean,\n    default: true\n  }\n});\nconst OperationSchema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: ''\n  },\n  method: {\n    type: String,\n    default: ''\n  },\n  path: {\n    type: String,\n    default: ''\n  },\n  regmark: {\n    type: String,\n    default: ''\n  }\n}); // 给模板添加属性并指定加入数据格式\n\nMenuSchema.add({\n  children: [MenuSchema],\n  operations: [OperationSchema]\n});\nconst Menus = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('menus', MenuSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Menus);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTWVudXMuanM/NGNhNCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIk1lbnVTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwibmFtZSIsInBhdGgiLCJjb21wb25lbnQiLCJoaWRlSW5CcmVhZCIsIkJvb2xlYW4iLCJoaWRlSW5NZW51Iiwibm90Q2FjaGUiLCJpY29uIiwic29ydCIsImxpbmsiLCJyZWRpcmVjdCIsImV4cGFuZCIsIk9wZXJhdGlvblNjaGVtYSIsIm1ldGhvZCIsInJlZ21hcmsiLCJhZGQiLCJjaGlsZHJlbiIsIm9wZXJhdGlvbnMiLCJNZW51cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM1QkcsT0FBSyxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRHFCO0FBRTVCQyxNQUFJLEVBQUU7QUFBRUgsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FGc0I7QUFHNUJFLE1BQUksRUFBRTtBQUFFSixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUhzQjtBQUk1QkcsV0FBUyxFQUFFO0FBQUVMLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBSmlCO0FBSzVCSSxhQUFXLEVBQUU7QUFBRU4sUUFBSSxFQUFFTyxPQUFSO0FBQWlCTCxXQUFPLEVBQUU7QUFBMUIsR0FMZTtBQU01Qk0sWUFBVSxFQUFFO0FBQUVSLFFBQUksRUFBRU8sT0FBUjtBQUFpQkwsV0FBTyxFQUFFO0FBQTFCLEdBTmdCO0FBTzVCTyxVQUFRLEVBQUU7QUFBRVQsUUFBSSxFQUFFTyxPQUFSO0FBQWlCTCxXQUFPLEVBQUU7QUFBMUIsR0FQa0I7QUFRNUJRLE1BQUksRUFBRTtBQUFFVixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQVJzQjtBQVM1QlMsTUFBSSxFQUFFO0FBQUVYLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBVHNCO0FBVTVCVSxNQUFJLEVBQUU7QUFBRVosUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FWc0I7QUFXNUJXLFVBQVEsRUFBRTtBQUFFYixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQVhrQjtBQVk1QkYsTUFBSSxFQUFFO0FBQUVBLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBWnNCO0FBYTVCO0FBQ0FZLFFBQU0sRUFBRTtBQUFFZCxRQUFJLEVBQUVPLE9BQVI7QUFBaUJMLFdBQU8sRUFBRTtBQUExQjtBQWRvQixDQUFYLENBQW5CO0FBaUJBLE1BQU1hLGVBQWUsR0FBRyxJQUFJbkIsTUFBSixDQUFXO0FBQ2pDTyxNQUFJLEVBQUU7QUFBRUgsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FEMkI7QUFFakNGLE1BQUksRUFBRTtBQUFFQSxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUYyQjtBQUdqQ2MsUUFBTSxFQUFFO0FBQUVoQixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUh5QjtBQUlqQ0UsTUFBSSxFQUFFO0FBQUVKLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBSjJCO0FBS2pDZSxTQUFPLEVBQUU7QUFBRWpCLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCO0FBTHdCLENBQVgsQ0FBeEIsQyxDQVFBOztBQUNBSixVQUFVLENBQUNvQixHQUFYLENBQWU7QUFDYkMsVUFBUSxFQUFFLENBQUNyQixVQUFELENBREc7QUFFYnNCLFlBQVUsRUFBRSxDQUFDTCxlQUFEO0FBRkMsQ0FBZjtBQUtBLE1BQU1NLEtBQUssR0FBR3hCLHlEQUFRLENBQUN5QixLQUFULENBQWUsT0FBZixFQUF3QnhCLFVBQXhCLENBQWQ7QUFFZXVCLG9FQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL01lbnVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IE1lbnVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB0aXRsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgcGF0aDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgY29tcG9uZW50OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICBoaWRlSW5CcmVhZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIGhpZGVJbk1lbnU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBub3RDYWNoZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIGljb246IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIHNvcnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAwIH0sXHJcbiAgbGluazogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgcmVkaXJlY3Q6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIHR5cGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnbWVudScgfSxcclxuICAvLyDphY3lkIh0cmVl57uE5Lu277yM5bGV5byA5a+55bqU55qE5qCR5b2i57uT5p6EXHJcbiAgZXhwYW5kOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfVxyXG59KVxyXG5cclxuY29uc3QgT3BlcmF0aW9uU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgdHlwZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgbWV0aG9kOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICBwYXRoOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICByZWdtYXJrOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfVxyXG59KVxyXG5cclxuLy8g57uZ5qih5p2/5re75Yqg5bGe5oCn5bm25oyH5a6a5Yqg5YWl5pWw5o2u5qC85byPXHJcbk1lbnVTY2hlbWEuYWRkKHtcclxuICBjaGlsZHJlbjogW01lbnVTY2hlbWFdLFxyXG4gIG9wZXJhdGlvbnM6IFtPcGVyYXRpb25TY2hlbWFdXHJcbn0pXHJcblxyXG5jb25zdCBNZW51cyA9IG1vbmdvb3NlLm1vZGVsKCdtZW51cycsIE1lbnVTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBNZW51c1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/Menus.js\n");

/***/ }),

/***/ "./src/model/Post.js":
/*!***************************!*\
  !*** ./src/model/Post.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String,\n    default: '0'\n  },\n  // 结帖状态\n  reads: {\n    type: Number,\n    default: 0\n  },\n  answer: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  // 管理员打开回复\n  isTop: {\n    type: String,\n    default: '0'\n  },\n  sort: {\n    type: String,\n    default: 100\n  },\n  tags: {\n    type: Array,\n    default: [// {\n      //   name: '',\n      //   class: ''\n      // }\n    ]\n  }\n}); // uid虚拟映射users集合中的_id\n\nPostSchema.virtual('users', {\n  ref: 'users',\n  localField: 'uid',\n  foreignField: '_id'\n});\nPostSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostSchema.statics = {\n  /**\r\n   * 获取文章列表数据\r\n   * @param {Object} options 筛选条件\r\n   * @param {String} sort 排序方式\r\n   * @param {Number} page 分页页数\r\n   * @param {Number} limit 分页条数\r\n   */\n  getList: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit).populate({\n      path: 'uid',\n      // 通过uid去取得用户的昵称、是否会员、头像\n      select: 'name isVip pic'\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  },\n  // 获取7天内的文章,取回复数前15\n  getTopWeek: function () {\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(7, 'days')\n      }\n    }, {\n      answer: 1,\n      title: 1\n    }).sort({\n      answer: -1\n    }).limit(15);\n  },\n  // 根据uid取得用户的信息\n  findByTid: function (id) {\n    return this.findOne({\n      _id: id\n    }).populate({\n      path: 'uid',\n      // Post表的uid属性与User表映射,通过帖子id使用populate取我们需要的数据\n      select: 'name pic isVip _id'\n    });\n  },\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  },\n  getHotPost: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).skip(limit * page).limit(limit).sort({\n      answer: -1\n    });\n  },\n  getHotPostCount: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).countDocuments();\n  }\n};\nconst PostModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post', PostSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PostModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Il0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiUG9zdFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJ0aXRsZSIsImNvbnRlbnQiLCJjcmVhdGVkIiwiRGF0ZSIsImNhdGFsb2ciLCJmYXYiLCJpc0VuZCIsImRlZmF1bHQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJBcnJheSIsInZpcnR1YWwiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwicHJlIiwibmV4dCIsInN0YXRpY3MiLCJnZXRMaXN0Iiwib3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3BXZWVrIiwiJGd0ZSIsIm1vbWVudCIsInN1YnRyYWN0IiwiZmluZEJ5VGlkIiwiaWQiLCJmaW5kT25lIiwiX2lkIiwiZ2V0TGlzdEJ5VWlkIiwiY291bnRCeVVpZCIsImdldEhvdFBvc3QiLCJzdGFydCIsImVuZCIsInF1ZXJ5IiwiJGx0IiwiZ2V0SG90UG9zdENvdW50IiwiUG9zdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzVCRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FEdUI7QUFFNUJDLE9BQUssRUFBRTtBQUFFSCxRQUFJLEVBQUVDO0FBQVIsR0FGcUI7QUFHNUJHLFNBQU8sRUFBRTtBQUFFSixRQUFJLEVBQUVDO0FBQVIsR0FIbUI7QUFJNUJJLFNB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QUlGLEtBQUssS0FBSyxFQUFWLElBQWdCQyxHQUFHLEtBQUssRUFBNUIsRUFBZ0M7QUFDOUJDLFdBQUssR0FBRztBQUFFNUMsZUFBTyxFQUFFO0FBQUVnQyxjQUFJLEVBQUVVLEtBQVI7QUFBZUcsYUFBRyxFQUFFRjtBQUFwQjtBQUFYLE9BQVI7QUFDRDs7QUFDRCxXQUFPLEtBQUtuQixJQUFMLENBQVVvQixLQUFWLEVBQWlCZCxjQUFqQixFQUFQO0FBQ0Q7QUFqRWtCLENBQXJCO0FBb0VBLE1BQU1pQixTQUFTLEdBQUd2RCx5REFBUSxDQUFDd0QsS0FBVCxDQUFlLE1BQWYsRUFBdUJ2RCxVQUF2QixDQUFsQjtBQUVlc0Qsd0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvUG9zdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBQb3N0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXHJcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgY29udGVudDogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfSxcclxuICBjYXRhbG9nOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIGZhdjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBpc0VuZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LCAvLyDnu5PluJbnirbmgIFcclxuICByZWFkczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxuICBhbnN3ZXI6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sIC8vIOeuoeeQhuWRmOaJk+W8gOWbnuWkjVxyXG4gIGlzVG9wOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sXHJcbiAgc29ydDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IDEwMCB9LFxyXG4gIHRhZ3M6IHtcclxuICAgIHR5cGU6IEFycmF5LFxyXG4gICAgZGVmYXVsdDogW1xyXG4gICAgICAvLyB7XHJcbiAgICAgIC8vICAgbmFtZTogJycsXHJcbiAgICAgIC8vICAgY2xhc3M6ICcnXHJcbiAgICAgIC8vIH1cclxuICAgIF1cclxuICB9XHJcbn0pXHJcblxyXG4vLyB1aWTomZrmi5/mmKDlsIR1c2Vyc+mbhuWQiOS4reeahF9pZFxyXG5Qb3N0U2NoZW1hLnZpcnR1YWwoJ3VzZXJzJywge1xyXG4gIHJlZjogJ3VzZXJzJyxcclxuICBsb2NhbEZpZWxkOiAndWlkJyxcclxuICBmb3JlaWduRmllbGQ6ICdfaWQnXHJcbn0pXHJcblxyXG5Qb3N0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuUG9zdFNjaGVtYS5zdGF0aWNzID0ge1xyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaWh+eroOWIl+ihqOaVsOaNrlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOetm+mAieadoeS7tlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzb3J0IOaOkuW6j+aWueW8j1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlIOWIhumhtemhteaVsFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsaW1pdCDliIbpobXmnaHmlbBcclxuICAgKi9cclxuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucylcclxuICAgICAgLnNvcnQoeyBbc29ydF06IC0xIH0pXHJcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLCAvLyDpgJrov4d1aWTljrvlj5blvpfnlKjmiLfnmoTmmLXnp7DjgIHmmK/lkKbkvJrlkZjjgIHlpLTlg49cclxuICAgICAgICBzZWxlY3Q6ICduYW1lIGlzVmlwIHBpYydcclxuICAgICAgfSlcclxuICB9LFxyXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucykuY291bnREb2N1bWVudHMoKVxyXG4gIH0sXHJcbiAgLy8g6I635Y+WN+WkqeWGheeahOaWh+eroCzlj5blm57lpI3mlbDliY0xNVxyXG4gIGdldFRvcFdlZWs6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoe1xyXG4gICAgICBjcmVhdGVkOiB7XHJcbiAgICAgICAgJGd0ZTogbW9tZW50KCkuc3VidHJhY3QoNywgJ2RheXMnKVxyXG4gICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgIGFuc3dlcjogMSxcclxuICAgICAgdGl0bGU6IDFcclxuICAgIH0pLnNvcnQoeyBhbnN3ZXI6IC0xIH0pXHJcbiAgICAgIC5saW1pdCgxNSlcclxuICB9LFxyXG4gIC8vIOagueaNrnVpZOWPluW+l+eUqOaIt+eahOS/oeaBr1xyXG4gIGZpbmRCeVRpZDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgX2lkOiBpZCB9KS5wb3B1bGF0ZSh7XHJcbiAgICAgIHBhdGg6ICd1aWQnLCAvLyBQb3N06KGo55qEdWlk5bGe5oCn5LiOVXNlcuihqOaYoOWwhCzpgJrov4fluJblrZBpZOS9v+eUqHBvcHVsYXRl5Y+W5oiR5Lus6ZyA6KaB55qE5pWw5o2uXHJcbiAgICAgIHNlbGVjdDogJ25hbWUgcGljIGlzVmlwIF9pZCdcclxuICAgIH0pXHJcbiAgfSxcclxuICBnZXRMaXN0QnlVaWQ6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXHJcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcclxuICB9LFxyXG4gIGdldEhvdFBvc3Q6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCwgc3RhcnQsIGVuZCkge1xyXG4gICAgbGV0IHF1ZXJ5ID0ge31cclxuICAgIGlmIChzdGFydCAhPT0gJycgJiYgZW5kICE9PSAnJykge1xyXG4gICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydCwgJGx0OiBlbmQgfSB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KVxyXG4gICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuICAgICAgLnNvcnQoeyBhbnN3ZXI6IC0xIH0pXHJcbiAgfSxcclxuICBnZXRIb3RQb3N0Q291bnQ6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCwgc3RhcnQsIGVuZCkge1xyXG4gICAgbGV0IHF1ZXJ5ID0ge31cclxuICAgIGlmIChzdGFydCAhPT0gJycgJiYgZW5kICE9PSAnJykge1xyXG4gICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydCwgJGx0OiBlbmQgfSB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBQb3N0TW9kZWwgPSBtb25nb29zZS5tb2RlbCgncG9zdCcsIFBvc3RTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3N0TW9kZWxcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/Post.js\n");

/***/ }),

/***/ "./src/model/PostTags.js":
/*!*******************************!*\
  !*** ./src/model/PostTags.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostTagsSchema = new Schema({\n  tagName: {\n    type: String,\n    default: ''\n  },\n  tagClass: {\n    type: String,\n    default: ''\n  }\n});\nPostTagsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostTagsSchema.statics = {\n  getList: function (options, page, limit) {\n    return this.find(options).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  }\n};\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post_tags', PostTagsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdFRhZ3MuanM/Y2ZjZiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlBvc3RUYWdzU2NoZW1hIiwidGFnTmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwidGFnQ2xhc3MiLCJwcmUiLCJuZXh0IiwiY3JlYXRlZCIsIkRhdGUiLCJzdGF0aWNzIiwiZ2V0TGlzdCIsIm9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInNvcnQiLCJjb3VudExpc3QiLCJjb3VudERvY3VtZW50cyIsIkxpbmtzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxTQUFPLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FEdUI7QUFFaENDLFVBQVEsRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QjtBQUZzQixDQUFYLENBQXZCO0FBS0FKLGNBQWMsQ0FBQ00sR0FBZixDQUFtQixNQUFuQixFQUEyQixVQUFVQyxJQUFWLEVBQWdCO0FBQ3pDLE9BQUtDLE9BQUwsR0FBZSxJQUFJQyxJQUFKLEVBQWY7QUFDQUYsTUFBSTtBQUNMLENBSEQ7QUFLQVAsY0FBYyxDQUFDVSxPQUFmLEdBQXlCO0FBQ3ZCQyxTQUFPLEVBQUUsVUFBVUMsT0FBVixFQUFtQkMsSUFBbkIsRUFBeUJDLEtBQXpCLEVBQWdDO0FBQ3ZDLFdBQU8sS0FBS0MsSUFBTCxDQUFVSCxPQUFWLEVBQ0pJLElBREksQ0FDQ0gsSUFBSSxHQUFHQyxLQURSLEVBRUpBLEtBRkksQ0FFRUEsS0FGRixFQUdKRyxJQUhJLENBR0M7QUFBRVQsYUFBTyxFQUFFLENBQUM7QUFBWixLQUhELENBQVA7QUFJRCxHQU5zQjtBQU92QlUsV0FBUyxFQUFFLFVBQVVOLE9BQVYsRUFBbUI7QUFDNUIsV0FBTyxLQUFLRyxJQUFMLENBQVVILE9BQVYsRUFBbUJPLGNBQW5CLEVBQVA7QUFDRDtBQVRzQixDQUF6QjtBQVlBLE1BQU1DLEtBQUssR0FBR3JCLHlEQUFRLENBQUNzQixLQUFULENBQWUsV0FBZixFQUE0QnJCLGNBQTVCLENBQWQ7QUFFZW9CLG9FQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1Bvc3RUYWdzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ0AvY29uZmlnL0RCSGVscGxlcidcclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgUG9zdFRhZ3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB0YWdOYW1lOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICB0YWdDbGFzczogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH1cclxufSlcclxuXHJcblBvc3RUYWdzU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuUG9zdFRhZ3NTY2hlbWEuc3RhdGljcyA9IHtcclxuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucylcclxuICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxyXG4gICAgICAubGltaXQobGltaXQpXHJcbiAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICB9LFxyXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucykuY291bnREb2N1bWVudHMoKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgTGlua3MgPSBtb25nb29zZS5tb2RlbCgncG9zdF90YWdzJywgUG9zdFRhZ3NTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaW5rcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/PostTags.js\n");

/***/ }),

/***/ "./src/model/Roles.js":
/*!****************************!*\
  !*** ./src/model/Roles.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst RolesSchema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  role: {\n    type: String,\n    default: ''\n  },\n  desc: {\n    type: String,\n    default: ''\n  },\n  menu: {\n    type: Array,\n    default: []\n  }\n});\nconst Roles = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('roles', RolesSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Roles);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUm9sZXMuanM/NTFjYiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlJvbGVzU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0Iiwicm9sZSIsImRlc2MiLCJtZW51IiwiQXJyYXkiLCJSb2xlcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM3QkcsTUFBSSxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRHVCO0FBRTdCQyxNQUFJLEVBQUU7QUFBRUgsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FGdUI7QUFHN0JFLE1BQUksRUFBRTtBQUFFSixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUh1QjtBQUk3QkcsTUFBSSxFQUFFO0FBQUVMLFFBQUksRUFBRU0sS0FBUjtBQUFlSixXQUFPLEVBQUU7QUFBeEI7QUFKdUIsQ0FBWCxDQUFwQjtBQU9BLE1BQU1LLEtBQUssR0FBR1YseURBQVEsQ0FBQ1csS0FBVCxDQUFlLE9BQWYsRUFBd0JWLFdBQXhCLENBQWQ7QUFFZVMsb0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvUm9sZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnQC9jb25maWcvREJIZWxwbGVyJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBSb2xlc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIHJvbGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIGRlc2M6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIG1lbnU6IHsgdHlwZTogQXJyYXksIGRlZmF1bHQ6IFtdIH1cclxufSlcclxuXHJcbmNvbnN0IFJvbGVzID0gbW9uZ29vc2UubW9kZWwoJ3JvbGVzJywgUm9sZXNTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb2xlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Roles.js\n");

/***/ }),

/***/ "./src/model/SignRecord.js":
/*!*********************************!*\
  !*** ./src/model/SignRecord.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst SignRecordSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  },\n  favs: {\n    type: Number\n  } // 积分\n\n});\nSignRecordSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n}); // 给模型设置静态方法\n\nSignRecordSchema.statics = {\n  findByUid: function (uid) {\n    // 根据uid查找最新的签到记录\n    return this.findOne({\n      uid: uid\n    }).sort({\n      created: -1\n    });\n  }\n};\nconst SignRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('sign_record', SignRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SignRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcz83YzliIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiU2lnblJlY29yZFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJjcmVhdGVkIiwiRGF0ZSIsImZhdnMiLCJOdW1iZXIiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0Iiwic3RhdGljcyIsImZpbmRCeVVpZCIsImZpbmRPbmUiLCJzb3J0IiwiU2lnblJlY29yZCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsZ0JBQWdCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2xDRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FENkI7QUFFbENDLFNBQU8sRUFBRTtBQUFFSCxRQUFJLEVBQUVJO0FBQVIsR0FGeUI7QUFHbENDLE1BQUksRUFBRTtBQUFFTCxRQUFJLEVBQUVNO0FBQVIsR0FINEIsQ0FHWDs7QUFIVyxDQUFYLENBQXpCO0FBTUFSLGdCQUFnQixDQUFDUyxHQUFqQixDQUFxQixNQUFyQixFQUE2QixVQUFVQyxJQUFWLEVBQWdCO0FBQzNDLE9BQUtMLE9BQUwsR0FBZU0sNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ0wsQ0FIRCxFLENBS0E7O0FBQ0FWLGdCQUFnQixDQUFDYSxPQUFqQixHQUEyQjtBQUN6QkMsV0FBUyxFQUFFLFVBQVViLEdBQVYsRUFBZTtBQUN4QjtBQUNBLFdBQU8sS0FBS2MsT0FBTCxDQUFhO0FBQUNkLFNBQUcsRUFBRUE7QUFBTixLQUFiLEVBQXlCZSxJQUF6QixDQUE4QjtBQUFDWCxhQUFPLEVBQUUsQ0FBQztBQUFYLEtBQTlCLENBQVA7QUFDRDtBQUp3QixDQUEzQjtBQU9BLE1BQU1ZLFVBQVUsR0FBR2xCLHlEQUFRLENBQUNtQixLQUFULENBQWUsYUFBZixFQUE4QmxCLGdCQUE5QixDQUFuQjtBQUVlaUIseUVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBTaWduUmVjb3JkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgZmF2czogeyB0eXBlOiBOdW1iZXIgfSAvLyDnp6/liIZcclxufSlcclxuXHJcblNpZ25SZWNvcmRTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuLy8g57uZ5qih5Z6L6K6+572u6Z2Z5oCB5pa55rOVXHJcblNpZ25SZWNvcmRTY2hlbWEuc3RhdGljcyA9IHtcclxuICBmaW5kQnlVaWQ6IGZ1bmN0aW9uICh1aWQpIHtcclxuICAgIC8vIOagueaNrnVpZOafpeaJvuacgOaWsOeahOetvuWIsOiusOW9lVxyXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7dWlkOiB1aWR9KS5zb3J0KHtjcmVhdGVkOiAtMX0pXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBTaWduUmVjb3JkID0gbW9uZ29vc2UubW9kZWwoJ3NpZ25fcmVjb3JkJywgU2lnblJlY29yZFNjaGVtYSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNpZ25SZWNvcmRcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/SignRecord.js\n");

/***/ }),

/***/ "./src/model/User.js":
/*!***************************!*\
  !*** ./src/model/User.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserSchema = new Schema({\n  username: {\n    type: String,\n    index: {\n      unique: true\n    },\n    sparse: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  updated: {\n    type: Date\n  },\n  favs: {\n    type: Number,\n    default: 100\n  },\n  gender: {\n    type: String,\n    default: ''\n  },\n  roles: {\n    type: Array,\n    default: ['user']\n  },\n  pic: {\n    type: String,\n    default: '/img/header.jpg'\n  },\n  mobile: {\n    type: String,\n    match: /^1[3-9](\\d{9})$/,\n    default: ''\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  regmark: {\n    type: String,\n    default: ''\n  },\n  location: {\n    type: String,\n    default: ''\n  },\n  isVip: {\n    type: String,\n    default: '0'\n  },\n  count: {\n    type: Number,\n    default: 0\n  }\n}); // 保存前给created赋值时间\n\nUserSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n}); // 更新前给updated赋值时间\n\nUserSchema.pre('update', function (next) {\n  this.updated = new Date();\n  next();\n}); // 报错\n\nUserSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('Error: Monngoose has a duplicate key.'));\n  } else {\n    next(error);\n  }\n});\nUserSchema.statics = {\n  // 根据id查用户信息时拦截数据库返回的密码、用户名、手机号码\n  findByID: function (id) {\n    return this.findOne({\n      _id: id\n    }, {\n      password: 0,\n      username: 0,\n      mobile: 0\n    });\n  },\n  // 获取用户列表\n  getList: function (options, sort, page, limit) {\n    // // 1. datepicker(时间) -> item: string, search -> array  startitme,endtime\n    // // 2. radio(键值对) -> key-value $in\n    // // 3. select(数组) -> key-array $in\n    let query = {}; // 判断是否有传搜索值,没有则直接返回全部数据\n\n    if (typeof options.search !== 'undefined') {\n      // 判断传递的搜索值是否为字符串类型\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        if (['name', 'username'].includes(options.item)) {\n          // 模糊匹配\n          query[options.item] = {\n            $regex: new RegExp(options.search)\n          }; // => { name: { $regex: /admin/ } } => mysql like %admin%\n        } else {\n          // radio 禁言、vip\n          query[options.item] = options.search;\n        }\n      }\n\n      if (options.item === 'roles') {\n        query = {\n          roles: {\n            $in: options.search\n          }\n        };\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n    } // 查找返回的信息屏蔽掉密码手机等信息\n\n\n    return this.find(query, {\n      password: 0,\n      mobile: 0\n    }).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit);\n  },\n  countList: function (options) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        if (['name', 'username'].includes(options.item)) {\n          // 模糊匹配\n          query[options.item] = {\n            $regex: new RegExp(options.search)\n          }; // =》 { name: { $regex: /admin/ } } => mysql like %admin%\n        } else {\n          // radio\n          query[options.item] = options.search;\n        }\n      }\n\n      if (options.item === 'roles') {\n        query = {\n          roles: {\n            $in: options.search\n          }\n        };\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n    }\n\n    return this.find(query).countDocuments(); // return this.find(options).countDocuments()\n  },\n  getTotalSign: function (page, limit) {\n    return this.find({}).skip(page * limit).limit(limit).sort({\n      count: -1\n    });\n  },\n  getTotalSignCount: function (page, limit) {\n    return this.find({}).countDocuments();\n  }\n};\nconst UserModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlci5qcz83NmZlIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsImluZGV4IiwidW5pcXVlIiwic3BhcnNlIiwicGFzc3dvcmQiLCJuYW1lIiwiY3JlYXRlZCIsIkRhdGUiLCJ1cGRhdGVkIiwiZmF2cyIsIk51bWJlciIsImRlZmF1bHQiLCJnZW5kZXIiLCJyb2xlcyIsIkFycmF5IiwicGljIiwibW9iaWxlIiwibWF0Y2giLCJzdGF0dXMiLCJyZWdtYXJrIiwibG9jYXRpb24iLCJpc1ZpcCIsImNvdW50IiwicHJlIiwibmV4dCIsInBvc3QiLCJlcnJvciIsImRvYyIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlJRCIsImlkIiwiZmluZE9uZSIsIl9pZCIsImdldExpc3QiLCJvcHRpb25zIiwic29ydCIsInBhZ2UiLCJsaW1pdCIsInF1ZXJ5Iiwic2VhcmNoIiwidHJpbSIsImluY2x1ZGVzIiwiaXRlbSIsIiRyZWdleCIsIlJlZ0V4cCIsIiRpbiIsInN0YXJ0IiwiZW5kIiwiJGd0ZSIsIiRsdCIsImZpbmQiLCJza2lwIiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3RhbFNpZ24iLCJnZXRUb3RhbFNpZ25Db3VudCIsIlVzZXJNb2RlbCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM1QkcsVUFBUSxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsU0FBSyxFQUFFO0FBQUVDLFlBQU0sRUFBRTtBQUFWLEtBQXZCO0FBQXlDQyxVQUFNLEVBQUU7QUFBakQsR0FEa0I7QUFFNUJDLFVBQVEsRUFBRTtBQUFF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QUFSLENBQWUsQ0FBZixDQUFkO0FBQ0EsY0FBTVEsR0FBRyxHQUFHYixPQUFPLENBQUNLLE1BQVIsQ0FBZSxDQUFmLENBQVo7QUFDQUQsYUFBSyxHQUFHO0FBQUVsQyxpQkFBTyxFQUFFO0FBQUU0QyxnQkFBSSxFQUFFLElBQUkzQyxJQUFKLENBQVN5QyxLQUFULENBQVI7QUFBeUJHLGVBQUcsRUFBRSxJQUFJNUMsSUFBSixDQUFTMEMsR0FBVDtBQUE5QjtBQUFYLFNBQVI7QUFDRDtBQUNGOztBQUNELFdBQU8sS0FBS0csSUFBTCxDQUFVWixLQUFWLEVBQWlCZSxjQUFqQixFQUFQLENBdEI0QixDQXVCNUI7QUFDRCxHQW5Fa0I7QUFvRW5CQyxjQUFZLEVBQUUsVUFBVWxCLElBQVYsRUFBZ0JDLEtBQWhCLEVBQXVCO0FBQ25DLFdBQU8sS0FBS2EsSUFBTCxDQUFVLEVBQVYsRUFDSkMsSUFESSxDQUNDZixJQUFJLEdBQUdDLEtBRFIsRUFFSkEsS0FGSSxDQUVFQSxLQUZGLEVBR0pGLElBSEksQ0FHQztBQUFFZixXQUFLLEVBQUUsQ0FBQztBQUFWLEtBSEQsQ0FBUDtBQUlELEdBekVrQjtBQTBFbkJtQyxtQkFBaUIsRUFBRSxVQUFVbkIsSUFBVixFQUFnQkMsS0FBaEIsRUFBdUI7QUFDeEMsV0FBTyxLQUFLYSxJQUFMLENBQVUsRUFBVixFQUFjRyxjQUFkLEVBQVA7QUFDRDtBQTVFa0IsQ0FBckI7QUErRUEsTUFBTUcsU0FBUyxHQUFHOUQseURBQVEsQ0FBQytELEtBQVQsQ0FBZSxPQUFmLEVBQXdCOUQsVUFBeEIsQ0FBbEI7QUFFZTZELHdFQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1VzZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgaW5kZXg6IHsgdW5pcXVlOiB0cnVlIH0sIHNwYXJzZTogdHJ1ZSB9LFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXG4gIHVwZGF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxuICBmYXZzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMTAwIH0sXG4gIGdlbmRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHJvbGVzOiB7IHR5cGU6IEFycmF5LCBkZWZhdWx0OiBbJ3VzZXInXSB9LFxuICBwaWM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnL2ltZy9oZWFkZXIuanBnJyB9LFxuICBtb2JpbGU6IHsgdHlwZTogU3RyaW5nLCBtYXRjaDogL14xWzMtOV0oXFxkezl9KSQvLCBkZWZhdWx0OiAnJyB9LFxuICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcbiAgcmVnbWFyazogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxvY2F0aW9uOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgaXNWaXA6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcbiAgY291bnQ6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH1cbn0pXG4vLyDkv53lrZjliY3nu5ljcmVhdGVk6LWL5YC85pe26Ze0XG5Vc2VyU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuLy8g5pu05paw5YmN57uZdXBkYXRlZOi1i+WAvOaXtumXtFxuVXNlclNjaGVtYS5wcmUoJ3VwZGF0ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMudXBkYXRlZCA9IG5ldyBEYXRlKClcbiAgbmV4dCgpXG59KVxuLy8g5oql6ZSZXG5Vc2VyU2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xuICBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvRXJyb3InICYmIGVycm9yLmNvZGUgPT09IDExMDAwKSB7XG4gICAgbmV4dChuZXcgRXJyb3IoJ0Vycm9yOiBNb25uZ29vc2UgaGFzIGEgZHVwbGljYXRlIGtleS4nKSlcbiAgfSBlbHNlIHtcbiAgICBuZXh0KGVycm9yKVxuICB9XG59KVxuXG5Vc2VyU2NoZW1hLnN0YXRpY3MgPSB7XG4gIC8vIOagueaNrmlk5p+l55So5oi35L+h5oGv5pe25oum5oiq5pWw5o2u5bqT6L+U5Zue55qE5a+G56CB44CB55So5oi35ZCN44CB5omL5py65Y+356CBXG4gIGZpbmRCeUlEOiBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgX2lkOiBpZH0sIHtcbiAgICAgIHBhc3N3b3JkOiAwLFxuICAgICAgdXNlcm5hbWU6IDAsXG4gICAgICBtb2JpbGU6IDBcbiAgICB9KVxuICB9LFxuICAvLyDojrflj5bnlKjmiLfliJfooahcbiAgZ2V0TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMsIHNvcnQsIHBhZ2UsIGxpbWl0KSB7XG4gICAgLy8gLy8gMS4gZGF0ZXBpY2tlcijml7bpl7QpIC0+IGl0ZW06IHN0cmluZywgc2VhcmNoIC0+IGFycmF5ICBzdGFydGl0bWUsZW5kdGltZVxuICAgIC8vIC8vIDIuIHJhZGlvKOmUruWAvOWvuSkgLT4ga2V5LXZhbHVlICRpblxuICAgIC8vIC8vIDMuIHNlbGVjdCjmlbDnu4QpIC0+IGtleS1hcnJheSAkaW5cbiAgICBsZXQgcXVlcnkgPSB7fVxuICAgIC8vIOWIpOaWreaYr+WQpuacieS8oOaQnOe0ouWAvCzmsqHmnInliJnnm7TmjqXov5Tlm57lhajpg6jmlbDmja5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8g5Yik5pat5Lyg6YCS55qE5pCc57Si5YC85piv5ZCm5Li65a2X56ym5Liy57G75Z6LXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIGlmIChbJ25hbWUnLCAndXNlcm5hbWUnXS5pbmNsdWRlcyhvcHRpb25zLml0ZW0pKSB7XG4gICAgICAgICAgLy8g5qih57OK5Yy56YWNXG4gICAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKG9wdGlvbnMuc2VhcmNoKSB9XG4gICAgICAgICAgLy8gPT4geyBuYW1lOiB7ICRyZWdleDogL2FkbWluLyB9IH0gPT4gbXlzcWwgbGlrZSAlYWRtaW4lXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcmFkaW8g56aB6KiA44CBdmlwXG4gICAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IG9wdGlvbnMuc2VhcmNoXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICdyb2xlcycpIHtcbiAgICAgICAgcXVlcnkgPSB7IHJvbGVzOiB7ICRpbjogb3B0aW9ucy5zZWFyY2ggfSB9XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAnY3JlYXRlZCcpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBvcHRpb25zLnNlYXJjaFswXVxuICAgICAgICBjb25zdCBlbmQgPSBvcHRpb25zLnNlYXJjaFsxXVxuICAgICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShzdGFydCksICRsdDogbmV3IERhdGUoZW5kKSB9IH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8g5p+l5om+6L+U5Zue55qE5L+h5oGv5bGP6JS95o6J5a+G56CB5omL5py6562J5L+h5oGvXG4gICAgcmV0dXJuIHRoaXMuZmluZChxdWVyeSwgeyBwYXNzd29yZDowLCBtb2JpbGU6IDB9KVxuICAgICAgLnNvcnQoeyBbc29ydF06IC0xIH0pXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXG4gICAgICAubGltaXQobGltaXQpXG4gIH0sXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBsZXQgcXVlcnkgPSB7fVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zZWFyY2ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIGlmIChbJ25hbWUnLCAndXNlcm5hbWUnXS5pbmNsdWRlcyhvcHRpb25zLml0ZW0pKSB7XG4gICAgICAgICAgLy8g5qih57OK5Yy56YWNXG4gICAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKG9wdGlvbnMuc2VhcmNoKSB9XG4gICAgICAgICAgLy8gPeOAiyB7IG5hbWU6IHsgJHJlZ2V4OiAvYWRtaW4vIH0gfSA9PiBteXNxbCBsaWtlICVhZG1pbiVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByYWRpb1xuICAgICAgICAgIHF1ZXJ5W29wdGlvbnMuaXRlbV0gPSBvcHRpb25zLnNlYXJjaFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAncm9sZXMnKSB7XG4gICAgICAgIHF1ZXJ5ID0geyByb2xlczogeyAkaW46IG9wdGlvbnMuc2VhcmNoIH0gfVxuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ2NyZWF0ZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gb3B0aW9ucy5zZWFyY2hbMF1cbiAgICAgICAgY29uc3QgZW5kID0gb3B0aW9ucy5zZWFyY2hbMV1cbiAgICAgICAgcXVlcnkgPSB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnQpLCAkbHQ6IG5ldyBEYXRlKGVuZCkgfSB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZpbmQocXVlcnkpLmNvdW50RG9jdW1lbnRzKClcbiAgICAvLyByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpLmNvdW50RG9jdW1lbnRzKClcbiAgfSxcbiAgZ2V0VG90YWxTaWduOiBmdW5jdGlvbiAocGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHt9KVxuICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxuICAgICAgLmxpbWl0KGxpbWl0KVxuICAgICAgLnNvcnQoeyBjb3VudDogLTEgfSlcbiAgfSxcbiAgZ2V0VG90YWxTaWduQ291bnQ6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoe30pLmNvdW50RG9jdW1lbnRzKClcbiAgfVxufVxuXG5jb25zdCBVc2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbCgndXNlcnMnLCBVc2VyU2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyTW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/User.js\n");

/***/ }),

/***/ "./src/model/UserCollect.js":
/*!**********************************!*\
  !*** ./src/model/UserCollect.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserCollectSchema = new Schema({\n  uid: {\n    type: String\n  },\n  tid: {\n    type: String\n  },\n  title: {\n    type: String\n  },\n  created: {\n    type: Date\n  }\n});\nUserCollectSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nUserCollectSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nUserCollectSchema.statics = {\n  // 查询特定用户的收藏数据\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 查询总数\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  }\n};\nconst UserCollect = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('user_collect', UserCollectSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserCollect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanM/ODE5OCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb29nb29zZSIsIlVzZXJDb2xsZWN0U2NoZW1hIiwidWlkIiwidHlwZSIsIlN0cmluZyIsInRpZCIsInRpdGxlIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJnZXRMaXN0QnlVaWQiLCJpZCIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNvdW50QnlVaWQiLCJjb3VudERvY3VtZW50cyIsIlVzZXJDb2xsZWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxpQkFBaUIsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDbkNHLEtBQUcsRUFBRTtBQUFFQyxRQUFJLEVBQUVDO0FBQVIsR0FEOEI7QUFFbkNDLEtBQUcsRUFBRTtBQUFFRixRQUFJLEVBQUVDO0FBQVIsR0FGOEI7QUFHbkNFLE9BQUssRUFBRTtBQUFFSCxRQUFJLEVBQUVDO0FBQVIsR0FINEI7QUFJbkNHLFNBQU8sRUFBRTtBQUFFSixRQUFJLEVBQUVLO0FBQVI7QUFKMEIsQ0FBWCxDQUExQjtBQU9BUCxpQkFBaUIsQ0FBQ1EsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtBQUM1QyxPQUFLSCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FFLE1BQUk7QUFDTCxDQUhEO0FBS0FULGlCQUFpQixDQUFDVSxJQUFsQixDQUF1QixNQUF2QixFQUErQixVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkgsSUFBdEIsRUFBNEI7QUFDekQsTUFBSUUsS0FBSyxDQUFDRSxJQUFOLEtBQWUsWUFBZixJQUErQkYsS0FBSyxDQUFDRyxJQUFOLEtBQWUsS0FBbEQsRUFBeUQ7QUFDdkRMLFFBQUksQ0FBQyxJQUFJTSxLQUFKLENBQVUsaUNBQVYsQ0FBRCxDQUFKO0FBQ0QsR0FGRCxNQUVPO0FBQ0xOLFFBQUksQ0FBQ0UsS0FBRCxDQUFKO0FBQ0Q7QUFDRixDQU5EO0FBUUFYLGlCQUFpQixDQUFDZ0IsT0FBbEIsR0FBNEI7QUFDMUI7QUFDQUMsY0FBWSxFQUFFLFVBQVVDLEVBQVYsRUFBY0MsSUFBZCxFQUFvQkMsS0FBcEIsRUFBMkI7QUFDdkMsV0FBTyxLQUFLQyxJQUFMLENBQVU7QUFBRXBCLFNBQUcsRUFBRWlCO0FBQVAsS0FBVixFQUNKSSxJQURJLENBQ0NGLEtBQUssR0FBR0QsSUFEVCxFQUVKQyxLQUZJLENBRUVBLEtBRkYsRUFHSkcsSUFISSxDQUdDO0FBQUVqQixhQUFPLEVBQUUsQ0FBQztBQUFaLEtBSEQsQ0FBUDtBQUlELEdBUHlCO0FBUTFCO0FBQ0FrQixZQUFVLEVBQUUsVUFBVU4sRUFBVixFQUFjO0FBQ3hCLFdBQU8sS0FBS0csSUFBTCxDQUFVO0FBQUVwQixTQUFHLEVBQUVpQjtBQUFQLEtBQVYsRUFBdUJPLGNBQXZCLEVBQVA7QUFDRDtBQVh5QixDQUE1QjtBQWNBLE1BQU1DLFdBQVcsR0FBRzNCLHlEQUFRLENBQUM0QixLQUFULENBQWUsY0FBZixFQUErQjNCLGlCQUEvQixDQUFwQjtBQUVlMEIsMEVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vb2dvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgVXNlckNvbGxlY3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB1aWQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgdGlkOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9XHJcbn0pXHJcblxyXG5Vc2VyQ29sbGVjdFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcclxuICBuZXh0KClcclxufSlcclxuXHJcblVzZXJDb2xsZWN0U2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xyXG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcclxuICAgIG5leHQobmV3IEVycm9yKCdUaGVyZSB3YXMgYSBkdXBsaWNhdGUga2V5IGVycm9yJykpXHJcbiAgfSBlbHNlIHtcclxuICAgIG5leHQoZXJyb3IpXHJcbiAgfVxyXG59KVxyXG5cclxuVXNlckNvbGxlY3RTY2hlbWEuc3RhdGljcyA9IHtcclxuICAvLyDmn6Xor6LnibnlrprnlKjmiLfnmoTmlLbol4/mlbDmja5cclxuICBnZXRMaXN0QnlVaWQ6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXHJcbiAgICAgIC5za2lwKGxpbWl0ICogcGFnZSlcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICAvLyDmn6Xor6LmgLvmlbBcclxuICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFVzZXJDb2xsZWN0ID0gbW9vZ29vc2UubW9kZWwoJ3VzZXJfY29sbGVjdCcsIFVzZXJDb2xsZWN0U2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckNvbGxlY3RcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/UserCollect.js\n");

/***/ }),

/***/ "./src/routes/modules sync recursive \\.js$":
/*!***************************************!*\
  !*** ./src/routes/modules sync \.js$ ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./adminRouter.js\": \"./src/routes/modules/adminRouter.js\",\n\t\"./commentsRouter.js\": \"./src/routes/modules/commentsRouter.js\",\n\t\"./contentRouter.js\": \"./src/routes/modules/contentRouter.js\",\n\t\"./loginRouter.js\": \"./src/routes/modules/loginRouter.js\",\n\t\"./publicRouter.js\": \"./src/routes/modules/publicRouter.js\",\n\t\"./userRouter.js\": \"./src/routes/modules/userRouter.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/routes/modules sync recursive \\\\.js$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyBcXC5qcyQ/NGUxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyByZWN1cnNpdmUgXFwuanMkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcCA9IHtcblx0XCIuL2FkbWluUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanNcIixcblx0XCIuL2NvbW1lbnRzUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanNcIixcblx0XCIuL2NvbnRlbnRSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9jb250ZW50Um91dGVyLmpzXCIsXG5cdFwiLi9sb2dpblJvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL2xvZ2luUm91dGVyLmpzXCIsXG5cdFwiLi9wdWJsaWNSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9wdWJsaWNSb3V0ZXIuanNcIixcblx0XCIuL3VzZXJSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy91c2VyUm91dGVyLmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzIHN5bmMgcmVjdXJzaXZlIFxcXFwuanMkXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules sync recursive \\.js$\n");

/***/ }),

/***/ "./src/routes/modules/adminRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/adminRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/AdminController */ \"./src/api/AdminController.js\");\n/* harmony import */ var _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/api/ErrorController */ \"./src/api/ErrorController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/admin'); // 标签页面\n// 获取标签列表\n\nrouter.get('/getTags', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getTags); // 添加标签\n\nrouter.post('/addTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addTag); // 删除标签\n\nrouter.get('/removeTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeTag); // 编辑标签\n\nrouter.post('/editTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateTag); // 获取用户列表\n\nrouter.get('/users', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUsers); // 更新用户信息\n\nrouter.post('/updateUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUserById); // 删除用户信息\n\nrouter.post('/deleteUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteUserById); // 校验用户名是否冲突\n\nrouter.get('/checkname', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].checkUsername); // 新增用户\n\nrouter.post('/addUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addUser); // 批量设置用户\n\nrouter.post('/updateUserSettings', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUserBatch); // 管理菜单\n// 添加菜单\n\nrouter.post('/addMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addMenu); // 获取菜单\n\nrouter.get('/getMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMenu); // 更新菜单\n\nrouter.post('/updateMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateMenu); // 删除菜单\n\nrouter.post('/deleteMenu', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteMenu); // 角色信息\n// 添加角色\n\nrouter.post('/addRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addRole); // 获取角色\n\nrouter.get('/getRoles', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoles); // 删除角色\n\nrouter.post('/deleteRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteRole); // 更新角色\n\nrouter.post('/updateRole', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateRole); // 获取角色列表\n\nrouter.get('/getRolesNames', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoleNames); // 获取评论\n\nrouter.get('/getComments', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getCommentsAll); // 删除评论\n\nrouter.post('/deleteComments', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteCommentsBatch); // 批量更新评论\n\nrouter.post('/updateCommentsBatch', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateCommentsBatch); // 获取用户角色动态菜单信息\n\nrouter.get('/getRoutes', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRoutes); // 获取首页状态\n\nrouter.get('/getstat', _api_AdminController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getStats); // 获取错误日志\n\nrouter.get('/getError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getErrorList); // 删除错误日志\n\nrouter.post('/deleteError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].deleteError);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanM/ZDY0OSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJnZXQiLCJjb250ZW50Q29udHJvbGxlciIsImdldFRhZ3MiLCJwb3N0IiwiYWRkVGFnIiwicmVtb3ZlVGFnIiwidXBkYXRlVGFnIiwidXNlckNvbnRyb2xsZXIiLCJnZXRVc2VycyIsInVwZGF0ZVVzZXJCeUlkIiwiZGVsZXRlVXNlckJ5SWQiLCJjaGVja1VzZXJuYW1lIiwiYWRkVXNlciIsInVwZGF0ZVVzZXJCYXRjaCIsImFkbWluQ29udHJvbGxlciIsImFkZE1lbnUiLCJnZXRNZW51IiwidXBkYXRlTWVudSIsImRlbGV0ZU1lbnUiLCJhZGRSb2xlIiwiZ2V0Um9sZXMiLCJkZWxldGVSb2xlIiwidXBkYXRlUm9sZSIsImdldFJvbGVOYW1lcyIsImdldENvbW1lbnRzQWxsIiwiZGVsZXRlQ29tbWVudHNCYXRjaCIsInVwZGF0ZUNvbW1lbnRzQmF0Y2giLCJnZXRSb3V0ZXMiLCJnZXRTdGF0cyIsImVycm9yQ29udHJvbGxlciIsImdldEVycm9yTGlzdCIsImRlbGV0ZUVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxRQUFkLEUsQ0FDQTtBQUNBOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxVQUFYLEVBQXVCQyw4REFBaUIsQ0FBQ0MsT0FBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLElBQVAsQ0FBWSxTQUFaLEVBQXVCRiw4REFBaUIsQ0FBQ0csTUFBekMsRSxDQUVBOztBQUNBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxZQUFYLEVBQXlCQyw4REFBaUIsQ0FBQ0ksU0FBM0MsRSxDQUVBOztBQUNBUixNQUFNLENBQUNNLElBQVAsQ0FBWSxVQUFaLEVBQXdCRiw4REFBaUIsQ0FBQ0ssU0FBMUMsRSxDQUVBOztBQUNBVCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxRQUFYLEVBQXFCTywyREFBYyxDQUFDQyxRQUFwQyxFLENBRUE7O0FBQ0FYLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGFBQVosRUFBMkJJLDJEQUFjLENBQUNFLGNBQTFDLEUsQ0FFQTs7QUFDQVosTUFBTSxDQUFDTSxJQUFQLENBQVksYUFBWixFQUEyQkksMkRBQWMsQ0FBQ0csY0FBMUMsRSxDQUVBOztBQUNBYixNQUFNLENBQUNHLEdBQVAsQ0FBVyxZQUFYLEVBQXlCTywyREFBYyxDQUFDSSxhQUF4QyxFLENBRUE7O0FBQ0FkLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFVBQVosRUFBd0JJLDJEQUFjLENBQUNLLE9BQXZDLEUsQ0FFQTs7QUFDQWYsTUFBTSxDQUFDTSxJQUFQLENBQVkscUJBQVosRUFBbUNJLDJEQUFjLENBQUNNLGVBQWxELEUsQ0FFQTtBQUNBOztBQUNBaEIsTUFBTSxDQUFDTSxJQUFQLENBQVksVUFBWixFQUF3QlcsNERBQWUsQ0FBQ0MsT0FBeEMsRSxDQUVBOztBQUNBbEIsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QmMsNERBQWUsQ0FBQ0UsT0FBdkMsRSxDQUVBOztBQUNBbkIsTUFBTSxDQUFDTSxJQUFQLENBQVksYUFBWixFQUEyQlcsNERBQWUsQ0FBQ0csVUFBM0MsRSxDQUVBOztBQUNBcEIsTUFBTSxDQUFDTSxJQUFQLENBQVksYUFBWixFQUEyQlcsNERBQWUsQ0FBQ0ksVUFBM0MsRSxDQUVBO0FBQ0E7O0FBQ0FyQixNQUFNLENBQUNNLElBQVAsQ0FBWSxVQUFaLEVBQXdCVyw0REFBZSxDQUFDSyxPQUF4QyxFLENBRUE7O0FBQ0F0QixNQUFNLENBQUNHLEdBQVAsQ0FBVyxXQUFYLEVBQXdCYyw0REFBZSxDQUFDTSxRQUF4QyxFLENBRUE7O0FBQ0F2QixNQUFNLENBQUNNLElBQVAsQ0FBWSxhQUFaLEVBQTJCVyw0REFBZSxDQUFDTyxVQUEzQyxFLENBRUE7O0FBQ0F4QixNQUFNLENBQUNNLElBQVAsQ0FBWSxhQUFaLEVBQTJCVyw0REFBZSxDQUFDUSxVQUEzQyxFLENBRUE7O0FBQ0F6QixNQUFNLENBQUNHLEdBQVAsQ0FBVyxnQkFBWCxFQUE2QmMsNERBQWUsQ0FBQ1MsWUFBN0MsRSxDQUVBOztBQUNBMUIsTUFBTSxDQUFDRyxHQUFQLENBQVcsY0FBWCxFQUEyQmMsNERBQWUsQ0FBQ1UsY0FBM0MsRSxDQUVBOztBQUNBM0IsTUFBTSxDQUFDTSxJQUFQLENBQVksaUJBQVosRUFBK0JXLDREQUFlLENBQUNXLG1CQUEvQyxFLENBRUE7O0FBQ0E1QixNQUFNLENBQUNNLElBQVAsQ0FBWSxzQkFBWixFQUFvQ1csNERBQWUsQ0FBQ1ksbUJBQXBELEUsQ0FFQTs7QUFDQTdCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJjLDREQUFlLENBQUNhLFNBQXpDLEUsQ0FFQTs7QUFDQTlCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBdUJjLDREQUFlLENBQUNjLFFBQXZDLEUsQ0FFQTs7QUFDQS9CLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBd0I2Qiw0REFBZSxDQUFDQyxZQUF4QyxFLENBRUE7O0FBQ0FqQyxNQUFNLENBQUNNLElBQVAsQ0FBWSxjQUFaLEVBQTRCMEIsNERBQWUsQ0FBQ0UsV0FBNUM7QUFFZWxDLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL2FkbWluUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xyXG5pbXBvcnQgY29udGVudENvbnRyb2xsZXIgZnJvbSAnQC9hcGkvQ29udGVudENvbnRyb2xsZXInXHJcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICdAL2FwaS9Vc2VyQ29udHJvbGxlcidcclxuaW1wb3J0IGFkbWluQ29udHJvbGxlciBmcm9tICdAL2FwaS9BZG1pbkNvbnRyb2xsZXInXHJcbmltcG9ydCBlcnJvckNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvRXJyb3JDb250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcblxyXG5yb3V0ZXIucHJlZml4KCcvYWRtaW4nKVxyXG4vLyDmoIfnrb7pobXpnaJcclxuLy8g6I635Y+W5qCH562+5YiX6KGoXHJcbnJvdXRlci5nZXQoJy9nZXRUYWdzJywgY29udGVudENvbnRyb2xsZXIuZ2V0VGFncylcclxuXHJcbi8vIOa3u+WKoOagh+etvlxyXG5yb3V0ZXIucG9zdCgnL2FkZFRhZycsIGNvbnRlbnRDb250cm9sbGVyLmFkZFRhZylcclxuXHJcbi8vIOWIoOmZpOagh+etvlxyXG5yb3V0ZXIuZ2V0KCcvcmVtb3ZlVGFnJywgY29udGVudENvbnRyb2xsZXIucmVtb3ZlVGFnKVxyXG5cclxuLy8g57yW6L6R5qCH562+XHJcbnJvdXRlci5wb3N0KCcvZWRpdFRhZycsIGNvbnRlbnRDb250cm9sbGVyLnVwZGF0ZVRhZylcclxuXHJcbi8vIOiOt+WPlueUqOaIt+WIl+ihqFxyXG5yb3V0ZXIuZ2V0KCcvdXNlcnMnLCB1c2VyQ29udHJvbGxlci5nZXRVc2VycylcclxuXHJcbi8vIOabtOaWsOeUqOaIt+S/oeaBr1xyXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZVVzZXInLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VyQnlJZClcclxuXHJcbi8vIOWIoOmZpOeUqOaIt+S/oeaBr1xyXG5yb3V0ZXIucG9zdCgnL2RlbGV0ZVVzZXInLCB1c2VyQ29udHJvbGxlci5kZWxldGVVc2VyQnlJZClcclxuXHJcbi8vIOagoemqjOeUqOaIt+WQjeaYr+WQpuWGsueqgVxyXG5yb3V0ZXIuZ2V0KCcvY2hlY2tuYW1lJywgdXNlckNvbnRyb2xsZXIuY2hlY2tVc2VybmFtZSlcclxuXHJcbi8vIOaWsOWinueUqOaIt1xyXG5yb3V0ZXIucG9zdCgnL2FkZFVzZXInLCB1c2VyQ29udHJvbGxlci5hZGRVc2VyKVxyXG5cclxuLy8g5om56YeP6K6+572u55So5oi3XHJcbnJvdXRlci5wb3N0KCcvdXBkYXRlVXNlclNldHRpbmdzJywgdXNlckNvbnRyb2xsZXIudXBkYXRlVXNlckJhdGNoKVxyXG5cclxuLy8g566h55CG6I+c5Y2VXHJcbi8vIOa3u+WKoOiPnOWNlVxyXG5yb3V0ZXIucG9zdCgnL2FkZE1lbnUnLCBhZG1pbkNvbnRyb2xsZXIuYWRkTWVudSlcclxuXHJcbi8vIOiOt+WPluiPnOWNlVxyXG5yb3V0ZXIuZ2V0KCcvZ2V0TWVudScsIGFkbWluQ29udHJvbGxlci5nZXRNZW51KVxyXG5cclxuLy8g5pu05paw6I+c5Y2VXHJcbnJvdXRlci5wb3N0KCcvdXBkYXRlTWVudScsIGFkbWluQ29udHJvbGxlci51cGRhdGVNZW51KVxyXG5cclxuLy8g5Yig6Zmk6I+c5Y2VXHJcbnJvdXRlci5wb3N0KCcvZGVsZXRlTWVudScsIGFkbWluQ29udHJvbGxlci5kZWxldGVNZW51KVxyXG5cclxuLy8g6KeS6Imy5L+h5oGvXHJcbi8vIOa3u+WKoOinkuiJslxyXG5yb3V0ZXIucG9zdCgnL2FkZFJvbGUnLCBhZG1pbkNvbnRyb2xsZXIuYWRkUm9sZSlcclxuXHJcbi8vIOiOt+WPluinkuiJslxyXG5yb3V0ZXIuZ2V0KCcvZ2V0Um9sZXMnLCBhZG1pbkNvbnRyb2xsZXIuZ2V0Um9sZXMpXHJcblxyXG4vLyDliKDpmaTop5LoibJcclxucm91dGVyLnBvc3QoJy9kZWxldGVSb2xlJywgYWRtaW5Db250cm9sbGVyLmRlbGV0ZVJvbGUpXHJcblxyXG4vLyDmm7TmlrDop5LoibJcclxucm91dGVyLnBvc3QoJy91cGRhdGVSb2xlJywgYWRtaW5Db250cm9sbGVyLnVwZGF0ZVJvbGUpXHJcblxyXG4vLyDojrflj5bop5LoibLliJfooahcclxucm91dGVyLmdldCgnL2dldFJvbGVzTmFtZXMnLCBhZG1pbkNvbnRyb2xsZXIuZ2V0Um9sZU5hbWVzKVxyXG5cclxuLy8g6I635Y+W6K+E6K66XHJcbnJvdXRlci5nZXQoJy9nZXRDb21tZW50cycsIGFkbWluQ29udHJvbGxlci5nZXRDb21tZW50c0FsbClcclxuXHJcbi8vIOWIoOmZpOivhOiuulxyXG5yb3V0ZXIucG9zdCgnL2RlbGV0ZUNvbW1lbnRzJywgYWRtaW5Db250cm9sbGVyLmRlbGV0ZUNvbW1lbnRzQmF0Y2gpXHJcblxyXG4vLyDmibnph4/mm7TmlrDor4Torrpcclxucm91dGVyLnBvc3QoJy91cGRhdGVDb21tZW50c0JhdGNoJywgYWRtaW5Db250cm9sbGVyLnVwZGF0ZUNvbW1lbnRzQmF0Y2gpXHJcblxyXG4vLyDojrflj5bnlKjmiLfop5LoibLliqjmgIHoj5zljZXkv6Hmga9cclxucm91dGVyLmdldCgnL2dldFJvdXRlcycsIGFkbWluQ29udHJvbGxlci5nZXRSb3V0ZXMpXHJcblxyXG4vLyDojrflj5bpppbpobXnirbmgIFcclxucm91dGVyLmdldCgnL2dldHN0YXQnLCBhZG1pbkNvbnRyb2xsZXIuZ2V0U3RhdHMpXHJcblxyXG4vLyDojrflj5bplJnor6/ml6Xlv5dcclxucm91dGVyLmdldCgnL2dldEVycm9yJywgZXJyb3JDb250cm9sbGVyLmdldEVycm9yTGlzdClcclxuXHJcbi8vIOWIoOmZpOmUmeivr+aXpeW/l1xyXG5yb3V0ZXIucG9zdCgnL2RlbGV0ZUVycm9yJywgZXJyb3JDb250cm9sbGVyLmRlbGV0ZUVycm9yKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/adminRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/commentsRouter.js":
/*!**********************************************!*\
  !*** ./src/routes/modules/commentsRouter.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/comments'); // 添加评论\n\nrouter.post('/reply', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addComment); // 更新评论\n\nrouter.post('/update', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateComment); // 采纳\n\nrouter.get('/accept', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setBest); // 点赞\n\nrouter.get('/hands', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setHands);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanM/OGNkMiJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiY29tbWVudHNDb250cm9sbGVyIiwiYWRkQ29tbWVudCIsInVwZGF0ZUNvbW1lbnQiLCJnZXQiLCJzZXRCZXN0Iiwic2V0SGFuZHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFdBQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQywrREFBa0IsQ0FBQ0MsVUFBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQywrREFBa0IsQ0FBQ0UsYUFBMUMsRSxDQUVBOztBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCSCwrREFBa0IsQ0FBQ0ksT0FBekMsRSxDQUVBOztBQUNBUixNQUFNLENBQUNPLEdBQVAsQ0FBVyxRQUFYLEVBQXFCSCwrREFBa0IsQ0FBQ0ssUUFBeEM7QUFFZVQscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBjb21tZW50c0NvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL0NvbW1lbnRzQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL2NvbW1lbnRzJylcclxuXHJcbi8vIOa3u+WKoOivhOiuulxyXG5yb3V0ZXIucG9zdCgnL3JlcGx5JywgY29tbWVudHNDb250cm9sbGVyLmFkZENvbW1lbnQpXHJcblxyXG4vLyDmm7TmlrDor4Torrpcclxucm91dGVyLnBvc3QoJy91cGRhdGUnLCBjb21tZW50c0NvbnRyb2xsZXIudXBkYXRlQ29tbWVudClcclxuXHJcbi8vIOmHh+e6s1xyXG5yb3V0ZXIuZ2V0KCcvYWNjZXB0JywgY29tbWVudHNDb250cm9sbGVyLnNldEJlc3QpXHJcblxyXG4vLyDngrnotZ5cclxucm91dGVyLmdldCgnL2hhbmRzJywgY29tbWVudHNDb250cm9sbGVyLnNldEhhbmRzKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/commentsRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/contentRouter.js":
/*!*********************************************!*\
  !*** ./src/routes/modules/contentRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/ContentController */ \"./src/api/ContentController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/content'); // 上传图片\n\nrouter.post('/upload', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uploadImg); // 发表新帖\n\nrouter.post('/add', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addPost); // 更新帖子\n\nrouter.post('/update', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePost); // 管理更新帖子\n\nrouter.post('/updateId', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePostByTid); // 管理删除帖子\n\nrouter.get('/delete', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deletePost); // 管理批量更新\n\nrouter.post('/updatePostSettings', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePostBatch);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcz84YTEwIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJjb250ZW50Q29udHJvbGxlciIsInVwbG9hZEltZyIsImFkZFBvc3QiLCJ1cGRhdGVQb3N0IiwidXBkYXRlUG9zdEJ5VGlkIiwiZ2V0IiwiZGVsZXRlUG9zdCIsInVwZGF0ZVBvc3RCYXRjaCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsVUFBZCxFLENBRUE7O0FBQ0FGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDQyxTQUF6QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE1BQVosRUFBb0JDLDhEQUFpQixDQUFDRSxPQUF0QyxFLENBRUE7O0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDRyxVQUF6QyxFLENBQ0E7O0FBQ0FQLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBeUJDLDhEQUFpQixDQUFDSSxlQUEzQyxFLENBQ0E7O0FBQ0FSLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXLFNBQVgsRUFBc0JMLDhEQUFpQixDQUFDTSxVQUF4QyxFLENBQ0E7O0FBQ0FWLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLHFCQUFaLEVBQW1DQyw4REFBaUIsQ0FBQ08sZUFBckQ7QUFDZVgscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcclxuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Db250ZW50Q29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL2NvbnRlbnQnKVxyXG5cclxuLy8g5LiK5Lyg5Zu+54mHXHJcbnJvdXRlci5wb3N0KCcvdXBsb2FkJywgY29udGVudENvbnRyb2xsZXIudXBsb2FkSW1nKVxyXG5cclxuLy8g5Y+R6KGo5paw5biWXHJcbnJvdXRlci5wb3N0KCcvYWRkJywgY29udGVudENvbnRyb2xsZXIuYWRkUG9zdClcclxuXHJcbi8vIOabtOaWsOW4luWtkFxyXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZScsIGNvbnRlbnRDb250cm9sbGVyLnVwZGF0ZVBvc3QpXHJcbi8vIOeuoeeQhuabtOaWsOW4luWtkFxyXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZUlkJywgY29udGVudENvbnRyb2xsZXIudXBkYXRlUG9zdEJ5VGlkKVxyXG4vLyDnrqHnkIbliKDpmaTluJblrZBcclxucm91dGVyLmdldCgnL2RlbGV0ZScsIGNvbnRlbnRDb250cm9sbGVyLmRlbGV0ZVBvc3QpXHJcbi8vIOeuoeeQhuaJuemHj+abtOaWsFxyXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZVBvc3RTZXR0aW5ncycsIGNvbnRlbnRDb250cm9sbGVyLnVwZGF0ZVBvc3RCYXRjaClcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/routes/modules/contentRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/loginRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/loginRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/LoginController */ \"./src/api/LoginController.js\");\n/*\n * @Author: your name\n * @Date: 2020-12-28 15:06:57\n * @LastEditTime: 2021-02-22 10:21:26\n * @LastEditors: your name\n * @Description: In User Settings Edit\n * @FilePath: \\test-axios-api-start\\src\\routes\\loginRouter.js\n */\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/login');\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget);\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login);\nrouter.post('/reg', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].reg);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanM/MmRkYSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwibG9naW5Db250cm9sbGVyIiwiZm9yZ2V0IiwibG9naW4iLCJyZWciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxRQUFkO0FBQ0FGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDREQUFlLENBQUNDLE1BQXZDO0FBQ0FMLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFFBQVosRUFBc0JDLDREQUFlLENBQUNFLEtBQXRDO0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE1BQVosRUFBb0JDLDREQUFlLENBQUNHLEdBQXBDO0FBR2VQLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL2xvZ2luUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBBdXRob3I6IHlvdXIgbmFtZVxuICogQERhdGU6IDIwMjAtMTItMjggMTU6MDY6NTdcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjEtMDItMjIgMTA6MjE6MjZcbiAqIEBMYXN0RWRpdG9yczogeW91ciBuYW1lXG4gKiBARGVzY3JpcHRpb246IEluIFVzZXIgU2V0dGluZ3MgRWRpdFxuICogQEZpbGVQYXRoOiBcXHRlc3QtYXhpb3MtYXBpLXN0YXJ0XFxzcmNcXHJvdXRlc1xcbG9naW5Sb3V0ZXIuanNcbiAqL1xuaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IGxvZ2luQ29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvTG9naW5Db250cm9sbGVyJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcblxucm91dGVyLnByZWZpeCgnL2xvZ2luJylcbnJvdXRlci5wb3N0KCcvZm9yZ2V0JywgbG9naW5Db250cm9sbGVyLmZvcmdldClcbnJvdXRlci5wb3N0KCcvbG9naW4nLCBsb2dpbkNvbnRyb2xsZXIubG9naW4pXG5yb3V0ZXIucG9zdCgnL3JlZycsIGxvZ2luQ29udHJvbGxlci5yZWcpXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/loginRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/publicRouter.js":
/*!********************************************!*\
  !*** ./src/routes/modules/publicRouter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/PublicController */ \"./src/api/PublicController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/public');\nrouter.post('/adminlogin', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].login); // 图片验证码\n\nrouter.get('/getCaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha); // 获取文章列表\n\nrouter.get('/list', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPostList); // 温馨提醒\n\nrouter.get('/tips', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTips); // 友情链接\n\nrouter.get('/links', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLinks); // 回复周榜\n\nrouter.get('/topWeek', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTopWeek); // 确认修改邮件\n\nrouter.get('/reset-email', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUsername); // 获取文章详情\n\nrouter.get('/content/detail', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPostDetail); // 获取评论列表\n\nrouter.get('/comments', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getComments); // 获取用户基本信息\n\nrouter.get('/info', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getBasicInfo); // 获取用户最近发帖记录\n\nrouter.get('/latestPost', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPostPublic); // 获取用户最近评论记录\n\nrouter.get('/latestComment', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentPublic);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzP2NmYzUiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwibG9naW4iLCJnZXQiLCJwdWJsaWNDb250cm9sbGVyIiwiZ2V0Q2FwdGNoYSIsImNvbnRlbnRDb250cm9sbGVyIiwiZ2V0UG9zdExpc3QiLCJnZXRUaXBzIiwiZ2V0TGlua3MiLCJnZXRUb3BXZWVrIiwidXBkYXRlVXNlcm5hbWUiLCJnZXRQb3N0RGV0YWlsIiwiY29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJnZXRCYXNpY0luZm8iLCJnZXRQb3N0UHVibGljIiwiZ2V0Q29tbWVudFB1YmxpYyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsU0FBZDtBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxhQUFaLEVBQTJCQywyREFBYyxDQUFDQyxLQUExQyxFLENBQ0E7O0FBQ0FMLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLGFBQVgsRUFBMEJDLDZEQUFnQixDQUFDQyxVQUEzQyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLE9BQVgsRUFBb0JHLDhEQUFpQixDQUFDQyxXQUF0QyxFLENBRUE7O0FBQ0FWLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLE9BQVgsRUFBb0JHLDhEQUFpQixDQUFDRSxPQUF0QyxFLENBRUE7O0FBQ0FYLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLFFBQVgsRUFBcUJHLDhEQUFpQixDQUFDRyxRQUF2QyxFLENBRUE7O0FBQ0FaLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLFVBQVgsRUFBdUJHLDhEQUFpQixDQUFDSSxVQUF6QyxFLENBRUE7O0FBQ0FiLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLGNBQVgsRUFBMkJGLDJEQUFjLENBQUNVLGNBQTFDLEUsQ0FFQTs7QUFDQWQsTUFBTSxDQUFDTSxHQUFQLENBQVcsaUJBQVgsRUFBOEJHLDhEQUFpQixDQUFDTSxhQUFoRCxFLENBRUE7O0FBQ0FmLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLFdBQVgsRUFBd0JVLCtEQUFrQixDQUFDQyxXQUEzQyxFLENBRUE7O0FBQ0FqQixNQUFNLENBQUNNLEdBQVAsQ0FBVyxPQUFYLEVBQW9CRiwyREFBYyxDQUFDYyxZQUFuQyxFLENBRUE7O0FBQ0FsQixNQUFNLENBQUNNLEdBQVAsQ0FBVyxhQUFYLEVBQTBCRyw4REFBaUIsQ0FBQ1UsYUFBNUMsRSxDQUVBOztBQUNBbkIsTUFBTSxDQUFDTSxHQUFQLENBQVcsZ0JBQVgsRUFBNkJVLCtEQUFrQixDQUFDSSxnQkFBaEQ7QUFFZXBCLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL3B1YmxpY1JvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmltcG9ydCBwdWJsaWNDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9QdWJsaWNDb250cm9sbGVyJ1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Vc2VyQ29udHJvbGxlcidcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvQ29udGVudENvbnRyb2xsZXInXG5pbXBvcnQgY29tbWVudHNDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Db21tZW50c0NvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIucHJlZml4KCcvcHVibGljJylcbnJvdXRlci5wb3N0KCcvYWRtaW5sb2dpbicsIHVzZXJDb250cm9sbGVyLmxvZ2luKVxuLy8g5Zu+54mH6aqM6K+B56CBXG5yb3V0ZXIuZ2V0KCcvZ2V0Q2FwdGNoYScsIHB1YmxpY0NvbnRyb2xsZXIuZ2V0Q2FwdGNoYSlcblxuLy8g6I635Y+W5paH56ug5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvbGlzdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RMaXN0KVxuXG4vLyDmuKnppqjmj5DphpJcbnJvdXRlci5nZXQoJy90aXBzJywgY29udGVudENvbnRyb2xsZXIuZ2V0VGlwcylcblxuLy8g5Y+L5oOF6ZO+5o6lXG5yb3V0ZXIuZ2V0KCcvbGlua3MnLCBjb250ZW50Q29udHJvbGxlci5nZXRMaW5rcylcblxuLy8g5Zue5aSN5ZGo5qacXG5yb3V0ZXIuZ2V0KCcvdG9wV2VlaycsIGNvbnRlbnRDb250cm9sbGVyLmdldFRvcFdlZWspXG5cbi8vIOehruiupOS/ruaUuemCruS7tlxucm91dGVyLmdldCgnL3Jlc2V0LWVtYWlsJywgdXNlckNvbnRyb2xsZXIudXBkYXRlVXNlcm5hbWUpXG5cbi8vIOiOt+WPluaWh+eroOivpuaDhVxucm91dGVyLmdldCgnL2NvbnRlbnQvZGV0YWlsJywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdERldGFpbClcblxuLy8g6I635Y+W6K+E6K665YiX6KGoXG5yb3V0ZXIuZ2V0KCcvY29tbWVudHMnLCBjb21tZW50c0NvbnRyb2xsZXIuZ2V0Q29tbWVudHMpXG5cbi8vIOiOt+WPlueUqOaIt+WfuuacrOS/oeaBr1xucm91dGVyLmdldCgnL2luZm8nLCB1c2VyQ29udHJvbGxlci5nZXRCYXNpY0luZm8pXG5cbi8vIOiOt+WPlueUqOaIt+acgOi/keWPkeW4luiusOW9lVxucm91dGVyLmdldCgnL2xhdGVzdFBvc3QnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0UHVibGljKVxuXG4vLyDojrflj5bnlKjmiLfmnIDov5Hor4TorrrorrDlvZVcbnJvdXRlci5nZXQoJy9sYXRlc3RDb21tZW50JywgY29tbWVudHNDb250cm9sbGVyLmdldENvbW1lbnRQdWJsaWMpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/publicRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/userRouter.js":
/*!******************************************!*\
  !*** ./src/routes/modules/userRouter.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_ErrorController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/ErrorController */ \"./src/api/ErrorController.js\");\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/user'); // 用户签到\n\nrouter.get('/fav', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userSign); // 更新用户基本信息\n\nrouter.post('/basic', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateUserInfo); // 用户修改密码\n\nrouter.post('/change-password', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].changePasswd); // 设置/取消收藏\n\nrouter.get('/set-collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setCollect); // 获取收藏列表\n\nrouter.get('/collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCollectByUid); // 获取用户发帖记录\n\nrouter.get('/post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostByUid); // 删除指定帖子\n\nrouter.get('/delete-post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deletePostByUid); // 获取消息\n\nrouter.get('/getmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMsg); // 设置消息\n\nrouter.get('/setmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setMsg); // 保存错误日志\n\nrouter.post('/addError', _api_ErrorController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].addError);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsImdldCIsInVzZXJDb250cm9sbGVyIiwidXNlclNpZ24iLCJwb3N0IiwidXBkYXRlVXNlckluZm8iLCJjaGFuZ2VQYXNzd2QiLCJzZXRDb2xsZWN0IiwiZ2V0Q29sbGVjdEJ5VWlkIiwiY29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0QnlVaWQiLCJkZWxldGVQb3N0QnlVaWQiLCJnZXRNc2ciLCJzZXRNc2ciLCJlcnJvckNvbnRyb2xsZXIiLCJhZGRFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxPQUFkLEUsQ0FFQTs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsMkRBQWMsQ0FBQ0MsUUFBbEMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLElBQVAsQ0FBWSxRQUFaLEVBQXNCRiwyREFBYyxDQUFDRyxjQUFyQyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGtCQUFaLEVBQWdDRiwyREFBYyxDQUFDSSxZQUEvQyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJDLDJEQUFjLENBQUNLLFVBQTFDLEUsQ0FFQTs7QUFDQVQsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QkMsMkRBQWMsQ0FBQ00sZUFBdEMsRSxDQUVBOztBQUNBVixNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CUSw4REFBaUIsQ0FBQ0MsWUFBdEMsRSxDQUVBOztBQUNBWixNQUFNLENBQUNHLEdBQVAsQ0FBVyxjQUFYLEVBQTJCUSw4REFBaUIsQ0FBQ0UsZUFBN0MsRSxDQUVBOztBQUNBYixNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCQywyREFBYyxDQUFDVSxNQUFyQyxFLENBRUE7O0FBQ0FkLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFNBQVgsRUFBc0JDLDJEQUFjLENBQUNXLE1BQXJDLEUsQ0FFQTs7QUFDQWYsTUFBTSxDQUFDTSxJQUFQLENBQVksV0FBWixFQUF5QlUsNERBQWUsQ0FBQ0MsUUFBekM7QUFDZWpCLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL3VzZXJSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvQ29udGVudENvbnRyb2xsZXInXHJcbmltcG9ydCBlcnJvckNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL0Vycm9yQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL3VzZXInKVxyXG5cclxuLy8g55So5oi3562+5YiwXHJcbnJvdXRlci5nZXQoJy9mYXYnLCB1c2VyQ29udHJvbGxlci51c2VyU2lnbilcclxuXHJcbi8vIOabtOaWsOeUqOaIt+WfuuacrOS/oeaBr1xyXG5yb3V0ZXIucG9zdCgnL2Jhc2ljJywgdXNlckNvbnRyb2xsZXIudXBkYXRlVXNlckluZm8pXHJcblxyXG4vLyDnlKjmiLfkv67mlLnlr4bnoIFcclxucm91dGVyLnBvc3QoJy9jaGFuZ2UtcGFzc3dvcmQnLCB1c2VyQ29udHJvbGxlci5jaGFuZ2VQYXNzd2QpXHJcblxyXG4vLyDorr7nva4v5Y+W5raI5pS26JePXHJcbnJvdXRlci5nZXQoJy9zZXQtY29sbGVjdCcsIHVzZXJDb250cm9sbGVyLnNldENvbGxlY3QpXHJcblxyXG4vLyDojrflj5bmlLbol4/liJfooahcclxucm91dGVyLmdldCgnL2NvbGxlY3QnLCB1c2VyQ29udHJvbGxlci5nZXRDb2xsZWN0QnlVaWQpXHJcblxyXG4vLyDojrflj5bnlKjmiLflj5HluJborrDlvZVcclxucm91dGVyLmdldCgnL3Bvc3QnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0QnlVaWQpXHJcblxyXG4vLyDliKDpmaTmjIflrprluJblrZBcclxucm91dGVyLmdldCgnL2RlbGV0ZS1wb3N0JywgY29udGVudENvbnRyb2xsZXIuZGVsZXRlUG9zdEJ5VWlkKVxyXG5cclxuLy8g6I635Y+W5raI5oGvXHJcbnJvdXRlci5nZXQoJy9nZXRtc2cnLCB1c2VyQ29udHJvbGxlci5nZXRNc2cpXHJcblxyXG4vLyDorr7nva7mtojmga9cclxucm91dGVyLmdldCgnL3NldG1zZycsIHVzZXJDb250cm9sbGVyLnNldE1zZylcclxuXHJcbi8vIOS/neWtmOmUmeivr+aXpeW/l1xyXG5yb3V0ZXIucG9zdCgnL2FkZEVycm9yJywgZXJyb3JDb250cm9sbGVyLmFkZEVycm9yKVxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/userRouter.js\n");

/***/ }),

/***/ "./src/routes/routes.js":
/*!******************************!*\
  !*** ./src/routes/routes.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n // import publicRouter from './publicRouter'\n// import loginRouter from './loginRouter'\n// import userRouter from './userRouter'\n// require.context只能在webpack打包下才不会报错,现在需运行打包后的js文件才能接收请求\n// 读取modules文件夹下的js文件\n\nconst moduleFiles = __webpack_require__(\"./src/routes/modules sync recursive \\\\.js$\"); // moduleFiles对象结构\n// { './xxx' : '具体路径'}\n// 把keys返回的key数组再遍历取值然后把具体路径添加进数组\n\n\nconst modules = moduleFiles.keys().reduce((items, path) => {\n  const value = moduleFiles(path);\n  items.push(value.default);\n  return items;\n}, []);\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()( // publicRouter, \n// loginRouter,\n// userRouter\nmodules));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3JvdXRlcy5qcz82NDFiIl0sIm5hbWVzIjpbIm1vZHVsZUZpbGVzIiwicmVxdWlyZSIsIm1vZHVsZXMiLCJrZXlzIiwicmVkdWNlIiwiaXRlbXMiLCJwYXRoIiwidmFsdWUiLCJwdXNoIiwiZGVmYXVsdCIsImNvbWJpbmVSb3V0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0EsTUFBTUEsV0FBVyxHQUFHQyxpRUFBcEIsQyxDQUNBO0FBQ0E7QUFFQTs7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRixXQUFXLENBQUNHLElBQVosR0FBbUJDLE1BQW5CLENBQTBCLENBQUNDLEtBQUQsRUFBUUMsSUFBUixLQUFpQjtBQUN6RCxRQUFNQyxLQUFLLEdBQUdQLFdBQVcsQ0FBQ00sSUFBRCxDQUF6QjtBQUNBRCxPQUFLLENBQUNHLElBQU4sQ0FBV0QsS0FBSyxDQUFDRSxPQUFqQjtBQUNBLFNBQU9KLEtBQVA7QUFDRCxDQUplLEVBSWIsRUFKYSxDQUFoQjtBQU1lSyx5SEFBYSxFQUMxQjtBQUNBO0FBQ0E7QUFDQVIsT0FKMEIsQ0FBNUIiLCJmaWxlIjoiLi9zcmMvcm91dGVzL3JvdXRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21iaW5lUm91dGVzIGZyb20gJ2tvYS1jb21iaW5lLXJvdXRlcnMnXG5cbi8vIGltcG9ydCBwdWJsaWNSb3V0ZXIgZnJvbSAnLi9wdWJsaWNSb3V0ZXInXG4vLyBpbXBvcnQgbG9naW5Sb3V0ZXIgZnJvbSAnLi9sb2dpblJvdXRlcidcbi8vIGltcG9ydCB1c2VyUm91dGVyIGZyb20gJy4vdXNlclJvdXRlcidcblxuLy8gcmVxdWlyZS5jb250ZXh05Y+q6IO95Zyod2VicGFja+aJk+WMheS4i+aJjeS4jeS8muaKpemUmSznjrDlnKjpnIDov5DooYzmiZPljIXlkI7nmoRqc+aWh+S7tuaJjeiDveaOpeaUtuivt+axglxuLy8g6K+75Y+WbW9kdWxlc+aWh+S7tuWkueS4i+eahGpz5paH5Lu2XG5jb25zdCBtb2R1bGVGaWxlcyA9IHJlcXVpcmUuY29udGV4dCgnLi9tb2R1bGVzJywgdHJ1ZSwgL1xcLmpzJC8pXG4vLyBtb2R1bGVGaWxlc+Wvueixoee7k+aehFxuLy8geyAnLi94eHgnIDogJ+WFt+S9k+i3r+W+hCd9XG5cbi8vIOaKimtleXPov5Tlm57nmoRrZXnmlbDnu4Tlho3pgY3ljoblj5blgLznhLblkI7miorlhbfkvZPot6/lvoTmt7vliqDov5vmlbDnu4RcbmNvbnN0IG1vZHVsZXMgPSBtb2R1bGVGaWxlcy5rZXlzKCkucmVkdWNlKChpdGVtcywgcGF0aCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IG1vZHVsZUZpbGVzKHBhdGgpXG4gIGl0ZW1zLnB1c2godmFsdWUuZGVmYXVsdClcbiAgcmV0dXJuIGl0ZW1zXG59LCBbXSlcblxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJvdXRlcyhcbiAgLy8gcHVibGljUm91dGVyLCBcbiAgLy8gbG9naW5Sb3V0ZXIsXG4gIC8vIHVzZXJSb3V0ZXJcbiAgbW9kdWxlc1xuKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/routes.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@koa/cors\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBrb2EvY29ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb2EvY29yc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@koa/cors\n");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcryptjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRqc1wiP2NlNTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmNyeXB0anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcryptjs\n");

/***/ }),

/***/ "bluebird":
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bluebird\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmx1ZWJpcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bluebird\n");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs\n");

/***/ }),

/***/ "dayjs/plugin/weekday":
/*!***************************************!*\
  !*** external "dayjs/plugin/weekday" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs/plugin/weekday\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqcy9wbHVnaW4vd2Vla2RheVwiPzUwOTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMvcGx1Z2luL3dlZWtkYXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqcy9wbHVnaW4vd2Vla2RheVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs/plugin/weekday\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa\n");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-body\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWJvZHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-body\n");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-combine-routers\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtY29tYmluZS1yb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbWJpbmUtcm91dGVyc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-combine-routers\n");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWNvbXBvc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compose\n");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compress\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS1jb21wcmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21wcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compress\n");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-helmet\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtaGVsbWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-helmet\n");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-json\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWpzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-json\n");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etand0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-jwt\n");

/***/ }),

/***/ "koa-log4":
/*!***************************!*\
  !*** external "koa-log4" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-log4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtbG9nNFwiPzIwNGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWxvZzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtbG9nNFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-log4\n");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-router\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-router\n");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-static\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-static\n");

/***/ }),

/***/ "make-dir":
/*!***************************!*\
  !*** external "make-dir" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"make-dir\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtYWtlLWRpclwiPzk3YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibWFrZS1kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtYWtlLWRpclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///make-dir\n");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"moment\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9iZDc2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im1vbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbWVudFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///moment\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJub2RlbWFpbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer\n");

/***/ }),

/***/ "nodemailer/lib/shared":
/*!****************************************!*\
  !*** external "nodemailer/lib/shared" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer/lib/shared\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyL2xpYi9zaGFyZWRcIj8xZGNmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im5vZGVtYWlsZXIvbGliL3NoYXJlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGVtYWlsZXIvbGliL3NoYXJlZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer/lib/shared\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"qs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxc1wiP2E1YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJxc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///qs\n");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWRpc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///redis\n");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-captcha\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoic3ZnLWNhcHRjaGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///svg-captcha\n");

/***/ }),

/***/ "uuid/v4":
/*!**************************!*\
  !*** external "uuid/v4" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid/v4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkL3Y0XCI/ZDE1YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJ1dWlkL3Y0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZC92NFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///uuid/v4\n");

/***/ }),

/***/ "ws":
/*!*********************!*\
  !*** external "ws" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"ws\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3c1wiPzE1YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoid3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///ws\n");

/***/ })

/******/ });
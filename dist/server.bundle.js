/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/api/AdminController.js":
/*!************************************!*\
  !*** ./src/api/AdminController.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL3NyYy9hcGkvQWRtaW5Db250cm9sbGVyLmpzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/AdminController.js\n");

/***/ }),

/***/ "./src/api/CommentsController.js":
/*!***************************************!*\
  !*** ./src/api/CommentsController.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/CommentsHands */ \"./src/model/CommentsHands.js\");\n/* harmony import */ var nodemailer_lib_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nodemailer/lib/shared */ \"nodemailer/lib/shared\");\n/* harmony import */ var nodemailer_lib_shared__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nodemailer_lib_shared__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n // 对用户进行判断\n\nconst canReply = async ctx => {\n  let result = false;\n  const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n\n  if (typeof obj._id === 'undefined') {\n    return result;\n  } else {\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n\n    if (user.status === '0') {\n      // status  0为正常\n      result = true;\n    }\n\n    return result;\n  }\n};\n\nclass CommentsController {\n  // 获取评论列表\n  async getComments(ctx) {\n    const params = ctx.query;\n    const tid = params.tid; // 帖子id\n\n    const page = params.page ? params.page : 0; // 第几页评论\n\n    const limit = params.limit ? parseInt(params.limit) : 10; // 每页条数\n    // 取评论\n\n    const r = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid(tid);\n    let result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommentsList(tid, page, limit); // 判断用户是否登录，已登录的用户才去判断点赞信息\n\n    let obj = {};\n\n    if (typeof ctx.header.authorization !== 'undefined') {\n      obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n    }\n\n    if (typeof obj._id !== 'undefined') {\n      // 已经登录, 把数据库返回的数据JSON化才能操作\n      result = result.map(item => item.toJSON());\n\n      for (let i = 0; i < result.length; i++) {\n        let item = result[i];\n        item.handed = '0'; // 添加点赞属性\n        // 查询点赞表\n\n        const commentsHands = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n          cid: item._id,\n          uid: obj._id\n        }); // 判断是否有用户的点赞记录,有则修改handed属性\n\n        if (commentsHands && commentsHands.cid) {\n          if (commentsHands.uid === obj._id) {\n            item.handed = '1';\n          }\n        }\n      }\n    }\n\n    const total = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].queryCount(tid);\n    ctx.body = {\n      code: 200,\n      total,\n      data: result,\n      msg: '查询成功'\n    };\n  } // 添加评论\n\n\n  async addComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"checkCode\"])(sid, code);\n\n    if (!result) {\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码不正确,请检查'\n      };\n      return;\n    }\n\n    const newComment = new _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n    newComment.cuid = obj._id; // 查询帖子作者发送消息\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: body.tid\n    });\n    newComment.uid = post.uid;\n    const comment = await newComment.save(); // 统计帖子有多少未读评论消息\n\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTotal(post.uid); // 发送消息\n\n    global.ws.send(post.uid, JSON.stringify({\n      event: 'message',\n      message: num\n    })); // 增加回复数\n\n    const updatePostresult = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body.tid\n    }, {\n      $inc: {\n        answer: 1\n      }\n    });\n\n    if (comment._id && updatePostresult.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: comment,\n        msg: '评论成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '评论失败'\n      };\n    }\n  } // 更新评论\n\n\n  async updateComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body.cid\n    }, {\n      $set: body\n    });\n    ctx.body = {\n      code: 200,\n      msg: '修改成功',\n      data: result\n    };\n  } // 采纳\n\n\n  async setBest(ctx) {\n    // 对用户权限进行判断\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n\n    if (typeof obj === 'undefined' && obj._id === '') {\n      ctx.body = {\n        code: 401,\n        msg: '用户未登录,或用户未授权'\n      };\n      return;\n    }\n\n    const params = ctx.query;\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: params.tid\n    });\n\n    if (post.uid === obj._id && post.isEnd === '0') {\n      // 说明这是作者本人,可以设置isBest\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n        _id: params.tid\n      }, {\n        $set: {\n          isEnd: '1'\n        }\n      });\n      const result1 = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n        _id: params.cid\n      }, {\n        $set: {\n          isBest: '1'\n        }\n      }); // 把积分给采纳用户\n\n      if (result.ok === 1 && result1.ok === 1) {\n        const comment = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByCid(params.cid); // 添加积分\n\n        const result2 = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n          _id: comment.cuid\n        }, {\n          $inc: {\n            favs: parseInt(post.fav)\n          }\n        }); // console.log('resule2:', result2)\n\n        if (result2.ok === 1) {\n          ctx.body = {\n            code: 200,\n            msg: '设置成功',\n            data: result2\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            msg: '设置最佳答案-更新用户失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '设置失败',\n          data: { ...result,\n            ...result1\n          }\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '帖子已结帖,无法重复设置'\n      };\n    }\n  } // 点赞\n\n\n  async setHands(ctx) {\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWtPayload\"])(ctx.header.authorization);\n    const params = ctx.query; // 判断用户是否已经点赞\n\n    const tmp = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      cid: params.cid,\n      uid: obj._id\n    });\n\n    if (tmp.length > 0) {\n      ctx.body = {\n        code: 500,\n        msg: '您已经点赞,请勿重复点赞'\n      };\n      return;\n    } // 新增一条点赞记录\n\n\n    const newHands = new _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      cid: params.cid,\n      // 评论id\n      uid: obj._id // 点赞人id\n\n    });\n    const data = await newHands.save(); // 更新comments表中对应记录hands信息+1\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.cid\n    }, {\n      $inc: {\n        hands: 1\n      }\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '点赞成功',\n        data: data\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '保存点赞信息失败'\n      };\n    }\n  } // 获取用户最近评论\n\n\n  async getCommentPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommetsPublic(params.uid, params.page, parseInt(params.limit));\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '查询最近的评论记录成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询评论记录失败！'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new CommentsController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbW1lbnRzQ29udHJvbGxlci5qcz9kNGI0Il0sIm5hbWVzIjpbImNhblJlcGx5IiwiY3R4IiwicmVzdWx0Iiwib2JqIiwiZ2V0Sld0UGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJfaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwic3RhdHVzIiwiQ29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJwYXJhbXMiLCJxdWVyeSIsInRpZCIsInBhZ2UiLCJsaW1pdCIsInBhcnNlSW50IiwiciIsIkNvbW1lbnRzIiwiZmluZEJ5VGlkIiwiZ2V0Q29tbWVudHNMaXN0IiwibWFwIiwiaXRlbSIsInRvSlNPTiIsImkiLCJsZW5ndGgiLCJoYW5kZWQiLCJjb21tZW50c0hhbmRzIiwiQ29tbWVudHNIYW5kcyIsImZpbmRPbmUiLCJjaWQiLCJ1aWQiLCJ0b3RhbCIsInF1ZXJ5Q291bnQiLCJib2R5IiwiY29kZSIsImRhdGEiLCJtc2ciLCJhZGRDb21tZW50IiwiY2hlY2siLCJyZXF1ZXN0Iiwic2lkIiwiY2hlY2tDb2RlIiwibmV3Q29tbWVudCIsImN1aWQiLCJwb3N0IiwiUG9zdCIsImNvbW1lbnQiLCJzYXZlIiwibnVtIiwiZ2V0VG90YWwiLCJnbG9iYWwiLCJ3cyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXZlbnQiLCJtZXNzYWdlIiwidXBkYXRlUG9zdHJlc3VsdCIsInVwZGF0ZU9uZSIsIiRpbmMiLCJhbnN3ZXIiLCJvayIsInVwZGF0ZUNvbW1lbnQiLCIkc2V0Iiwic2V0QmVzdCIsImlzRW5kIiwicmVzdWx0MSIsImlzQmVzdCIsImZpbmRCeUNpZCIsInJlc3VsdDIiLCJmYXZzIiwiZmF2Iiwic2V0SGFuZHMiLCJ0bXAiLCJmaW5kIiwibmV3SGFuZHMiLCJoYW5kcyIsImdldENvbW1lbnRQdWJsaWMiLCJnZXRDb21tZXRzUHVibGljIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FB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QUVUQyxZQUFJLEVBQUVyQyxNQUZHO0FBR1RzQyxXQUFHLEVBQUU7QUFISSxPQUFYO0FBS0QsS0FORCxNQU1PO0FBQ0x2QyxTQUFHLENBQUNvQyxJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEUsV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlEO0FBQ0Y7O0FBcE9zQjs7QUF1T1YsbUVBQUk1QixrQkFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Db21tZW50c0NvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWVudHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHMnXHJcbmltcG9ydCBQb3N0IGZyb20gJy4uL21vZGVsL1Bvc3QnXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVsL1VzZXInXHJcbmltcG9ydCB7IGNoZWNrQ29kZSwgZ2V0Sld0UGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IENvbW1lbnRzSGFuZHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHNIYW5kcydcclxuaW1wb3J0IHsgZW5jb2RlWFRleHQgfSBmcm9tICdub2RlbWFpbGVyL2xpYi9zaGFyZWQnXHJcblxyXG4vLyDlr7nnlKjmiLfov5vooYzliKTmlq1cclxuY29uc3QgY2FuUmVwbHkgPSBhc3luYyAoY3R4KSA9PiB7XHJcbiAgbGV0IHJlc3VsdCA9IGZhbHNlXHJcbiAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgaWYgKHR5cGVvZiBvYmouX2lkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRChvYmouX2lkKVxyXG4gICAgaWYgKHVzZXIuc3RhdHVzID09PSAnMCcpIHsgLy8gc3RhdHVzICAw5Li65q2j5bi4XHJcbiAgICAgIHJlc3VsdCA9IHRydWVcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbW1lbnRzQ29udHJvbGxlciB7XHJcbiAgLy8g6I635Y+W6K+E6K665YiX6KGoXHJcbiAgYXN5bmMgZ2V0Q29tbWVudHMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCB0aWQgPSBwYXJhbXMudGlkIC8vIOW4luWtkGlkXHJcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDAgLy8g56ys5Yeg6aG16K+E6K66XHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMCAvLyDmr4/pobXmnaHmlbBcclxuICAgIC8vIOWPluivhOiuulxyXG4gICAgY29uc3QgciA9IGF3YWl0IENvbW1lbnRzLmZpbmRCeVRpZCh0aWQpXHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNMaXN0KHRpZCwgcGFnZSwgbGltaXQpXHJcbiAgICBcclxuICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpueZu+W9le+8jOW3sueZu+W9leeahOeUqOaIt+aJjeWOu+WIpOaWreeCuei1nuS/oeaBr1xyXG4gICAgbGV0IG9iaiA9IHt9XHJcbiAgICBpZiAodHlwZW9mIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIG9iai5faWQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIOW3sue7j+eZu+W9lSwg5oqK5pWw5o2u5bqT6L+U5Zue55qE5pWw5o2uSlNPTuWMluaJjeiDveaTjeS9nFxyXG4gICAgICByZXN1bHQgPSByZXN1bHQubWFwKGl0ZW0gPT4gaXRlbS50b0pTT04oKSlcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgaXRlbSA9IHJlc3VsdFtpXVxyXG4gICAgICAgIGl0ZW0uaGFuZGVkID0gJzAnIC8vIOa3u+WKoOeCuei1nuWxnuaAp1xyXG4gICAgICAgIC8vIOafpeivoueCuei1nuihqFxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzSGFuZHMgPSBhd2FpdCBDb21tZW50c0hhbmRzLmZpbmRPbmUoeyBjaWQ6IGl0ZW0uX2lkLCB1aWQ6IG9iai5faWQgfSlcclxuICAgICAgICAvLyDliKTmlq3mmK/lkKbmnInnlKjmiLfnmoTngrnotZ7orrDlvZUs5pyJ5YiZ5L+u5pS5aGFuZGVk5bGe5oCnXHJcbiAgICAgICAgaWYgKGNvbW1lbnRzSGFuZHMgJiYgY29tbWVudHNIYW5kcy5jaWQpIHtcclxuICAgICAgICAgIGlmIChjb21tZW50c0hhbmRzLnVpZCA9PT0gb2JqLl9pZCkge1xyXG4gICAgICAgICAgICBpdGVtLmhhbmRlZCA9ICcxJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBDb21tZW50cy5xdWVyeUNvdW50KHRpZClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIHRvdGFsLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG1zZzogJ+afpeivouaIkOWKnydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOa3u+WKoOivhOiuulxyXG4gIGFzeW5jIGFkZENvbW1lbnQgKGN0eCkge1xyXG4gICAgY29uc3QgY2hlY2sgPSBhd2FpdCBjYW5SZXBseShjdHgpXHJcbiAgICBpZiAoIWNoZWNrKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfnlKjmiLflt7LooqvnpoHoqIAnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCBzaWQgPSBib2R5LnNpZFxyXG4gICAgY29uc3QgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CBXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggeS4jeato+ehrizor7fmo4Dmn6UnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdDb21tZW50ID0gbmV3IENvbW1lbnRzKGJvZHkpXHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIG5ld0NvbW1lbnQuY3VpZCA9IG9iai5faWRcclxuICAgIC8vIOafpeivouW4luWtkOS9nOiAheWPkemAgea2iOaBr1xyXG4gICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7X2lkOiBib2R5LnRpZH0pXHJcbiAgICBuZXdDb21tZW50LnVpZCA9IHBvc3QudWlkXHJcbiAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgbmV3Q29tbWVudC5zYXZlKClcclxuICAgIFxyXG4gICAgLy8g57uf6K6h5biW5a2Q5pyJ5aSa5bCR5pyq6K+76K+E6K665raI5oGvXHJcbiAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChwb3N0LnVpZClcclxuICAgIC8vIOWPkemAgea2iOaBr1xyXG4gICAgZ2xvYmFsLndzLnNlbmQocG9zdC51aWQsIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgZXZlbnQ6ICdtZXNzYWdlJyxcclxuICAgICAgbWVzc2FnZTogbnVtXHJcbiAgICB9KSlcclxuICAgIC8vIOWinuWKoOWbnuWkjeaVsFxyXG4gICAgY29uc3QgdXBkYXRlUG9zdHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHtfaWQ6IGJvZHkudGlkfSwge1xyXG4gICAgICAkaW5jOiB7YW5zd2VyOiAxfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoY29tbWVudC5faWQgJiYgdXBkYXRlUG9zdHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogY29tbWVudCxcclxuICAgICAgICBtc2c6ICfor4TorrrmiJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfor4TorrrlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOivhOiuulxyXG4gIGFzeW5jIHVwZGF0ZUNvbW1lbnQgKGN0eCkge1xyXG4gICAgY29uc3QgY2hlY2sgPSBhd2FpdCBjYW5SZXBseShjdHgpXHJcbiAgICBpZiAoIWNoZWNrKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfnlKjmiLflt7LooqvnpoHoqIAnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVPbmUoe19pZDogYm9keS5jaWR9LCB7ICRzZXQ6IGJvZHl9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgbXNnOiAn5L+u5pS55oiQ5YqfJyxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDph4fnurNcclxuICBhc3luYyBzZXRCZXN0IChjdHgpIHtcclxuICAgIC8vIOWvueeUqOaIt+adg+mZkOi/m+ihjOWIpOaWrVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgJiYgb2JqLl9pZCA9PT0gJycpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgIG1zZzogJ+eUqOaIt+acqueZu+W9lSzmiJbnlKjmiLfmnKrmjojmnYMnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoe19pZDogcGFyYW1zLnRpZH0pXHJcbiAgICBpZiAocG9zdC51aWQgPT09IG9iai5faWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XHJcbiAgICAgIC8vIOivtOaYjui/meaYr+S9nOiAheacrOS6uizlj6/ku6Xorr7nva5pc0Jlc3RcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoe19pZDogcGFyYW1zLnRpZH0sIHtcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICBpc0VuZDogJzEnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gIFxyXG4gICAgICBjb25zdCByZXN1bHQxID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHtfaWQ6IHBhcmFtcy5jaWR9LCB7XHJcbiAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgaXNCZXN0OiAnMSdcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyDmiornp6/liIbnu5nph4fnurPnlKjmiLdcclxuICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSAmJiByZXN1bHQxLm9rID09PSAxKSB7XHJcbiAgICAgICAgY29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnRzLmZpbmRCeUNpZChwYXJhbXMuY2lkKVxyXG4gICAgICAgIC8vIOa3u+WKoOenr+WIhlxyXG4gICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7X2lkOiBjb21tZW50LmN1aWR9LCB7JGluYzoge2ZhdnM6IHBhcnNlSW50KHBvc3QuZmF2KX19KVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXN1bGUyOicsIHJlc3VsdDIpXHJcbiAgICAgICAgaWYgKHJlc3VsdDIub2sgPT09IDEpIHtcclxuICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIG1zZzogJ+iuvue9ruaIkOWKnycsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdDJcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgbXNnOiAn6K6+572u5pyA5L2z562U5qGILeabtOaWsOeUqOaIt+Wksei0pSdcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICBtc2c6ICforr7nva7lpLHotKUnLFxyXG4gICAgICAgICAgZGF0YTogey4uLnJlc3VsdCwgLi4ucmVzdWx0MX1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfluJblrZDlt7Lnu5PluJYs5peg5rOV6YeN5aSN6K6+572uJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDngrnotZ5cclxuICBhc3luYyBzZXRIYW5kcyAoY3R4KSB7XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG5cclxuICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpuW3sue7j+eCuei1nlxyXG4gICAgY29uc3QgdG1wID0gYXdhaXQgQ29tbWVudHNIYW5kcy5maW5kKHtjaWQ6IHBhcmFtcy5jaWQsIHVpZDogb2JqLl9pZH0pXHJcbiAgICBpZiAodG1wLmxlbmd0aCA+IDApIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+aCqOW3sue7j+eCuei1nizor7fli7/ph43lpI3ngrnotZ4nXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyDmlrDlop7kuIDmnaHngrnotZ7orrDlvZVcclxuICAgIGNvbnN0IG5ld0hhbmRzID0gbmV3IENvbW1lbnRzSGFuZHMoe1xyXG4gICAgICBjaWQ6IHBhcmFtcy5jaWQsIC8vIOivhOiuumlkXHJcbiAgICAgIHVpZDogb2JqLl9pZCAvLyDngrnotZ7kurppZFxyXG4gICAgfSlcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBuZXdIYW5kcy5zYXZlKClcclxuICAgIC8vIOabtOaWsGNvbW1lbnRz6KGo5Lit5a+55bqU6K6w5b2VaGFuZHPkv6Hmga8rMVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHtfaWQ6IHBhcmFtcy5jaWR9LCB7ICRpbmM6IHtoYW5kczogMX19KVxyXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn54K56LWe5oiQ5YqfJyxcclxuICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfkv53lrZjngrnotZ7kv6Hmga/lpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlueUqOaIt+acgOi/keivhOiuulxyXG4gIGFzeW5jIGdldENvbW1lbnRQdWJsaWMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRDb21tZXRzUHVibGljKHBhcmFtcy51aWQsIHBhcmFtcy5wYWdlLCBwYXJzZUludChwYXJhbXMubGltaXQpKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5pyA6L+R55qE6K+E6K666K6w5b2V5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i6K+E6K666K6w5b2V5aSx6LSl77yBJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29tbWVudHNDb250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/CommentsController.js\n");

/***/ }),

/***/ "./src/api/ContentController.js":
/*!**************************************!*\
  !*** ./src/api/ContentController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Links__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Links */ \"./src/model/Links.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid/v4 */ \"uuid/v4\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! make-dir */ \"make-dir\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(make_dir__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_PostTags__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../model/PostTags */ \"./src/model/PostTags.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n // import { dirExists } from '../common/Utils'\n\n\n\n\n\n\n\n\nclass ContentController {\n  // 获取文章列表\n  async getPostList(ctx) {\n    const body = qs__WEBPACK_IMPORTED_MODULE_11___default.a.parse(ctx.query); // 排序条件、页数、每页条数\n\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    const options = {};\n\n    if (body.title) {\n      options.title = {\n        $regex: body.title\n      };\n    }\n\n    if (body.catalog && body.catalog.length > 0) {\n      options.catalog = {\n        $in: body.catalog\n      };\n    }\n\n    if (body.isTop) {\n      options.isTop = body.isTop;\n    }\n\n    if (body.isEnd) {\n      options.isEnd = body.isEnd;\n    }\n\n    if (body.status) {\n      options.status = body.status;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    } // console.log('options:',options)\n\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getList(options, sort, page, limit);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countList(options);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功',\n      total: total\n    };\n  } // 查询友链\n\n\n  async getLinks(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'links'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 查询温馨提醒\n\n\n  async getTips(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'tips'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 本周热议\n\n\n  async getTopWeek(ctx) {\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTopWeek();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 上传图片接口\n\n\n  async uploadImg(ctx) {\n    // files是请求对象,file是前端formData中append的那个'file'\n    const file = ctx.request.files.file; // 取图片名称、图片格式、存储位置、返回前台可以读取的路径\n\n    const ext = file.name.split('.').pop(); // 取图片格式\n    // 拼接存储路径目录\n\n    const dir = `${_config_index__WEBPACK_IMPORTED_MODULE_5__[\"default\"].uploadPath}/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}`; // 判断路径是否存在,不存在则创建\n    // await dirExists(dir)  // make-dir包作用为创建目录路径\n\n    await make_dir__WEBPACK_IMPORTED_MODULE_6___default()(dir); // 存储文件到指定路,给文件一个唯一的名称\n\n    const picname = uuid_v4__WEBPACK_IMPORTED_MODULE_3___default()();\n    const destPath = `${dir}/${picname}.${ext}`;\n    const reader = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createReadStream(file.path); // 读文件\n\n    const upStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createWriteStream(destPath); // 写文件\n    // 返回给前端的文件路径\n\n    const filePath = `/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}/${picname}.${ext}`; // 方法1\n    // reader.pipe(upStream) // 利用管道读写文件\n    // 方法2\n\n    let totalLength = 0;\n    reader.on('data', chunk => {\n      // 监听data事件,分块读取文件\n      totalLength += chunk.length; // 一块块写入\n\n      if (upStream.write(chunk) === false) {\n        // 当写入chunk为0时则文件读取结束,写入为0时返回false停止读取\n        reader.pause();\n      }\n    }); // 继续读取\n\n    reader.on('drain', () => {\n      reader.resume();\n    }); // 结束写入\n\n    reader.on('end', () => {\n      upStream.end();\n    });\n    ctx.body = {\n      code: 200,\n      msg: '图片上传成功',\n      data: filePath\n    };\n  } // 发表新帖\n\n\n  async addPost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 判断用户积分数是否足够\n      // 用户积分足够,发表帖子,减除用户对应积分\n\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_8__[\"default\"].findById({\n        _id: obj._id\n      });\n\n      if (user.favs < body.fav) {\n        ctx.body = {\n          code: 501,\n          msg: '积分不足'\n        };\n        return;\n      } else {\n        // 扣除积分\n        await _model_User__WEBPACK_IMPORTED_MODULE_8__[\"default\"].updateOne({\n          _id: obj._id\n        }, {\n          $inc: {\n            favs: -body.fav\n          }\n        });\n      }\n\n      const newPost = new _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body); // 帖子uid等于发帖人的_id\n\n      newPost.uid = obj._id;\n      const result = await newPost.save();\n      ctx.body = {\n        code: 200,\n        msg: '发布成功',\n        data: result\n      };\n    } else {\n      // 验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 获取文章详情\n\n\n  async getPostDetail(ctx) {\n    const params = ctx.query;\n\n    if (!params.tid) {\n      ctx.body = {\n        code: 500,\n        msg: '文章id为空'\n      };\n      return;\n    }\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid(params.tid);\n\n    if (!post) {\n      ctx.body = {\n        code: 200,\n        data: {},\n        msg: '查询文章详情成功'\n      };\n      return;\n    }\n\n    let isFav = 0; // 判断收藏的变量\n    // 判断用户是否传递Authorization的数据，即是否登录\n\n    if (typeof ctx.header.authorization !== 'undefined' && ctx.header.authorization !== '') {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 查询用户收藏记录\n\n      const userCollect = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_10__[\"default\"].findOne({\n        uid: obj._id,\n        tid: params.tid\n      }); // 如果有收藏记录则isFav置为1\n\n      if (userCollect && userCollect.tid) {\n        isFav = 1;\n      }\n    }\n\n    const newPost = post.toJSON();\n    newPost.isFav = isFav; // 更新文章阅读记数\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.tid\n    }, {\n      $inc: {\n        reads: 1\n      }\n    });\n\n    if (post._id && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: newPost,\n        msg: '查询文章详情成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '获取文章详情失败'\n      };\n    } // const post = await Post.findOne({ _id: params.tid })\n    // const result = rename(post.toJSON(), 'uid', 'user')\n\n  } // 更新帖子\n\n\n  async updatePost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 判断帖子作者是否为本人\n\n      const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n        _id: body.tid\n      }); // 判断帖子是否结贴\n\n      if (post.uid === obj._id && post.isEnd === '0') {\n        // 更新帖子\n        const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n          _id: body.tid\n        }, body);\n\n        if (result.ok === 1) {\n          ctx.body = {\n            code: 200,\n            data: result,\n            msg: '更新帖子成功'\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            data: result,\n            msg: '编辑帖子，更新失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 401,\n          msg: '已结帖,没有操作的权限'\n        };\n      }\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 管理更新帖子\n\n\n  async updatePostByTid(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '更新帖子成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        data: result,\n        msg: '编辑帖子,更新失败'\n      };\n    }\n  } // 获取用户发帖记录\n\n\n  async getPostByUid(ctx) {\n    const params = ctx.query; // 获取用户信息\n\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization); // 查询用户发表的帖子\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10); // 统计用户发帖总数\n\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 删除指定帖子\n\n\n  async deletePostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_7__[\"getJWtPayload\"])(ctx.header.authorization);\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: obj._id,\n      _id: params.tid\n    }); // 判断帖子是否已结帖,若已结帖则不准删除\n\n    if (post.id === params.tid && post.isEnd === '0') {\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n        _id: params.tid\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200,\n          msg: '删除成功'\n        };\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '执行删除失败'\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '删除失败,无权限'\n      };\n    }\n  }\n\n  async getPostPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(params.uid, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(params.uid);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 管理删除帖子\n\n\n  async deletePost(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n      _id: params.tid\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '删除成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '执行删除失败'\n      };\n    }\n  } // 获取标签列表\n\n\n  async getTags(ctx) {\n    const params = ctx.query;\n    const page = params.page ? parseInt(params.page) : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getList({}, page, limit);\n    const total = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].countList({});\n    ctx.body = {\n      code: 200,\n      data: result,\n      total,\n      msg: '查询tags成功！'\n    };\n  } // 添加标签\n\n\n  async addTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const tag = new _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"](body);\n    await tag.save();\n    ctx.body = {\n      code: 200,\n      msg: '标签保存成功'\n    };\n  } // 删除标签\n\n\n  async removeTag(ctx) {\n    const params = ctx.query;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].deleteOne({\n      _id: params.ptid\n    });\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '删除成功'\n    };\n  }\n\n  async updateTag(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_PostTags__WEBPACK_IMPORTED_MODULE_9__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '更新成功'\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ContentController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzPzI1NjUiXSwibmFtZXMiOlsiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsImN0eCIsImJvZHkiLCJxcyIsInBhcnNlIiwicXVlcnkiLCJzb3J0IiwicGFnZSIsInBhcnNlSW50IiwibGltaXQiLCJvcHRpb25zIiwidGl0bGUiLCIkcmVnZXgiLCJjYXRhbG9nIiwibGVuZ3RoIiwiJGluIiwiaXNUb3AiLCJpc0VuZCIsInN0YXR1cyIsInRhZyIsInRhZ3MiLCIkZWxlbU1hdGNoIiwibmFtZSIsInJlc3VsdCIsIlBvc3QiLCJnZXRMaXN0IiwidG90YWwiLCJjb3VudExpc3QiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldExpbmtzIiwiTGlua3MiLCJmaW5kIiwidHlwZSIsImdldFRpcHMiLCJnZXRUb3BXZWVrIiwidXBsb2FkSW1nIiwiZmlsZSIsInJlcXVlc3QiLCJmaWxlcyIsImV4dCIsInNwbGl0IiwicG9wIiwiZGlyIiwiY29uZmlnIiwidXBsb2FkUGF0aCIsIm1vbWVudCIsImZvcm1hdCIsIm1rZGlyIiwicGljbmFtZSIsInV1aWQiLCJkZXN0UGF0aCIsInJlYWRlciIsImZzIiwiY3JlYXRlUmVhZFN0cmVhbSIsInBhdGgiLCJ1cFN0cmVhbSIsImNyZWF0ZVdyaXRlU3RyZWFtIiwiZmlsZVBhdGgiLCJ0b3RhbExlbmd0aCIsIm9uIiwiY2h1bmsiLCJ3cml0ZSIsInBhdXNlIiwicmVzdW1lIiwiZW5kIiwiYWRkUG9zdCIsInNpZCIsImNoZWNrQ29kZSIsIm9iaiIsImdldEpXdFBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwidXNlciIsIlVzZXIiLCJmaW5kQnlJZCIsIl9pZCIsImZhdnMiLCJmYXYiLCJ1cGRhdGVPbmUiLCIkaW5jIiwibmV3UG9zdCIsInVpZCIsInNhdmUiLCJnZXRQb3N0RGV0YWlsIiwicGFyYW1zIiwidGlkIiwicG9zdCIsImZpbmRCeVRpZCIsImlzRmF2IiwidXNlckNvbGxlY3QiLCJVc2VyQ29sbGVjdCIsImZpbmRPbmUiLCJ0b0pTT04iLCJyZWFkcyIsIm9rIiwidXBkYXRlUG9zdCIsInVwZGF0ZVBvc3RCeVRpZCIsImdldFBvc3RCeVVpZCIsImdldExpc3RCeVVpZCIsImNvdW50QnlVaWQiLCJkZWxldGVQb3N0QnlVaWQiLCJpZCIsImRlbGV0ZU9uZSIsImdldFBvc3RQdWJsaWMiLCJkZWxldGVQb3N0IiwiZ2V0VGFncyIsIlBvc3RUYWdzIiwiYWRkVGFnIiwicmVtb3ZlVGFnIiwicHRpZCIsInVwZGF0ZVRhZyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtDQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxpQkFBTixDQUF3QjtBQUN0QjtBQUNBLFFBQU1DLFdBQU4sQ0FBbUJDLEdBQW5CLEVBQXdCO0FBQ3RCLFVBQU1DLElBQUksR0FBR0MsMENBQUUsQ0FBQ0MsS0FBSCxDQUFTSCxHQUFHLENBQUNJLEtBQWIsQ0FBYixDQURzQixDQUV0Qjs7QUFDQSxVQUFNQyxJQUFJLEdBQUdKLElBQUksQ0FBQ0ksSUFBTCxHQUFZSixJQUFJLENBQUNJLElBQWpCLEdBQXdCLFNBQXJDO0FBQ0EsVUFBTUMsSUFBSSxHQUFHTCxJQUFJLENBQUNLLElBQUwsR0FBWUMsUUFBUSxDQUFDTixJQUFJLENBQUNLLElBQU4sQ0FBcEIsR0FBa0MsQ0FBL0M7QUFDQSxVQUFNRSxLQUFLLEdBQUdQLElBQUksQ0FBQ08sS0FBTCxHQUFhRCxRQUFRLENBQUNOLElBQUksQ0FBQ08sS0FBTixDQUFyQixHQUFvQyxFQUFsRDtBQUNBLFVBQU1DLE9BQU8sR0FBRyxFQUFoQjs7QUFFQSxRQUFJUixJQUFJLENBQUNTLEtBQVQsRUFBZ0I7QUFDZEQs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QVdELEdBQUcsQ0FBQ3NDLE9BQXJCO0FBQ0EsVUFBTWhCLE1BQU0sR0FBRyxNQUFNcUYsdURBQVEsQ0FBQzVCLFNBQVQsQ0FDbkI7QUFBRUgsU0FBRyxFQUFFM0UsSUFBSSxDQUFDMkU7QUFBWixLQURtQixFQUVuQjNFLElBRm1CLENBQXJCO0FBS0FELE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1QwQixVQUFJLEVBQUUsR0FERztBQUVUQyxVQUFJLEVBQUVOLE1BRkc7QUFHVE8sU0FBRyxFQUFFO0FBSEksS0FBWDtBQUtEOztBQTVhcUI7O0FBK2FULG1FQUFJL0IsaUJBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvQ29udGVudENvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUG9zdCBmcm9tICcuLi9tb2RlbC9Qb3N0J1xyXG5pbXBvcnQgTGlua3MgZnJvbSAnLi4vbW9kZWwvTGlua3MnXHJcbmltcG9ydCBmcywgeyByZWFkIH0gZnJvbSAnZnMnXHJcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjQnXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xyXG4vLyBpbXBvcnQgeyBkaXJFeGlzdHMgfSBmcm9tICcuLi9jb21tb24vVXRpbHMnXHJcblxyXG5pbXBvcnQgbWtkaXIgZnJvbSAnbWFrZS1kaXInXHJcbmltcG9ydCB7IGNoZWNrQ29kZSwgZ2V0Sld0UGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWwvVXNlcidcclxuaW1wb3J0IFBvc3RUYWdzIGZyb20gJy4uL21vZGVsL1Bvc3RUYWdzJ1xyXG5pbXBvcnQgVXNlckNvbGxlY3QgZnJvbSAnLi4vbW9kZWwvVXNlckNvbGxlY3QnXHJcbmltcG9ydCBxcyBmcm9tICdxcydcclxuXHJcbmNsYXNzIENvbnRlbnRDb250cm9sbGVyIHtcclxuICAvLyDojrflj5bmlofnq6DliJfooahcclxuICBhc3luYyBnZXRQb3N0TGlzdCAoY3R4KSB7XHJcbiAgICBjb25zdCBib2R5ID0gcXMucGFyc2UoY3R4LnF1ZXJ5KVxyXG4gICAgLy8g5o6S5bqP5p2h5Lu244CB6aG15pWw44CB5q+P6aG15p2h5pWwXHJcbiAgICBjb25zdCBzb3J0ID0gYm9keS5zb3J0ID8gYm9keS5zb3J0IDogJ2NyZWF0ZWQnXHJcbiAgICBjb25zdCBwYWdlID0gYm9keS5wYWdlID8gcGFyc2VJbnQoYm9keS5wYWdlKSA6IDBcclxuICAgIGNvbnN0IGxpbWl0ID0gYm9keS5saW1pdCA/IHBhcnNlSW50KGJvZHkubGltaXQpIDogMjBcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7fVxyXG5cclxuICAgIGlmIChib2R5LnRpdGxlKSB7XHJcbiAgICAgIG9wdGlvbnMudGl0bGUgPSB7ICRyZWdleDogYm9keS50aXRsZSB9XHJcbiAgICB9XHJcbiAgICBpZiAoYm9keS5jYXRhbG9nICYmIGJvZHkuY2F0YWxvZy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIG9wdGlvbnMuY2F0YWxvZyA9IHsgJGluOiBib2R5LmNhdGFsb2cgfVxyXG4gICAgfVxyXG4gICAgaWYgKGJvZHkuaXNUb3ApIHtcclxuICAgICAgb3B0aW9ucy5pc1RvcCA9IGJvZHkuaXNUb3BcclxuICAgIH1cclxuICAgIGlmIChib2R5LmlzRW5kKSB7XHJcbiAgICAgIG9wdGlvbnMuaXNFbmQgPSBib2R5LmlzRW5kXHJcbiAgICB9XHJcbiAgICBpZiAoYm9keS5zdGF0dXMpIHtcclxuICAgICAgb3B0aW9ucy5zdGF0dXMgPSBib2R5LnN0YXR1c1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBib2R5LnRhZyAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keS50YWcgIT09ICcnKSB7XHJcbiAgICAgIG9wdGlvbnMudGFncyA9IHsgJGVsZW1NYXRjaDogeyBuYW1lOiBib2R5LnRhZyB9IH1cclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKCdvcHRpb25zOicsb3B0aW9ucylcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdChvcHRpb25zLCBzb3J0LCBwYWdlLCBsaW1pdClcclxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdC5jb3VudExpc3Qob3B0aW9ucylcclxuXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG1zZzogJ+iOt+WPluaWh+eroOWIl+ihqOaIkOWKnycsXHJcbiAgICAgIHRvdGFsOiB0b3RhbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5p+l6K+i5Y+L6ZO+XHJcbiAgYXN5bmMgZ2V0TGlua3MgKGN0eCkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTGlua3MuZmluZCh7IHR5cGU6ICdsaW5rcycgfSlcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5p+l6K+i5rip6aao5o+Q6YaSXHJcbiAgYXN5bmMgZ2V0VGlwcyAoY3R4KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBMaW5rcy5maW5kKHsgdHlwZTogJ3RpcHMnIH0pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOacrOWRqOeDreiurlxyXG4gIGFzeW5jIGdldFRvcFdlZWsgKGN0eCkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRUb3BXZWVrKClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5LiK5Lyg5Zu+54mH5o6l5Y+jXHJcbiAgYXN5bmMgdXBsb2FkSW1nIChjdHgpIHtcclxuICAgIC8vIGZpbGVz5piv6K+35rGC5a+56LGhLGZpbGXmmK/liY3nq69mb3JtRGF0YeS4rWFwcGVuZOeahOmCo+S4qidmaWxlJ1xyXG4gICAgY29uc3QgZmlsZSA9IGN0eC5yZXF1ZXN0LmZpbGVzLmZpbGVcclxuICAgIC8vIOWPluWbvueJh+WQjeensOOAgeWbvueJh+agvOW8j+OAgeWtmOWCqOS9jee9ruOAgei/lOWbnuWJjeWPsOWPr+S7peivu+WPlueahOi3r+W+hFxyXG4gICAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCkgLy8g5Y+W5Zu+54mH5qC85byPXHJcbiAgICAvLyDmi7zmjqXlrZjlgqjot6/lvoTnm67lvZVcclxuICAgIGNvbnN0IGRpciA9IGAke2NvbmZpZy51cGxvYWRQYXRofS8ke21vbWVudCgpLmZvcm1hdCgnWVlZWU1NREQnKX1gXHJcblxyXG4gICAgLy8g5Yik5pat6Lev5b6E5piv5ZCm5a2Y5ZyoLOS4jeWtmOWcqOWImeWIm+W7ulxyXG4gICAgLy8gYXdhaXQgZGlyRXhpc3RzKGRpcikgIC8vIG1ha2UtZGly5YyF5L2c55So5Li65Yib5bu655uu5b2V6Lev5b6EXHJcbiAgICBhd2FpdCBta2RpcihkaXIpXHJcblxyXG4gICAgLy8g5a2Y5YKo5paH5Lu25Yiw5oyH5a6a6LevLOe7meaWh+S7tuS4gOS4quWUr+S4gOeahOWQjeensFxyXG4gICAgY29uc3QgcGljbmFtZSA9IHV1aWQoKVxyXG4gICAgY29uc3QgZGVzdFBhdGggPSBgJHtkaXJ9LyR7cGljbmFtZX0uJHtleHR9YFxyXG4gICAgY29uc3QgcmVhZGVyID0gZnMuY3JlYXRlUmVhZFN0cmVhbShmaWxlLnBhdGgpIC8vIOivu+aWh+S7tlxyXG4gICAgY29uc3QgdXBTdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShkZXN0UGF0aCkgLy8g5YaZ5paH5Lu2XHJcbiAgICAvLyDov5Tlm57nu5nliY3nq6/nmoTmlofku7bot6/lvoRcclxuICAgIGNvbnN0IGZpbGVQYXRoID0gYC8ke21vbWVudCgpLmZvcm1hdCgnWVlZWU1NREQnKX0vJHtwaWNuYW1lfS4ke2V4dH1gIFxyXG4gICAgXHJcbiAgICAvLyDmlrnms5UxXHJcbiAgICAvLyByZWFkZXIucGlwZSh1cFN0cmVhbSkgLy8g5Yip55So566h6YGT6K+75YaZ5paH5Lu2XHJcblxyXG4gICAgLy8g5pa55rOVMlxyXG4gICAgbGV0IHRvdGFsTGVuZ3RoID0gMFxyXG4gICAgcmVhZGVyLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XHJcbiAgICAgIC8vIOebkeWQrGRhdGHkuovku7Ys5YiG5Z2X6K+75Y+W5paH5Lu2XHJcbiAgICAgIHRvdGFsTGVuZ3RoICs9IGNodW5rLmxlbmd0aFxyXG4gICAgICAvLyDkuIDlnZflnZflhpnlhaVcclxuICAgICAgaWYgKHVwU3RyZWFtLndyaXRlKGNodW5rKSA9PT0gZmFsc2Upe1xyXG4gICAgICAgIC8vIOW9k+WGmeWFpWNodW5r5Li6MOaXtuWImeaWh+S7tuivu+WPlue7k+adnyzlhpnlhaXkuLow5pe26L+U5ZueZmFsc2XlgZzmraLor7vlj5ZcclxuICAgICAgICByZWFkZXIucGF1c2UoKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8g57un57ut6K+75Y+WXHJcbiAgICByZWFkZXIub24oJ2RyYWluJywgKCkgPT4ge1xyXG4gICAgICByZWFkZXIucmVzdW1lKClcclxuICAgIH0pXHJcbiAgICAvLyDnu5PmnZ/lhpnlhaVcclxuICAgIHJlYWRlci5vbignZW5kJywgKCkgPT4ge1xyXG4gICAgICB1cFN0cmVhbS5lbmQoKVxyXG4gICAgfSlcclxuXHJcbiAgICBjdHguYm9keSA9e1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIG1zZzogJ+WbvueJh+S4iuS8oOaIkOWKnycsXHJcbiAgICAgIGRhdGE6IGZpbGVQYXRoXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDlj5HooajmlrDluJZcclxuICBhc3luYyBhZGRQb3N0IChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXHJcbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIFcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgICAvLyDliKTmlq3nlKjmiLfnp6/liIbmlbDmmK/lkKbotrPlpJ9cclxuICAgICAgLy8g55So5oi356ev5YiG6Laz5aSfLOWPkeihqOW4luWtkCzlh4/pmaTnlKjmiLflr7nlupTnp6/liIZcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoe19pZDogb2JqLl9pZH0pXHJcbiAgICAgIGlmICh1c2VyLmZhdnMgPCBib2R5LmZhdikge1xyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogNTAxLFxyXG4gICAgICAgICAgbXNnOiAn56ev5YiG5LiN6LazJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDmiaPpmaTnp6/liIZcclxuICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7X2lkOiBvYmouX2lkfSwgeyAkaW5jOiB7IGZhdnM6IC1ib2R5LmZhdn0gfSlcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBuZXdQb3N0ID0gbmV3IFBvc3QoYm9keSlcclxuICAgICAgLy8g5biW5a2QdWlk562J5LqO5Y+R5biW5Lq655qEX2lkXHJcbiAgICAgIG5ld1Bvc3QudWlkID0gb2JqLl9pZFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdQb3N0LnNhdmUoKVxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn5Y+R5biD5oiQ5YqfJyxcclxuICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g6aqM6K+B5aSx6LSlXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHpqozor4HlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluaWh+eroOivpuaDhVxyXG4gIGFzeW5jIGdldFBvc3REZXRhaWwgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBpZiAoIXBhcmFtcy50aWQpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+aWh+eroGlk5Li656m6J1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZEJ5VGlkKHBhcmFtcy50aWQpXHJcbiAgICBpZiAoIXBvc3QpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICAgIG1zZzogJ+afpeivouaWh+eroOivpuaDheaIkOWKnydcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxldCBpc0ZhdiA9IDAgLy8g5Yik5pat5pS26JeP55qE5Y+Y6YePXHJcbiAgICAvLyDliKTmlq3nlKjmiLfmmK/lkKbkvKDpgJJBdXRob3JpemF0aW9u55qE5pWw5o2u77yM5Y2z5piv5ZCm55m75b2VXHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGVvZiBjdHguaGVhZGVyLmF1dGhvcml6YXRpb24gIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJydcclxuICAgICkge1xyXG4gICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgICAgLy8g5p+l6K+i55So5oi35pS26JeP6K6w5b2VXHJcbiAgICAgIGNvbnN0IHVzZXJDb2xsZWN0ID0gYXdhaXQgVXNlckNvbGxlY3QuZmluZE9uZSh7XHJcbiAgICAgICAgdWlkOiBvYmouX2lkLFxyXG4gICAgICAgIHRpZDogcGFyYW1zLnRpZFxyXG4gICAgICB9KVxyXG4gICAgICAvLyDlpoLmnpzmnInmlLbol4/orrDlvZXliJlpc0Zhdue9ruS4ujFcclxuICAgICAgaWYgKHVzZXJDb2xsZWN0ICYmIHVzZXJDb2xsZWN0LnRpZCkge1xyXG4gICAgICAgIGlzRmF2ID0gMVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdQb3N0ID0gcG9zdC50b0pTT04oKVxyXG4gICAgbmV3UG9zdC5pc0ZhdiA9IGlzRmF2XHJcbiAgICAvLyDmm7TmlrDmlofnq6DpmIXor7vorrDmlbBcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKFxyXG4gICAgICB7IF9pZDogcGFyYW1zLnRpZCB9LFxyXG4gICAgICB7ICRpbmM6IHsgcmVhZHM6IDEgfSB9XHJcbiAgICApXHJcbiAgICBpZiAocG9zdC5faWQgJiYgcmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiBuZXdQb3N0LFxyXG4gICAgICAgIG1zZzogJ+afpeivouaWh+eroOivpuaDheaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+iOt+WPluaWh+eroOivpuaDheWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZE9uZSh7IF9pZDogcGFyYW1zLnRpZCB9KVxyXG4gICAgLy8gY29uc3QgcmVzdWx0ID0gcmVuYW1lKHBvc3QudG9KU09OKCksICd1aWQnLCAndXNlcicpXHJcbiAgfVxyXG5cclxuICAvLyDmm7TmlrDluJblrZBcclxuICBhc3luYyB1cGRhdGVQb3N0IChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXHJcblxyXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgICAgLy8g5Yik5pat5biW5a2Q5L2c6ICF5piv5ZCm5Li65pys5Lq6XHJcbiAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IGJvZHkudGlkIH0pXHJcbiAgICAgIC8vIOWIpOaWreW4luWtkOaYr+WQpue7k+i0tFxyXG4gICAgICBpZiAocG9zdC51aWQgPT09IG9iai5faWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XHJcbiAgICAgICAgLy8g5pu05paw5biW5a2QXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoeyBfaWQ6IGJvZHkudGlkIH0sIGJvZHkpXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBtc2c6ICfmm7TmlrDluJblrZDmiJDlip8nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgbXNnOiAn57yW6L6R5biW5a2Q77yM5pu05paw5aSx6LSlJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICAgIG1zZzogJ+W3sue7k+W4lizmsqHmnInmk43kvZznmoTmnYPpmZAnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDlm77niYfpqozor4HnoIHpqozor4HlpLHotKVcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggemqjOivgeWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g566h55CG5pu05paw5biW5a2QXHJcbiAgYXN5bmMgdXBkYXRlUG9zdEJ5VGlkIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHsgX2lkOiBib2R5Ll9pZCB9LCBib2R5KVxyXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIG1zZzogJ+abtOaWsOW4luWtkOaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICBtc2c6ICfnvJbovpHluJblrZAs5pu05paw5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W55So5oi35Y+R5biW6K6w5b2VXHJcbiAgYXN5bmMgZ2V0UG9zdEJ5VWlkIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgLy8g6I635Y+W55So5oi35L+h5oGvXHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIC8vIOafpeivoueUqOaIt+WPkeihqOeahOW4luWtkFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRMaXN0QnlVaWQoXHJcbiAgICAgIG9iai5faWQsXHJcbiAgICAgIHBhcmFtcy5wYWdlLFxyXG4gICAgICBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMTBcclxuICAgIClcclxuICAgIC8vIOe7n+iuoeeUqOaIt+WPkeW4luaAu+aVsFxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50QnlVaWQob2JqLl9pZClcclxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIHRvdGFsLFxyXG4gICAgICAgIG1zZzogJ+afpeivouWIl+ihqOaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+afpeivouWIl+ihqOWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5Yig6Zmk5oyH5a6a5biW5a2QXHJcbiAgYXN5bmMgZGVsZXRlUG9zdEJ5VWlkIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHt1aWQ6IG9iai5faWQsIF9pZDogcGFyYW1zLnRpZH0pXHJcblxyXG4gICAgLy8g5Yik5pat5biW5a2Q5piv5ZCm5bey57uT5biWLOiLpeW3sue7k+W4luWImeS4jeWHhuWIoOmZpFxyXG4gICAgaWYgKHBvc3QuaWQgPT09IHBhcmFtcy50aWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZGVsZXRlT25lKHtfaWQ6IHBhcmFtcy50aWR9KVxyXG4gICAgICBpZiAocmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICBtc2c6ICfliKDpmaTmiJDlip8nXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgbXNnOiAn5omn6KGM5Yig6Zmk5aSx6LSlJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+WIoOmZpOWksei0pSzml6DmnYPpmZAnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFBvc3RQdWJsaWMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3RCeVVpZChcclxuICAgICAgcGFyYW1zLnVpZCxcclxuICAgICAgcGFyYW1zLnBhZ2UsXHJcbiAgICAgIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMFxyXG4gICAgKVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50QnlVaWQocGFyYW1zLnVpZClcclxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIHRvdGFsLFxyXG4gICAgICAgIG1zZzogJ+afpeivouWIl+ihqOaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+afpeivouWIl+ihqOWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g566h55CG5Yig6Zmk5biW5a2QXHJcbiAgYXN5bmMgZGVsZXRlUG9zdCAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZGVsZXRlT25lKHsgX2lkOiBwYXJhbXMudGlkfSlcclxuICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+aJp+ihjOWIoOmZpOWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5qCH562+5YiX6KGoXHJcbiAgYXN5bmMgZ2V0VGFncyAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcnNlSW50KHBhcmFtcy5wYWdlKSA6IDBcclxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0VGFncy5nZXRMaXN0KHt9LCBwYWdlLCBsaW1pdClcclxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdFRhZ3MuY291bnRMaXN0KHt9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICB0b3RhbCxcclxuICAgICAgbXNnOiAn5p+l6K+idGFnc+aIkOWKn++8gSdcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOa3u+WKoOagh+etvlxyXG4gIGFzeW5jIGFkZFRhZyAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCB0YWcgPSBuZXcgUG9zdFRhZ3MoYm9keSlcclxuICAgIGF3YWl0IHRhZy5zYXZlKClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIG1zZzogJ+agh+etvuS/neWtmOaIkOWKnydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOWIoOmZpOagh+etvlxyXG4gIGFzeW5jIHJlbW92ZVRhZyAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3RUYWdzLmRlbGV0ZU9uZSh7IF9pZDogcGFyYW1zLnB0aWQgfSlcclxuXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZVRhZyAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0VGFncy51cGRhdGVPbmUoXHJcbiAgICAgIHsgX2lkOiBib2R5Ll9pZCB9LFxyXG4gICAgICBib2R5XHJcbiAgICApXHJcblxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICBtc2c6ICfmm7TmlrDmiJDlip8nXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29udGVudENvbnRyb2xsZXIoKVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/ContentController.js\n");

/***/ }),

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n    console.log(body);\n\n    try {\n      // body.username -> database -> email\n      let result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        code: '1234',\n        expire: moment__WEBPACK_IMPORTED_MODULE_1___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: 'Brian'\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件发送成功'\n      };\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async login(ctx) {\n    // 接收用户数据\n    // 验证图片验证码时效性、正确性\n    // 验证用户账号密码是否正确\n    // 返回token\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid; // 前端传递sid查找对应验证码\n\n    let code = body.code; // 校验验证码\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      // 验证用户账号密码是否正确\n      console.log('check ok');\n      let checkUserPassWd = false; // mongoDB查库\n\n      let user = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      }); // 校验密码\n\n      if (await bcryptjs__WEBPACK_IMPORTED_MODULE_6___default.a.compare(body.password, user.password)) {\n        checkUserPassWd = true;\n      }\n\n      if (checkUserPassWd) {\n        // 验证通过,返回token数据\n        console.log('hello login');\n        const userObj = user.toJSON(); // 不想传回前端的数据\n\n        const arr = ['password', 'username']; // 删除数据\n\n        arr.map(item => {\n          delete userObj[item];\n        }); // exp 设置token过期时间\n        // let token = jsonwebtoken.sign({_id:'brian', exp: Math.floor(Date.now() / 1000) + 60 * 60 *24}, config.JWT_SECRET)\n\n        let token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n          _id: userObj._id\n        }, _config_index__WEBPACK_IMPORTED_MODULE_3__[\"default\"].JWT_SECRET, {\n          expiresIn: '1d' // 另一种设置过期时间方法,1d为1天\n\n        }); // 加入isSign属性\n\n        const signRecord = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByUid(userObj._id);\n\n        if (signRecord !== null) {\n          // 有签到记录,判断今天是否签到了\n          if (moment__WEBPACK_IMPORTED_MODULE_1___default()(signRecord.created).format('YYYY-MM-DD') === moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD')) {\n            // 今天已经签到\n            userObj.isSign = true;\n          } else {\n            // 今天没签到\n            userObj.isSign = false;\n          }\n\n          userObj.lastSign = signRecord.created;\n        } else {\n          // 用户无签到记录\n          userObj.isSign = false;\n        }\n\n        ctx.body = {\n          code: 200,\n          data: userObj,\n          token: token\n        };\n      } else {\n        // 用户名、密码验证失败,返回提示\n        ctx.body = {\n          code: 404,\n          msg: '用户名或密码错误'\n        };\n      }\n    } else {\n      // 图片验证码校验失败\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确,请检查'\n      };\n    } // console.log('hello login')\n\n  }\n\n  async reg(ctx) {\n    // 接收客户端数据\n    const {\n      body\n    } = ctx.request; // 校验验证码 时效性、有效性\n\n    let sid = body.sid;\n    let code = body.code;\n    let msg = {}; // 验证图片验证码时效性\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n    let check = true;\n\n    if (result) {\n      // 查库 看username、name是否被注册\n      let user1 = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (user1 !== null && typeof user1.username !== 'undefined') {\n        msg.username = ['此邮箱已被注册,可以通过邮箱找回密码'];\n        check = false;\n      }\n\n      let user2 = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n        name: body.name\n      });\n\n      if (user2 !== null && typeof user2.name !== 'undefined') {\n        msg.name = ['此昵称已被注册,请修改'];\n        check = false;\n      } // 写入数据到数据库\n\n\n      if (check) {\n        // 密码加密存储\n        body.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_6___default.a.hash(body.password, 5);\n        let user = new _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n          username: body.username,\n          name: body.name,\n          password: body.password,\n          created: moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss')\n        }); // 存储\n\n        let result = await user.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '注册成功'\n        };\n        return;\n      }\n    } else {\n      // 给veevalidate显示的错误\n      msg.code = ['验证码已失效,请重新获取'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg: msg\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZm9yZ2V0IiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0Iiwic2VuZCIsImNvZGUiLCJleHBpcmUiLCJtb21lbnQiLCJhZGQiLCJmb3JtYXQiLCJlbWFpbCIsInVzZXJuYW1lIiwidXNlciIsImRhdGEiLCJtc2ciLCJlIiwibG9naW4iLCJzaWQiLCJjaGVja0NvZGUiLCJjaGVja1VzZXJQYXNzV2QiLCJVc2VyIiwiZmluZE9uZSIsImJjcnlwdGpzIiwiY29tcGFyZSIsInBhc3N3b3JkIiwidXNlck9iaiIsInRvSlNPTiIsImFyciIsIm1hcCIsIml0ZW0iLCJ0b2tlbiIsImpzb253ZWJ0b2tlbiIsInNpZ24iLCJfaWQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwic2lnblJlY29yZCIsIlNpZ25SZWNvcmQiLCJmaW5kQnlVaWQiLCJjcmVhdGVkIiwiaXNTaWduIiwibGFzdFNpZ24iLCJyZWciLCJjaGVjayIsInVzZXIxIiwidXNlcjIiLCJuYW1lIiwiaGFzaCIsInNhdmUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsZUFBTixDQUFzQjtBQUNwQkMsYUFBVyxHQUFHLENBQUU7O0FBQ2hCLFFBQU1DLE1BQU4sQ0FBY0MsR0FBZCxFQUFtQjtBQUNqQixVQUFNO0FBQUVDO0FBQUYsUUFBV0QsR0FBRyxDQUFDRSxPQUFyQjtBQUNBQyxXQUFPLENBQUNDLEdBQVIsQ0FBWUgsSUFBWjs7QUFFQSxRQUFJO0FBQ0Y7QUFDQSxVQUFJSSxNQUFNLEdBQUcsTUFBTUMsa0VBQUks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Q1RNLFVBQUksRUFBRSxHQURHO0FBRVRTLFNBQUcsRUFBRUE7QUFGSSxLQUFYO0FBSUQ7O0FBOUptQjs7QUFpS1AsbUVBQUluQixlQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZW5kIGZyb20gJy4uL2NvbmZpZy9NYWlsQ29uZmlnJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXG5pbXBvcnQganNvbndlYnRva2VuIGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4J1xuaW1wb3J0IHsgY2hlY2tDb2RlIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWwvVXNlcidcbmltcG9ydCBiY3J5cHRqcyBmcm9tICdiY3J5cHRqcydcbmltcG9ydCBTaWduUmVjb3JkIGZyb20gJy4uL21vZGVsL1NpZ25SZWNvcmQnXG5cbmNsYXNzIExvZ2luQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgYXN5bmMgZm9yZ2V0IChjdHgpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgY29uc29sZS5sb2coYm9keSlcbiAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIGJvZHkudXNlcm5hbWUgLT4gZGF0YWJhc2UgLT4gZW1haWxcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBzZW5kKHtcbiAgICAgICAgY29kZTogJzEyMzQnLFxuICAgICAgICBleHBpcmU6IG1vbWVudCgpXG4gICAgICAgICAgLmFkZCgzMCwgJ21pbnV0ZXMnKVxuICAgICAgICAgIC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcbiAgICAgICAgZW1haWw6IGJvZHkudXNlcm5hbWUsXG4gICAgICAgIHVzZXI6ICdCcmlhbicsXG4gICAgICB9KVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICBtc2c6ICfpgq7ku7blj5HpgIHmiJDlip8nLFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9naW4gKGN0eCkge1xuICAgIC8vIOaOpeaUtueUqOaIt+aVsOaNrlxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeaXtuaViOaAp+OAgeato+ehruaAp1xuICAgIC8vIOmqjOivgeeUqOaIt+i0puWPt+WvhueggeaYr+WQpuato+ehrlxuICAgIC8vIOi/lOWbnnRva2VuXG5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgbGV0IHNpZCA9IGJvZHkuc2lkIC8vIOWJjeerr+S8oOmAknNpZOafpeaJvuWvueW6lOmqjOivgeeggVxuICAgIGxldCBjb2RlID0gYm9keS5jb2RlXG4gICAgXG4gICAgLy8g5qCh6aqM6aqM6K+B56CBXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXG4gICAgXG4gICAgaWYocmVzdWx0KXtcbiAgICAgIC8vIOmqjOivgeeUqOaIt+i0puWPt+WvhueggeaYr+WQpuato+ehrlxuICAgICAgY29uc29sZS5sb2coJ2NoZWNrIG9rJylcbiAgICAgIGxldCBjaGVja1VzZXJQYXNzV2QgPSBmYWxzZVxuICAgICAgLy8gbW9uZ29EQuafpeW6k1xuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe3VzZXJuYW1lOiBib2R5LnVzZXJuYW1lfSlcbiAgICAgIC8vIOagoemqjOWvhueggVxuICAgICAgaWYoYXdhaXQgYmNyeXB0anMuY29tcGFyZShib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSl7XG4gICAgICAgIGNoZWNrVXNlclBhc3NXZCA9IHRydWVcbiAgICAgIH1cbiAgICAgIGlmKGNoZWNrVXNlclBhc3NXZCl7XG4gICAgICAgIC8vIOmqjOivgemAmui/hyzov5Tlm550b2tlbuaVsOaNrlxuICAgICAgICBjb25zb2xlLmxvZygnaGVsbG8gbG9naW4nKVxuXG4gICAgICAgIGNvbnN0IHVzZXJPYmogPSB1c2VyLnRvSlNPTigpXG4gICAgICAgIC8vIOS4jeaDs+S8oOWbnuWJjeerr+eahOaVsOaNrlxuICAgICAgICBjb25zdCBhcnIgPSBbJ3Bhc3N3b3JkJywgJ3VzZXJuYW1lJ11cbiAgICAgICAgLy8g5Yig6Zmk5pWw5o2uXG4gICAgICAgIGFyci5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICBkZWxldGUgdXNlck9ialtpdGVtXVxuICAgICAgICB9KVxuICAgICAgICAvLyBleHAg6K6+572udG9rZW7ov4fmnJ/ml7bpl7RcbiAgICAgICAgLy8gbGV0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oe19pZDonYnJpYW4nLCBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCAqMjR9LCBjb25maWcuSldUX1NFQ1JFVClcbiAgICAgICAgbGV0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oe19pZDogdXNlck9iai5faWR9LCBjb25maWcuSldUX1NFQ1JFVCwge1xuICAgICAgICAgIGV4cGlyZXNJbjogJzFkJyAvLyDlj6bkuIDnp43orr7nva7ov4fmnJ/ml7bpl7Tmlrnms5UsMWTkuLox5aSpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8g5Yqg5YWlaXNTaWdu5bGe5oCnXG4gICAgICAgIGNvbnN0IHNpZ25SZWNvcmQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmRCeVVpZCh1c2VyT2JqLl9pZClcbiAgICAgICAgaWYgKHNpZ25SZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyDmnInnrb7liLDorrDlvZUs5Yik5pat5LuK5aSp5piv5ZCm562+5Yiw5LqGXG4gICAgICAgICAgaWYgKG1vbWVudChzaWduUmVjb3JkLmNyZWF0ZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSkge1xuICAgICAgICAgICAgLy8g5LuK5aSp5bey57uP562+5YiwXG4gICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5LuK5aSp5rKh562+5YiwXG4gICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIHVzZXJPYmoubGFzdFNpZ24gPSBzaWduUmVjb3JkLmNyZWF0ZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDnlKjmiLfml6Dnrb7liLDorrDlvZVcbiAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YTogdXNlck9iaixcbiAgICAgICAgICB0b2tlbjogdG9rZW5cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g55So5oi35ZCN44CB5a+G56CB6aqM6K+B5aSx6LSlLOi/lOWbnuaPkOekulxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgbXNnOiAn55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vJ1xuICAgICAgICB9XG4gICAgICB9ICBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5Zu+54mH6aqM6K+B56CB5qCh6aqM5aSx6LSlXG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHkuI3mraPnoa4s6K+35qOA5p+lJ1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygnaGVsbG8gbG9naW4nKVxuICB9XG5cbiAgYXN5bmMgcmVnIChjdHgpIHtcbiAgICAvLyDmjqXmlLblrqLmiLfnq6/mlbDmja5cbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XG4gICAgLy8g5qCh6aqM6aqM6K+B56CBIOaXtuaViOaAp+OAgeacieaViOaAp1xuICAgIGxldCBzaWQgPSBib2R5LnNpZFxuICAgIGxldCBjb2RlID0gYm9keS5jb2RlXG4gICAgbGV0IG1zZyA9IHt9XG5cbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHml7bmlYjmgKdcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcbiAgICBsZXQgY2hlY2sgPSB0cnVlXG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAvLyDmn6XlupMg55yLdXNlcm5hbWXjgIFuYW1l5piv5ZCm6KKr5rOo5YaMXG4gICAgICBsZXQgdXNlcjEgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe3VzZXJuYW1lOiBib2R5LnVzZXJuYW1lfSlcbiAgICAgIGlmICh1c2VyMSAhPT0gbnVsbCAmJiB0eXBlb2YgdXNlcjEudXNlcm5hbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1zZy51c2VybmFtZSA9IFsn5q2k6YKu566x5bey6KKr5rOo5YaMLOWPr+S7pemAmui/h+mCrueuseaJvuWbnuWvhueggSddXG4gICAgICAgIGNoZWNrID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgbGV0IHVzZXIyID0gYXdhaXQgVXNlci5maW5kT25lKHtuYW1lOiBib2R5Lm5hbWV9KVxuICAgICAgaWYgKHVzZXIyICE9PSBudWxsICYmIHR5cGVvZiB1c2VyMi5uYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtc2cubmFtZSA9IFsn5q2k5pi156ew5bey6KKr5rOo5YaMLOivt+S/ruaUuSddXG4gICAgICAgIGNoZWNrID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgLy8g5YaZ5YWl5pWw5o2u5Yiw5pWw5o2u5bqTXG4gICAgICBpZiAoY2hlY2spIHtcbiAgICAgICAgLy8g5a+G56CB5Yqg5a+G5a2Y5YKoXG4gICAgICAgIGJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHRqcy5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXG4gICAgICAgIGxldCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lLFxuICAgICAgICAgIG5hbWU6IGJvZHkubmFtZSxcbiAgICAgICAgICBwYXNzd29yZDogYm9keS5wYXNzd29yZCxcbiAgICAgICAgICBjcmVhdGVkOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxuICAgICAgICB9KVxuICAgICAgICAvLyDlrZjlgqhcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHVzZXIuc2F2ZSgpXG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgbXNnOiAn5rOo5YaM5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyDnu5l2ZWV2YWxpZGF0ZeaYvuekuueahOmUmeivr1xuICAgICAgbXNnLmNvZGUgPSBbJ+mqjOivgeeggeW3suWkseaViCzor7fph43mlrDojrflj5YnXVxuICAgIH1cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDUwMCxcbiAgICAgIG1zZzogbXNnXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n\n\n\nclass PublicController {\n  constructor() {} // 获取验证码\n\n\n  async getCaptcha(ctx) {\n    const body = ctx.request.query; // sid为前端生成的唯一标识符，与验证码一起存入redis方便校验验证码\n\n    console.log(body.sid);\n    const newCaptca = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      size: 4,\n      // 验证码长度\n      ignoreChars: '0o1il',\n      // 忽略指定数字字符\n      color: true,\n      // 有颜色\n      noise: Math.floor(Math.random() * 5),\n      // 干扰线\n      width: 150,\n      // 图片宽度\n      height: 38 // 图片长度\n\n    }); // 把验证码和对应标识符存储到redis中,并设置超时时间为10分钟\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"setValue\"])(body.sid, newCaptca.text, 10 * 60);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJuYW1lcyI6WyJQdWJsaWNDb250cm9sbGVyIiwiY29uc3RydWN0b3IiLCJnZXRDYXB0Y2hhIiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJxdWVyeSIsImNvbnNvbGUiLCJsb2ciLCJzaWQiLCJuZXdDYXB0Y2EiLCJzdmdDYXB0Y2hhIiwiY3JlYXRlIiwic2l6ZSIsImlnbm9yZUNoYXJzIiwiY29sb3IiLCJub2lzZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0VmFsdWUiLCJ0ZXh0IiwiY29kZSIsImRhdGEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFDQSxNQUFNQSxnQkFBTixDQUF1QjtBQUNyQkMsYUFBVyxHQUFHLENBQUUsQ0FESyxDQUVyQjs7O0FBQ0EsUUFBTUMsVUFBTixDQUFpQkMsR0FBakIsRUFBc0I7QUFDcEIsVUFBTUMsSUFBSSxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBekIsQ0FEb0IsQ0FFcEI7O0FBQ0FDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZSixJQUFJLENBQUNLLEdBQWpCO0FBQ0EsVUFBTUMsU0FBUyxHQUFHQyxrREFBVSxDQUFDQyxNQUFYLENBQWtCO0FBQ2xDQyxVQUFJLEVBQUUsQ0FENEI7QUFDekI7QUFDVEMsaUJBQVcsRUFBRSxPQUZxQjtBQUVaO0FBQ3RCQyxXQUFLLEVBQUUsSUFIMkI7QUFHckI7QUFDYkMsV0FBSyxFQUFFQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCLENBQTNCLENBSjJCO0FBSUk7QUFDdENDLFdBQUssRUFBRSxHQUwyQjtBQUt0QjtBQUNaQyxZQUFNLEVBQUUsRUFOMEIsQ0FNdEI7O0FBTnNCLEtBQWxCLENBQWxCLENBSm9CLENBWXBCOztBQUNBQyx3RUFBUSxDQUFDbEIsSUFBSSxDQUFDSyxHQUFOLEVBQVdDLFNBQVMsQ0FBQ2EsSUFBckIsRUFBMkIsS0FBSyxFQUFoQyxDQUFSO0FBRUFwQixPQUFHLENBQUNDLElBQUosR0FBVztBQUNUb0IsVUFBSSxFQUFFLEdBREc7QUFFVEMsVUFBSSxFQUFFZixTQUFTLENBQUNlO0FBRlAsS0FBWDtBQUlEOztBQXRCb0I7O0FBeUJSLG1FQUFJekIsZ0JBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvUHVibGljQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdmdDYXB0Y2hhIGZyb20gJ3N2Zy1jYXB0Y2hhJ1xuaW1wb3J0IHsgZ2V0VmFsdWUsIHNldFZhbHVlIH0gZnJvbSAnLi4vY29uZmlnL1JlZGlzQ29uZmlnJ1xuY2xhc3MgUHVibGljQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgLy8g6I635Y+W6aqM6K+B56CBXG4gIGFzeW5jIGdldENhcHRjaGEoY3R4KSB7XG4gICAgY29uc3QgYm9keSA9IGN0eC5yZXF1ZXN0LnF1ZXJ5XG4gICAgLy8gc2lk5Li65YmN56uv55Sf5oiQ55qE5ZSv5LiA5qCH6K+G56ym77yM5LiO6aqM6K+B56CB5LiA6LW35a2Y5YWlcmVkaXPmlrnkvr/moKHpqozpqozor4HnoIFcbiAgICBjb25zb2xlLmxvZyhib2R5LnNpZClcbiAgICBjb25zdCBuZXdDYXB0Y2EgPSBzdmdDYXB0Y2hhLmNyZWF0ZSh7XG4gICAgICBzaXplOiA0LCAvLyDpqozor4HnoIHplb/luqZcbiAgICAgIGlnbm9yZUNoYXJzOiAnMG8xaWwnLCAvLyDlv73nlaXmjIflrprmlbDlrZflrZfnrKZcbiAgICAgIGNvbG9yOiB0cnVlLCAvLyDmnInpopzoibJcbiAgICAgIG5vaXNlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSwgLy8g5bmy5omw57q/XG4gICAgICB3aWR0aDogMTUwLCAvLyDlm77niYflrr3luqZcbiAgICAgIGhlaWdodDogMzgsIC8vIOWbvueJh+mVv+W6plxuICAgIH0pXG4gICAgLy8g5oqK6aqM6K+B56CB5ZKM5a+55bqU5qCH6K+G56ym5a2Y5YKo5YiwcmVkaXPkuK0s5bm26K6+572u6LaF5pe25pe26Ze05Li6MTDliIbpkp9cbiAgICBzZXRWYWx1ZShib2R5LnNpZCwgbmV3Q2FwdGNhLnRleHQsIDEwICogNjApXG5cbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IG5ld0NhcHRjYS5kYXRhLFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHVibGljQ29udHJvbGxlcigpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/api/UserController.js":
/*!***********************************!*\
  !*** ./src/api/UserController.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid/v4 */ \"uuid/v4\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass UserController {\n  // 用户签到接口\n  async userSign(ctx) {\n    // 从token取用户ID,jsonwebtoken返回一个promise对象\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization); // 查询用户上一次签到记录\n\n    const record = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByUid(obj._id);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n    let result = '';\n    let newRecord = {}; // 判断签到逻辑\n\n    if (record !== null) {\n      // 有历史签到数据\n      // 判断用户上一次签到记录的created时间是否与今天相同\n      // 如果相同代表用户在连续签到\n      // 如果当前时间的日期与用户上一次签到日期相同,说明用户已经签到\n      if (dayjs__WEBPACK_IMPORTED_MODULE_5___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_5___default()().format('YYYY-MM-DD')) {\n        ctx.body = {\n          code: 500,\n          favs: user.favs,\n          count: user.count,\n          lastSign: record.created,\n          msg: '用户已经签到'\n        };\n        return;\n      } else {\n        // 有上一次的签到记录,并且不与今天相同,进行连续签到的判断\n        // 如果相同,代表用户在连续签到\n        let count = user.count;\n        let fav = 0; // 判断连续签到: 用户上一次签到时间等于当前时间的前一天,说明在连续签到\n        // moment().subtract(1, 'days').format('YYYY-MM-DD') 取昨天的日期\n\n        if (dayjs__WEBPACK_IMPORTED_MODULE_5___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_5___default()().subtract(1, 'days').format('YYYY-MM-DD')) {\n          // 连续签到积分获得逻辑\n          count += 1;\n\n          if (count < 5) {\n            fav = 5;\n          } else if (count >= 5 && count < 15) {\n            fav = 10;\n          } else if (count >= 15 && count < 30) {\n            fav = 15;\n          } else if (count >= 30 && count < 100) {\n            fav = 20;\n          } else if (count >= 100 && count < 365) {\n            fav = 30;\n          } else if (count >= 365) {\n            fav = 50;\n          } // 更新用户表数据\n\n\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $inc: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: user.count + 1\n          };\n        } else {\n          // 用户中断了签到\n          fav = 5;\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $set: {\n              count: 1\n            },\n            $inc: {\n              favs: fav\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: 1\n          };\n        } // 更新签到记录,每次签到就存入一条签到记录\n\n\n        newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n          uid: obj._id,\n          favs: fav\n        });\n        await newRecord.save();\n      }\n    } else {\n      // 无签到数据 -> 第一次签到\n      // 保存用户的签到数据  签到次数 + 积分数据\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        // count为连续签到次数\n        $set: {\n          count: 1\n        },\n        // 将User模型中的count设为1\n        $inc: {\n          favs: 5\n        } // 将User模型中的favs加5\n\n      }); // 保存用户的签到记录\n\n      newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        uid: obj._id,\n        favs: 5\n      });\n      await newRecord.save();\n      result = {\n        favs: user.favs + 5,\n        count: 1\n      };\n    }\n\n    ctx.body = {\n      code: 200,\n      msg: '请求成功',\n      ...result,\n      lastSign: newRecord.created\n    };\n  } // 更新用户基本信息接口\n\n\n  async updateUserInfo(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization); // 判断用户是否修改了邮箱\n\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n    let msg = '';\n\n    if (body.username && body.username !== user.username) {\n      // 用户修改了邮箱\n      // 发送reset邮件\n      // 判断用户新邮箱是否已经被注册\n      const tmpUser = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (tmpUser && tmpUser.password) {\n        ctx.body = {\n          code: 501,\n          msg: '邮箱已经被注册了'\n        };\n        return;\n      }\n\n      const key = uuid_v4__WEBPACK_IMPORTED_MODULE_7___default()(); // redis存储key值 30分钟过期\n\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_8___default.a.sign({\n        _id: obj._id\n      }, _config_index__WEBPACK_IMPORTED_MODULE_10__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m' // 30分钟过期\n\n      }));\n      const result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n        type: 'email',\n        data: {\n          key: key,\n          username: body.username\n        },\n        code: '',\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_5___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: user.name\n      });\n      msg = '更新基本资料成功,账号修改需要确认邮件,请查收邮件';\n    } // 更新除username外的其他数据\n\n\n    const arr = ['username', 'password', 'mobile']; // 排除掉username\n\n    arr.map(item => {\n      delete body[item];\n    });\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: obj._id\n    }, body);\n\n    if (result.n === 1 && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: msg === '' ? '更新成功' : msg\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新失败'\n      };\n    }\n  } // 更新用户名\n\n\n  async updateUsername(ctx) {\n    const body = ctx.query;\n\n    if (body.key) {\n      const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"getValue\"])(body.key);\n      const obj = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])('Bearer ' + token);\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        username: body.username\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户名成功'\n      };\n    }\n  } // 修改密码接口\n\n\n  async changePasswd(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n\n    if (await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.compare(body.oldpwd, user.password)) {\n      const newpasswd = await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.hash(body.newpwd, 5); // 更新密码\n\n      const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          password: newpasswd\n        }\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新密码成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '密码错误,请检查!'\n      };\n    }\n  } // 设置/取消收藏\n\n\n  async setCollect(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n\n    if (parseInt(params.isFav)) {\n      // 说明用户已经收藏了帖子\n      await _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"].deleteOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n      ctx.body = {\n        code: 200,\n        msg: '取消收藏成功'\n      };\n    } else {\n      // 首次收藏\n      const newCollect = new _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n        uid: obj._id,\n        tid: params.tid,\n        title: params.title\n      });\n      const result = await newCollect.save(); // 保存成功\n\n      if (result.uid) {\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '收藏成功'\n        };\n      }\n    }\n  } // 获取收藏列表\n\n\n  async getCollectByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n    const result = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_4__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 获取用户基本信息\n\n\n  async getBasicInfo(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n    const uid = params.uid || ctx._id;\n    let user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(uid || obj._id); // 取得用户的签到记录 看日期有没有大于今天 0:00:00 的\n\n    user = user.toJSON();\n    const date = dayjs__WEBPACK_IMPORTED_MODULE_5___default()().format('YYYY-MM-DD');\n    const result = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: uid,\n      created: {\n        $gte: date + ' 00:00:00'\n      }\n    });\n\n    if (result && result.uid) {\n      user.isSign = true;\n    } else {\n      user.isSign = false;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: user,\n      msg: '查询成功！'\n    };\n  } // 获取消息,记录评论之后给作者发送消息\n\n\n  async getMsg(ctx) {\n    const params = ctx.query;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization); // 获取历史消息\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getMsgList(obj._id, page, limit); // 有多少未读消息\n\n    const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTotal(obj._id);\n    ctx.body = {\n      code: 200,\n      data: result,\n      total: num\n    };\n  } // 设置消息已读\n\n\n  async setMsg(ctx) {\n    const params = ctx.query; // 判断有无传id,有则设置一条消息已读,无则所有消息已读\n\n    if (params.id) {\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateOne({\n        _id: params.id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    } else {\n      // 设置所有消息\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(ctx.header.authorization);\n      const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateMany({\n        uid: obj._id\n      }, {\n        isRead: '1'\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200\n        };\n      }\n    }\n  } // 管理获取用户列表\n\n\n  async getUsers(ctx) {\n    let params = ctx.query;\n    params = qs__WEBPACK_IMPORTED_MODULE_12___default.a.parse(params);\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0;\n    const sort = params.sort || 'created';\n    const option = params.option || {};\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getList(option, sort, page, limit);\n    const total = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countList(option);\n    ctx.body = {\n      code: 200,\n      data: result,\n      total: total\n    };\n  } // 管理更新用户信息\n\n\n  async updateUserById(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: body._id\n    }); // 1.校验用户是否存在 -> 用户名是否冲突\n\n    if (!user) {\n      ctx.body = {\n        code: 500,\n        msg: '用户不存在或者id信息错误！'\n      };\n      return;\n    } // 2.判断密码是否传递 -> 进行加密保存\n\n\n    if (body.password) {\n      body.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.hash(body.password, 5);\n    }\n\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: body._id\n    }, body);\n\n    if (result.ok === 1 && result.nModified === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '更新成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务异常，更新失败'\n      };\n    }\n  } // 管理删除用户信息\n\n\n  async deleteUserById(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: body.ids\n    });\n\n    if (user) {\n      const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteOne({\n        _id: body.ids\n      });\n      ctx.body = {\n        code: 200,\n        msg: '删除成功',\n        data: result\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '用户不存在或id错误'\n      };\n    }\n  } // 校验用户名是否冲突\n\n\n  async checkUsername(ctx) {\n    const params = ctx.query;\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      username: params.username\n    }); // 默认为1,  1-校验通过 0-校验失败\n\n    let result = 1;\n\n    if (user) {\n      result = 0;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '成功校验'\n    };\n  } // 管理添加用户\n\n\n  async addUser(ctx) {\n    const {\n      body\n    } = ctx.request;\n    body.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_11___default.a.hash(body.password, 5);\n    const user = new _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"](body);\n    const result = await user.save();\n    const userObj = result.toJSON();\n    const arr = ['password']; // 返回数据去掉密码\n\n    arr.map(item => {\n      delete userObj[item];\n    });\n\n    if (result) {\n      ctx.body = {\n        code: 200,\n        data: userObj,\n        msg: '添加用户成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '服务接口异常'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UserController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzP2I5YWYiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJ1c2VyU2lnbiIsImN0eCIsIm9iaiIsImdldEpXdFBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwicmVjb3JkIiwiU2lnblJlY29yZCIsImZpbmRCeVVpZCIsIl9pZCIsInVzZXIiLCJVc2VyIiwiZmluZEJ5SUQiLCJyZXN1bHQiLCJuZXdSZWNvcmQiLCJtb21lbnQiLCJjcmVhdGVkIiwiZm9ybWF0IiwiYm9keSIsImNvZGUiLCJmYXZzIiwiY291bnQiLCJsYXN0U2lnbiIsIm1zZyIsImZhdiIsInN1YnRyYWN0IiwidXBkYXRlT25lIiwiJGluYyIsIiRzZXQiLCJ1aWQiLCJzYXZlIiwidXBkYXRlVXNlckluZm8iLCJyZXF1ZXN0IiwiZmluZE9uZSIsInVzZXJuYW1lIiwidG1wVXNlciIsInBhc3N3b3JkIiwia2V5IiwidXVpZCIsInNldFZhbHVlIiwiand0Iiwic2lnbiIsImNvbmZpZyIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJzZW5kIiwidHlwZSIsImRhdGEiLCJleHBpcmUiLCJhZGQiLCJlbWFpbCIsIm5hbWUiLCJhcnIiLCJtYXAiLCJpdGVtIiwibiIsIm9rIiwidXBkYXRlVXNlcm5hbWUiLCJxdWVyeSIsInRva2VuIiwiZ2V0VmFsdWUiLCJjaGFuZ2VQYXNzd2QiLCJiY3J5cHRqcyIsImNvbXBhcmUiLCJvbGRwd2QiLCJuZXdwYXNzd2QiLCJoYXNoIiwibmV3cHdkIiwic2V0Q29sbGVjdCIsInBhcmFtcyIsInBhcnNlSW50IiwiaXNGYXYiLCJVc2VyQ29sbGVjdCIsImRlbGV0ZU9uZSIsInRpZCIsIm5ld0NvbGxlY3QiLCJ0aXRsZSIsImdldENvbGxlY3RCeVVpZCIsImdldExpc3RCeVVpZCIsInBhZ2UiLCJsaW1pdCIsInRvdGFsIiwiY291bnRCeVVpZCIsImxlbmd0aCIsImdldEJhc2ljSW5mbyIsInRvSlNPTiIsImRhdGUiLCIkZ3RlIiwiaXNTaWduIiwiZ2V0TXNnIiwiQ29tbWVudHMiLCJnZXRNc2dMaXN0IiwibnVtIiwiZ2V0VG90YWwiLCJzZXRNc2ciLCJpZCIsImlzUmVhZCIsInVwZGF0ZU1hbnkiLCJnZXRVc2VycyIsInFzIiwicGFyc2UiLCJzb3J0Iiwib3B0aW9uIiwiZ2V0TGlzdCIsImNvdW50TGlzdCIsInVwZGF0ZVVzZXJCeUlkIiwibk1vZGlmaWVkIiwiZGVsZXRlVXNlckJ5SWQiLCJpZHMiLCJjaGVja1VzZXJuYW1lIiwiYWRkVXNlciIsInVzZXJPYmoiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsY0FBTixDQUFxQjtBQUNuQjtBQUNBLFFBQU1DLFFBQU4sQ0FBZ0JDLEdBQWhCLEVBQXFCO0FBQ25CO0FBQ0EsVUFBTUMsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUFaLENBQS9CLENBRm1CLENBSW5COztBQUNBLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyx5REFBVSxDQUFDQyxTQUFYLENBQXFCTixHQUFHLENBQUNPLEdBQXpCLENBQXJCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNDLFFBQUwsQ0FBY1YsR0FBRyxDQUFDTyxHQUFsQixDQUFuQjtBQUVBLFFBQUlJLE1BQU0sR0FBRyxFQUFiO0FBQ0EsUUFBSUMsU0FBUyxHQUFHLEVBQWhCLENBVG1CLENBV25COztBQUNBLFFBQUlSLE1BQU0sS0FBSyxJQUFmLEVBQXFCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBRUEsVUFBSVMsNENBQU0sQ0FBQ1QsTUFBTSxDQUFDVSxPQUFSLENBQU4sQ0FBdUJDLE1BQXZCLENBQThCLFlBQTlCLE1BQWdERiw0Q0FBTSxHQUFHRSxNQUFULENBQWdCLFlBQWhCLENBQXBELEVBQW1GO0FBQ2pGaEIsV0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1RDLGNBQUksRUFBRSxHQURHO0FBRVRDLGNBQUksRUFBRVYsSUFBSSxDQUFDVSxJQUZGO0FBR1RDLGVBQUssRUFBRVgsSUFBSSxDQUFDVyxLQUhIO0FBSVRDLGtCQUFRLEVBQUVoQixNQUFNLENBQUNVLE9BSlI7QUFLVE8sYUFBRyxFQUFFO0FBTEksU0FBWDtBQU9BO0FBQ0QsT0FURCxNQVNPO0FBQ0w7QUFDQTtBQUNBLFlBQUlGLEtBQUssR0FBR1gsSUFBSSxDQUFDVyxLQUFqQjtBQUNBLFlBQUlHLEdBQUcsR0FBRyxDQUFWLENBSkssQ0FNTDtBQUNBOztBQUNBLFlBQUlULDRDQUFNLENBQUNULE1BQU0sQ0FBQ1UsT0FBUixDQUFOLENBQXVCQyxNQUF2QixDQUE4QixZQUE5QixNQUFnREYsNENBQU0sR0FBR1UsUUFBVCxDQUFrQixDQUFsQixFQUFxQixNQUFyQixFQUE2QlIsTUFBN0IsQ0FBb0MsWUFBcEMsQ0FBcEQsRUFBdUc7QUFDckc7QUFDQUksZUFBSyxJQUFJLENBQVQ7O0FBQ0EsY0FBSUEsS0FBSyxHQUFHLENBQVosRUFBZTtBQUNiRyxlQUFHLEdBQUcsQ0FBTjtBQUNELFdBRkQsTUFFTyxJQUFJSCxLQUFLLElBQUksQ0FBVCxJQUFjQSxLQUFLLEdBQUcsRUFBMUIsRUFBOEI7QUFDbkNHLGVBQUcsR0FBRyxFQUFOO0FBQ0QsV0FGTSxNQUVBLElBQUlILEtBQUssSUFBSSxFQUFULElBQWVBLEtBQUssR0FBRyxFQUEzQixFQUErQjtBQUNwQ0csZUFBRyxHQUFHLEVBQU47QUFDRCxXQUZNLE1BRUEsSUFBSUgsS0FBSyxJQUFJLEVBQVQsSUFBZUEsS0FBSyxHQUFHLEdBQTNCLEVBQWdDO0FBQ3JDRyxlQUFHLEdBQUcsRUFBTjtBQUNELFdBRk0sTUFFQSxJQUFJSCxLQUFLLElBQUksR0FBVCxJQUFnQkEsS0FBSyxHQUFHLEdBQTVCLEVBQWlDO0FBQ3RDRyxlQUFHLEdBQUcsRUFBTjtBQUNELFdBRk0sTUFFQSxJQUFJSCxLQUFLLElBQUksR0FBYixFQUFrQjtBQUN2QkcsZUFBRyxHQUFHLEVBQU47QUFDRCxXQWZvRyxDQWdCckc7OztBQUNBLGdCQUFNYixtREFBSSxDQUFDZSxTQUFMLENBQWU7QUFDbkJqQixlQUFHLEVBQUVQLEdBQUcsQ0FBQ087QUFEVSxXQUFmLEVBRUo7QUFDQWtCLGdCQUFJLEVBQUU7QUFBQ1Asa0JBQUksRUFBRUksR0FBUDtBQUFZSCxtQkFBSyxFQUFFO0FBQW5CO0FBRE4sV0FGSSxDQUFOO0FBS0FSLGdCQUFNLEdBQUc7QUFDUE8sZ0JBQUksRUFBRVYsSUFBSSxDQUFDVSxJQUFMLEdBQVlJLEdBRFg7QUFFUEgsaUJBQUssRUFBRVgsSUFBSSxDQUFDVyxLQUFMLEdBQWE7QUFGYixXQUFUO0FBSUQsU0ExQkQsTUEwQk87QUFDTDtBQUNBRyxhQUFHLEdBQUcsQ0FBTjtBQUNBLGdCQUFNYixtREFBSSxDQUFDZSxTQUFMLENBQWU7QUFDbkJqQixlQUFHLEVBQUVQLEdBQUcsQ0FBQ087QUFEVSxXQUFmLEVBRUg7QUFDRG1CLGdCQUFJLEVBQUU7QUFBRVAsbUJBQUssRUFBRTtBQUFULGFBREw7QUFFRE0sZ0JBQUksRUFBRTtBQUFFUCxrQkFBSSxFQUFFSTtBQUFSO0FBRkwsV0FGRyxDQUFOO0FBTUFYLGdCQUFNLEdBQUc7QUFDUE8sZ0JBQUksRUFBRVYsSUFBSSxDQUFDVSxJQUFMLEdBQVlJLEdBRFg7QUFFUEgsaUJBQUssRUFBRTtBQUZBLFdBQVQ7QUFJRCxTQS9DSSxDQWdETDs7O0FBQ0FQLGlCQUFTLEdBQUcsSUFBSVAseURBQUosQ0FBZTtBQUN6QnNCLGFBQUcsRUFBRTNCLEdBQUcsQ0FBQ08sR0FEZ0I7QUFFekJXLGNBQUksRUFBRUk7QUFGbUIsU0FBZixDQUFaO0FBSUEsY0FBTVYsU0FBUyxDQUFDZ0IsSUFBVixFQUFOO0FBQ0Q7QUFDRixLQXRFRCxNQXNFTztBQUNMO0FBQ0E7QUFDQSxZQUFNbkIsbURBQUksQ0FBQ2UsU0FBTCxDQUFlO0FBQ25CakIsV0FBRyxFQUFFUCxHQUFHLENBQUNPO0FBRFUsT0FBZixFQUVIO0FBQUU7QUFDSG1CLFlBQUksRUFBRTtBQUFFUCxlQUFLLEVBQUU7QUFBVCxTQURMO0FBQ21CO0FBQ3BCTSxZQUFJLEVBQUU7QUFBRVAsY0FBSSxFQUFFO0FBQVIsU0FGTCxDQUVpQjs7QUFGakIsT0FGRyxDQUFOLENBSEssQ0FVTDs7QUFDQU4sZUFBUyxHQUFHLElBQUlQLHlEQUFKLENBQWU7QUFDekJzQixXQUFHLEVBQUUzQixHQUFHLENBQUNPLEdBRGdCO0FBRXpCVyxZQUFJLEVBQUU7QUFGbUIsT0FBZixDQUFaO0FBSUEsWUFBTU4sU0FBUyxDQUFDZ0IsSUFBVixFQUFOO0FBQ0FqQixZQUFNLEdBQUc7QUFDUE8sWUFBSSxFQUFFVixJQUFJLENBQUNVLElBQUwsR0FBWSxDQURYO0FBRVBDLGFBQUssRUFBRTtBQUZBLE9BQVQ7QUFJRDs7QUFFRHBCLE9BQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxVQUFJLEVBQUUsR0FERztBQUVUSSxTQUFHLEVBQUUsTUFGSTtBQUdULFNBQUdWLE1BSE07QUFJVFMsY0FBUSxFQUFFUixTQUFTLENBQUNFO0FBSlgsS0FBWDtBQU1ELEdBaEhrQixDQWtIbkI7OztBQUNBLFFBQU1lLGNBQU4sQ0FBc0I5QixHQUF0QixFQUEyQjtBQUN6QixVQUFNO0FBQUVpQjtBQUFGLFFBQVdqQixHQUFHLENBQUMrQixPQUFyQjtBQUNBLFVBQU05QixHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0IsQ0FGeUIsQ0FJekI7O0FBQ0EsVUFBTUssSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNzQixPQUFMLENBQWE7QUFBRXhCLFNBQUcsRUFBRVAsR0FBRyxDQUFDTztBQUFYLEtBQWIsQ0FBbkI7QUFDQSxRQUFJYyxHQUFHLEdBQUcsRUFBVjs7QUFDQSxRQUFJTCxJQUFJLENBQUNnQixRQUFMLElBQWlCaEIsSUFBSSxDQUFDZ0IsUUFBTCxLQUFrQnhCLElBQUksQ0FBQ3dCLFFBQTVDLEVBQXNEO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFlBQU1DLE9BQU8sR0FBRyxNQUFNeEIsbURBQUksQ0FBQ3NCLE9BQUwsQ0FBYTtBQUFFQyxnQkFBUSxFQUFFaEIsSUFBSSxDQUFDZ0I7QUFBakIsT0FBYixDQUF0Qjs7QUFDQSxVQUFJQyxPQUFPLElBQUlBLE9BQU8sQ0FBQ0MsUUFBdkIsRUFBaUM7QUFDL0JuQyxXQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsY0FBSSxFQUFFLEdBREc7QUFFVEksYUFBRyxFQUFFO0FBRkksU0FBWDtBQUlBO0FBQ0Q7O0FBR0QsWUFBTWMsR0FBRyxHQUFHQyw4Q0FBSSxFQUFoQixDQWRvRCxDQWVwRDs7QUFDQUMsMEVBQVEsQ0FBQ0YsR0FBRCxFQUFNRyxtREFBRyxDQUFDQyxJQUFKLENBQVM7QUFBQ2hDLFdBQUcsRUFBRVAsR0FBRyxDQUFDTztBQUFWLE9BQVQsRUFBeUJpQyxzREFBTSxDQUFDQyxVQUFoQyxFQUE0QztBQUN4REMsaUJBQVMsRUFBRSxLQUQ2QyxDQUN2Qzs7QUFEdUMsT0FBNUMsQ0FBTixDQUFSO0FBR0EsWUFBTS9CLE1BQU0sR0FBRyxNQUFNZ0Msa0VBQUksQ0FBQztBQUN4QkMsWUFBSSxFQUFFLE9BRGtCO0FBRXhCQyxZQUFJLEVBQUU7QUFDSlYsYUFBRyxFQUFFQSxHQUREO0FBRUpILGtCQUFRLEVBQUVoQixJQUFJLENBQUNnQjtBQUZYLFNBRmtCO0FBTXhCZixZQUFJLEVBQUUsRUFOa0I7QUFPeEI2QixjQUFNLEVBQUVqQyw0Q0FBTSxHQUFHa0MsR0FBVCxDQUFhLEVBQWIsRUFBaUIsU0FBakIsRUFBNEJoQyxNQUE1QixDQUFtQyxxQkFBbkMsQ0FQZ0I7QUFReEJpQyxhQUFLLEVBQUVoQyxJQUFJLENBQUNnQixRQVJZO0FBU3hCeEIsWUFBSSxFQUFFQSxJQUFJLENBQUN5QztBQVRhLE9BQUQsQ0FBekI7QUFZQTVCLFNBQUcsR0FBRywyQkFBTjtBQUNELEtBdkN3QixDQTBDekI7OztBQUNBLFVBQU02QixHQUFHLEdBQUcsQ0FBQyxVQUFELEVBQWEsVUFBYixFQUF5QixRQUF6QixDQUFaLENBM0N5QixDQTRDekI7O0FBQ0FBLE9BQUcsQ0FBQ0MsR0FBSixDQUFTQyxJQUFELElBQVU7QUFBRSxhQUFPcEMsSUFBSSxDQUFDb0MsSUFBRCxDQUFYO0FBQW1CLEtBQXZDO0FBRUEsVUFBTXpDLE1BQU0sR0FBRyxNQUFNRixtREFBSSxDQUFDZSxTQUFMLENBQWU7QUFBQ2pCLFNBQUcsRUFBRVAsR0FBRyxDQUFDTztBQUFWLEtBQWYsRUFBK0JTLElBQS9CLENBQXJCOztBQUNBLFFBQUlMLE1BQU0sQ0FBQzBDLENBQVAsS0FBYSxDQUFiLElBQWtCMUMsTUFBTSxDQUFDMkMsRUFBUCxLQUFjLENBQXBDLEVBQXVDO0FBQ3JDdkQsU0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1RDLFlBQUksRUFBRSxHQURHO0FBRVRJLFdBQUcsRUFBRUEsR0FBRyxLQUFLLEVBQVIsR0FBYSxNQUFiLEdBQXNCQTtBQUZsQixPQUFYO0FBSUQsS0FMRCxNQUtPO0FBQ0x0QixTQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEksV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlEO0FBQ0YsR0E5S2tCLENBZ0xuQjs7O0FBQ0EsUUFBTWtDLGNBQU4sQ0FBc0J4RCxHQUF0QixFQUEyQjtBQUN6QixVQUFNaUIsSUFBSSxHQUFHakIsR0FBRyxDQUFDeUQsS0FBakI7O0FBQ0EsUUFBSXhDLElBQUksQ0FBQ21CLEdBQVQsRUFBYztBQUNaLFlBQU1zQixLQUFLLEdBQUcsTUFBTUMsb0VBQVEsQ0FBQzFDLElBQUksQ0FBQ21CLEdBQU4sQ0FBNUI7QUFDQSxZQUFNbkMsR0FBRyxHQUFHQyxtRUFBYSxDQUFDLFlBQVl3RCxLQUFiLENBQXpCO0FBQ0EsWUFBTWhELG1EQUFJLENBQUNlLFNBQUwsQ0FBZTtBQUFDakIsV0FBRyxFQUFFUCxHQUFHLENBQUNPO0FBQVYsT0FBZixFQUErQjtBQUNuQ3lCLGdCQUFRLEVBQUVoQixJQUFJLENBQUNnQjtBQURvQixPQUEvQixDQUFOO0FBR0FqQyxTQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEksV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlEO0FBQ0YsR0E5TGtCLENBZ01uQjs7O0FBQ0EsUUFBTXNDLFlBQU4sQ0FBb0I1RCxHQUFwQixFQUF5QjtBQUN2QixVQUFNO0FBQUVpQjtBQUFGLFFBQVdqQixHQUFHLENBQUMrQixPQUFyQjtBQUNBLFVBQU05QixHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0I7QUFDQSxVQUFNSyxJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ3NCLE9BQUwsQ0FBYTtBQUFDeEIsU0FBRyxFQUFFUCxHQUFHLENBQUNPO0FBQVYsS0FBYixDQUFuQjs7QUFFQSxRQUFJLE1BQU1xRCxnREFBUSxDQUFDQyxPQUFULENBQWlCN0MsSUFBSSxDQUFDOEMsTUFBdEIsRUFBOEJ0RCxJQUFJLENBQUMwQixRQUFuQyxDQUFWLEVBQXdEO0FBQ3RELFlBQU02QixTQUFTLEdBQUcsTUFBTUgsZ0RBQVEsQ0FBQ0ksSUFBVCxDQUFjaEQsSUFBSSxDQUFDaUQsTUFBbkIsRUFBMkIsQ0FBM0IsQ0FBeEIsQ0FEc0QsQ0FFdEQ7O0FBQ0EsWUFBTXRELE1BQU0sR0FBRyxNQUFNRixtREFBSSxDQUFDZSxTQUFMLENBQ25CO0FBQUVqQixXQUFHLEVBQUVQLEdBQUcsQ0FBQ087QUFBWCxPQURtQixFQUVuQjtBQUFFbUIsWUFBSSxFQUFFO0FBQUVRLGtCQUFRLEVBQUU2QjtBQUFaO0FBQVIsT0FGbUIsQ0FBckI7QUFLQWhFLFNBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUSSxXQUFHLEVBQUU7QUFGSSxPQUFYO0FBSUQsS0FaRCxNQVlPO0FBQ0x0QixTQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEksV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlEO0FBQ0YsR0F4TmtCLENBME5uQjs7O0FBQ0EsUUFBTTZDLFVBQU4sQ0FBa0JuRSxHQUFsQixFQUF1QjtBQUNyQixVQUFNb0UsTUFBTSxHQUFHcEUsR0FBRyxDQUFDeUQsS0FBbkI7QUFDQSxVQUFNeEQsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUFaLENBQS9COztBQUNBLFFBQUlpRSxRQUFRLENBQUNELE1BQU0sQ0FBQ0UsS0FBUixDQUFaLEVBQTRCO0FBQzFCO0FBQ0EsWUFBTUMsMERBQVcsQ0FBQ0MsU0FBWixDQUFzQjtBQUFFNUMsV0FBRyxFQUFFM0IsR0FBRyxDQUFDTyxHQUFYO0FBQWdCaUUsV0FBRyxFQUFFTCxNQUFNLENBQUNLO0FBQTVCLE9BQXRCLENBQU47QUFDQXpFLFNBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUSSxXQUFHLEVBQUU7QUFGSSxPQUFYO0FBSUQsS0FQRCxNQU9PO0FBQ0w7QUFDQSxZQUFNb0QsVUFBVSxHQUFHLElBQUlILDBEQUFKLENBQWdCO0FBQ2pDM0MsV0FBRyxFQUFFM0IsR0FBRyxDQUFDTyxHQUR3QjtBQUVqQ2lFLFdBQUcsRUFBRUwsTUFBTSxDQUFDSyxHQUZxQjtBQUdqQ0UsYUFBSyxFQUFFUCxNQUFNLENBQUNPO0FBSG1CLE9BQWhCLENBQW5CO0FBS0EsWUFBTS9ELE1BQU0sR0FBRyxNQUFNOEQsVUFBVSxDQUFDN0MsSUFBWCxFQUFyQixDQVBLLENBUUw7O0FBQ0EsVUFBSWpCLE1BQU0sQ0FBQ2dCLEdBQVgsRUFBZ0I7QUFDZDVCLFdBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxjQUFJLEVBQUUsR0FERztBQUVUNEIsY0FBSSxFQUFFbEMsTUFGRztBQUdUVSxhQUFHLEVBQUU7QUFISSxTQUFYO0FBS0Q7QUFDRjtBQUNGLEdBdFBrQixDQXdQbkI7OztBQUNBLFFBQU1zRCxlQUFOLENBQXVCNUUsR0FBdkIsRUFBNEI7QUFDMUIsVUFBTW9FLE1BQU0sR0FBR3BFLEdBQUcsQ0FBQ3lELEtBQW5CO0FBQ0EsVUFBTXhELEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsYUFBWixDQUEvQjtBQUNBLFVBQU1RLE1BQU0sR0FBRyxNQUFNMkQsMERBQVcsQ0FBQ00sWUFBWixDQUNuQjVFLEdBQUcsQ0FBQ08sR0FEZSxFQUVuQjRELE1BQU0sQ0FBQ1UsSUFGWSxFQUduQlYsTUFBTSxDQUFDVyxLQUFQLEdBQWVWLFFBQVEsQ0FBQ0QsTUFBTSxDQUFDVyxLQUFSLENBQXZCLEdBQXdDLEVBSHJCLENBQXJCO0FBS0EsVUFBTUMsS0FBSyxHQUFHLE1BQU1ULDBEQUFXLENBQUNVLFVBQVosQ0FBdUJoRixHQUFHLENBQUNPLEdBQTNCLENBQXBCOztBQUNBLFFBQUlJLE1BQU0sQ0FBQ3NFLE1BQVAsR0FBZ0IsQ0FBcEIsRUFBdUI7QUFDckJsRixTQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVDRCLFlBQUksRUFBRWxDLE1BRkc7QUFHVG9FLGFBSFM7QUFJVDFELFdBQUcsRUFBRTtBQUpJLE9BQVg7QUFNRCxLQVBELE1BT087QUFDTHRCLFNBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUSSxXQUFHLEVBQUU7QUFGSSxPQUFYO0FBSUQ7QUFDRixHQS9Ra0IsQ0FpUm5COzs7QUFDQSxRQUFNNkQsWUFBTixDQUFvQm5GLEdBQXBCLEVBQXlCO0FBQ3ZCLFVBQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQjtBQUNBLFVBQU14RCxHQUFHLEdBQUcsTUFBTUMsbUVBQWEsQ0FBQ0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0I7QUFDQSxVQUFNd0IsR0FBRyxHQUFHd0MsTUFBTSxDQUFDeEMsR0FBUCxJQUFjNUIsR0FBRyxDQUFDUSxHQUE5QjtBQUNBLFFBQUlDLElBQUksR0FBRyxNQUFNQyxtREFBSSxDQUFDQyxRQUFMLENBQWNpQixHQUFHLElBQUkzQixHQUFHLENBQUNPLEdBQXpCLENBQWpCLENBSnVCLENBS3ZCOztBQUNBQyxRQUFJLEdBQUdBLElBQUksQ0FBQzJFLE1BQUwsRUFBUDtBQUNBLFVBQU1DLElBQUksR0FBR3ZFLDRDQUFNLEdBQUdFLE1BQVQsQ0FBZ0IsWUFBaEIsQ0FBYjtBQUNBLFVBQU1KLE1BQU0sR0FBRyxNQUFNTix5REFBVSxDQUFDMEIsT0FBWCxDQUFtQjtBQUN0Q0osU0FBRyxFQUFFQSxHQURpQztBQUV0Q2IsYUFBTyxFQUFFO0FBQUV1RSxZQUFJLEVBQUVELElBQUksR0FBRztBQUFmO0FBRjZCLEtBQW5CLENBQXJCOztBQUlBLFFBQUl6RSxNQUFNLElBQUlBLE1BQU0sQ0FBQ2dCLEdBQXJCLEVBQTBCO0FBQ3hCbkIsVUFBSSxDQUFDOEUsTUFBTCxHQUFjLElBQWQ7QUFDRCxLQUZELE1BRU87QUFDTDlFLFVBQUksQ0FBQzhFLE1BQUwsR0FBYyxLQUFkO0FBQ0Q7O0FBQ0R2RixPQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsVUFBSSxFQUFFLEdBREc7QUFFVDRCLFVBQUksRUFBRXJDLElBRkc7QUFHVGEsU0FBRyxFQUFFO0FBSEksS0FBWDtBQUtELEdBeFNrQixDQTBTbkI7OztBQUNBLFFBQU1rRSxNQUFOLENBQWN4RixHQUFkLEVBQW1CO0FBQ2pCLFVBQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQjtBQUNBLFVBQU1xQixJQUFJLEdBQUdWLE1BQU0sQ0FBQ1UsSUFBUCxHQUFjVixNQUFNLENBQUNVLElBQXJCLEdBQTRCLENBQXpDO0FBQ0EsVUFBTUMsS0FBSyxHQUFHWCxNQUFNLENBQUNXLEtBQVAsR0FBZVYsUUFBUSxDQUFDRCxNQUFNLENBQUNXLEtBQVIsQ0FBdkIsR0FBd0MsQ0FBdEQ7QUFDQSxVQUFNOUUsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUFaLENBQS9CLENBSmlCLENBS2pCOztBQUNBLFVBQU1RLE1BQU0sR0FBRyxNQUFNNkUsdURBQVEsQ0FBQ0MsVUFBVCxDQUFvQnpGLEdBQUcsQ0FBQ08sR0FBeEIsRUFBNkJzRSxJQUE3QixFQUFtQ0MsS0FBbkMsQ0FBckIsQ0FOaUIsQ0FPakI7O0FBQ0EsVUFBTVksR0FBRyxHQUFHLE1BQU1GLHVEQUFRLENBQUNHLFFBQVQsQ0FBa0IzRixHQUFHLENBQUNPLEdBQXRCLENBQWxCO0FBRUFSLE9BQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxVQUFJLEVBQUUsR0FERztBQUVUNEIsVUFBSSxFQUFFbEMsTUFGRztBQUdUb0UsV0FBSyxFQUFFVztBQUhFLEtBQVg7QUFLRCxHQTFUa0IsQ0E0VG5COzs7QUFDQSxRQUFNRSxNQUFOLENBQWM3RixHQUFkLEVBQW1CO0FBQ2pCLFVBQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQixDQURpQixDQUVqQjs7QUFDQSxRQUFJVyxNQUFNLENBQUMwQixFQUFYLEVBQWU7QUFDYixZQUFNbEYsTUFBTSxHQUFHLE1BQU02RSx1REFBUSxDQUFDaEUsU0FBVCxDQUFtQjtBQUFDakIsV0FBRyxFQUFFNEQsTUFBTSxDQUFDMEI7QUFBYixPQUFuQixFQUFxQztBQUFDQyxjQUFNLEVBQUU7QUFBVCxPQUFyQyxDQUFyQjs7QUFDQSxVQUFJbkYsTUFBTSxDQUFDMkMsRUFBUCxLQUFjLENBQWxCLEVBQXFCO0FBQ25CdkQsV0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1RDLGNBQUksRUFBRTtBQURHLFNBQVg7QUFHRDtBQUNGLEtBUEQsTUFPTztBQUNMO0FBQ0EsWUFBTWpCLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsYUFBWixDQUEvQjtBQUNBLFlBQU1RLE1BQU0sR0FBRyxNQUFNNkUsdURBQVEsQ0FBQ08sVUFBVCxDQUFvQjtBQUFDcEUsV0FBRyxFQUFFM0IsR0FBRyxDQUFDTztBQUFWLE9BQXBCLEVBQW9DO0FBQUN1RixjQUFNLEVBQUU7QUFBVCxPQUFwQyxDQUFyQjs7QUFDQSxVQUFJbkYsTUFBTSxDQUFDMkMsRUFBUCxLQUFjLENBQWxCLEVBQXFCO0FBQ25CdkQsV0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1RDLGNBQUksRUFBRTtBQURHLFNBQVg7QUFHRDtBQUNGO0FBQ0YsR0FqVmtCLENBbVZuQjs7O0FBQ0EsUUFBTStFLFFBQU4sQ0FBZ0JqRyxHQUFoQixFQUFxQjtBQUNuQixRQUFJb0UsTUFBTSxHQUFHcEUsR0FBRyxDQUFDeUQsS0FBakI7QUFDQVcsVUFBTSxHQUFHOEIsMENBQUUsQ0FBQ0MsS0FBSCxDQUFTL0IsTUFBVCxDQUFUO0FBQ0EsVUFBTVUsSUFBSSxHQUFHVixNQUFNLENBQUNVLElBQVAsR0FBY1YsTUFBTSxDQUFDVSxJQUFyQixHQUE0QixDQUF6QztBQUNBLFVBQU1DLEtBQUssR0FBR1gsTUFBTSxDQUFDVyxLQUFQLEdBQWVWLFFBQVEsQ0FBQ0QsTUFBTSxDQUFDVyxLQUFSLENBQXZCLEdBQXdDLENBQXREO0FBQ0EsVUFBTXFCLElBQUksR0FBR2hDLE1BQU0sQ0FBQ2dDLElBQVAsSUFBZSxTQUE1QjtBQUNBLFVBQU1DLE1BQU0sR0FBR2pDLE1BQU0sQ0FBQ2lDLE1BQVAsSUFBaUIsRUFBaEM7QUFDQSxVQUFNekYsTUFBTSxHQUFHLE1BQU1GLG1EQUFJLENBQUM0RixPQUFMLENBQWFELE1BQWIsRUFBcUJELElBQXJCLEVBQTJCdEIsSUFBM0IsRUFBaUNDLEtBQWpDLENBQXJCO0FBQ0EsVUFBTUMsS0FBSyxHQUFHLE1BQU10RSxtREFBSSxDQUFDNkYsU0FBTCxDQUFlRixNQUFmLENBQXBCO0FBQ0FyRyxPQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsVUFBSSxFQUFFLEdBREc7QUFFVDRCLFVBQUksRUFBRWxDLE1BRkc7QUFHVG9FLFdBQUssRUFBRUE7QUFIRSxLQUFYO0FBS0QsR0FsV2tCLENBb1duQjs7O0FBQ0EsUUFBTXdCLGNBQU4sQ0FBc0J4RyxHQUF0QixFQUEyQjtBQUN6QixVQUFNO0FBQUVpQjtBQUFGLFFBQVdqQixHQUFHLENBQUMrQixPQUFyQjtBQUNBLFVBQU10QixJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ3NCLE9BQUwsQ0FBYTtBQUFFeEIsU0FBRyxFQUFFUyxJQUFJLENBQUNUO0FBQVosS0FBYixDQUFuQixDQUZ5QixDQUd6Qjs7QUFDQSxRQUFJLENBQUNDLElBQUwsRUFBVztBQUNUVCxTQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEksV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlBO0FBQ0QsS0FWd0IsQ0FZekI7OztBQUNBLFFBQUlMLElBQUksQ0FBQ2tCLFFBQVQsRUFBbUI7QUFDakJsQixVQUFJLENBQUNrQixRQUFMLEdBQWdCLE1BQU0wQixnREFBUSxDQUFDSSxJQUFULENBQWNoRCxJQUFJLENBQUNrQixRQUFuQixFQUE2QixDQUE3QixDQUF0QjtBQUNEOztBQUNELFVBQU12QixNQUFNLEdBQUcsTUFBTUYsbURBQUksQ0FBQ2UsU0FBTCxDQUFlO0FBQUVqQixTQUFHLEVBQUVTLElBQUksQ0FBQ1Q7QUFBWixLQUFmLEVBQWtDUyxJQUFsQyxDQUFyQjs7QUFDQSxRQUFJTCxNQUFNLENBQUMyQyxFQUFQLEtBQWMsQ0FBZCxJQUFtQjNDLE1BQU0sQ0FBQzZGLFNBQVAsS0FBcUIsQ0FBNUMsRUFBK0M7QUFDN0N6RyxTQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEksV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlELEtBTEQsTUFLTztBQUNMdEIsU0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1RDLFlBQUksRUFBRSxHQURHO0FBRVRJLFdBQUcsRUFBRTtBQUZJLE9BQVg7QUFJRDtBQUNGLEdBallrQixDQW1ZbkI7OztBQUNBLFFBQU1vRixjQUFOLENBQXNCMUcsR0FBdEIsRUFBMkI7QUFDekIsVUFBTTtBQUFFaUI7QUFBRixRQUFXakIsR0FBRyxDQUFDK0IsT0FBckI7QUFDQSxVQUFNdEIsSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNzQixPQUFMLENBQWE7QUFBRXhCLFNBQUcsRUFBRVMsSUFBSSxDQUFDMEY7QUFBWixLQUFiLENBQW5COztBQUNBLFFBQUlsRyxJQUFKLEVBQVU7QUFDUixZQUFNRyxNQUFNLEdBQUcsTUFBTUYsbURBQUksQ0FBQzhELFNBQUwsQ0FBZTtBQUFFaEUsV0FBRyxFQUFFUyxJQUFJLENBQUMwRjtBQUFaLE9BQWYsQ0FBckI7QUFDQTNHLFNBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUSSxXQUFHLEVBQUUsTUFGSTtBQUdUd0IsWUFBSSxFQUFFbEM7QUFIRyxPQUFYO0FBS0QsS0FQRCxNQU9PO0FBQ0xaLFNBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUSSxXQUFHLEVBQUU7QUFGSSxPQUFYO0FBSUQ7QUFDRixHQXBaa0IsQ0FzWm5COzs7QUFDQSxRQUFNc0YsYUFBTixDQUFxQjVHLEdBQXJCLEVBQTBCO0FBQ3hCLFVBQU1vRSxNQUFNLEdBQUdwRSxHQUFHLENBQUN5RCxLQUFuQjtBQUNBLFVBQU1oRCxJQUFJLEdBQUcsTUFBTUMsbURBQUksQ0FBQ3NCLE9BQUwsQ0FBYTtBQUFFQyxjQUFRLEVBQUVtQyxNQUFNLENBQUNuQztBQUFuQixLQUFiLENBQW5CLENBRndCLENBR3hCOztBQUNBLFFBQUlyQixNQUFNLEdBQUcsQ0FBYjs7QUFDQSxRQUFJSCxJQUFKLEVBQVU7QUFDUkcsWUFBTSxHQUFHLENBQVQ7QUFDRDs7QUFDRFosT0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1RDLFVBQUksRUFBRSxHQURHO0FBRVQ0QixVQUFJLEVBQUVsQyxNQUZHO0FBR1RVLFNBQUcsRUFBRTtBQUhJLEtBQVg7QUFLRCxHQXBha0IsQ0FzYW5COzs7QUFDQSxRQUFNdUYsT0FBTixDQUFlN0csR0FBZixFQUFvQjtBQUNsQixVQUFNO0FBQUVpQjtBQUFGLFFBQVdqQixHQUFHLENBQUMrQixPQUFyQjtBQUNBZCxRQUFJLENBQUNrQixRQUFMLEdBQWdCLE1BQU0wQixnREFBUSxDQUFDSSxJQUFULENBQWNoRCxJQUFJLENBQUNrQixRQUFuQixFQUE2QixDQUE3QixDQUF0QjtBQUNBLFVBQU0xQixJQUFJLEdBQUcsSUFBSUMsbURBQUosQ0FBU08sSUFBVCxDQUFiO0FBQ0EsVUFBTUwsTUFBTSxHQUFHLE1BQU1ILElBQUksQ0FBQ29CLElBQUwsRUFBckI7QUFDQSxVQUFNaUYsT0FBTyxHQUFHbEcsTUFBTSxDQUFDd0UsTUFBUCxFQUFoQjtBQUNBLFVBQU1qQyxHQUFHLEdBQUcsQ0FBQyxVQUFELENBQVosQ0FOa0IsQ0FPbEI7O0FBQ0FBLE9BQUcsQ0FBQ0MsR0FBSixDQUFRQyxJQUFJLElBQUk7QUFDZCxhQUFPeUQsT0FBTyxDQUFDekQsSUFBRCxDQUFkO0FBQ0QsS0FGRDs7QUFHQSxRQUFJekMsTUFBSixFQUFZO0FBQ1ZaLFNBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUNEIsWUFBSSxFQUFFZ0UsT0FGRztBQUdUeEYsV0FBRyxFQUFFO0FBSEksT0FBWDtBQUtELEtBTkQsTUFNTztBQUNMdEIsU0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1RDLFlBQUksRUFBRSxHQURHO0FBRVRJLFdBQUcsRUFBRTtBQUZJLE9BQVg7QUFJRDtBQUNGOztBQTlia0I7O0FBaWNOLG1FQUFJeEIsY0FBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Vc2VyQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaWduUmVjb3JkIGZyb20gJy4uL21vZGVsL1NpZ25SZWNvcmQnXHJcbmltcG9ydCB7IGdldEpXdFBheWxvYWQgfSBmcm9tICcuLi9jb21tb24vVXRpbHMnXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVsL1VzZXInXHJcbmltcG9ydCBDb21tZW50cyBmcm9tICcuLi9tb2RlbC9Db21tZW50cydcclxuaW1wb3J0IFVzZXJDb2xsZWN0IGZyb20gJy4uL21vZGVsL1VzZXJDb2xsZWN0J1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5pbXBvcnQgc2VuZCBmcm9tICcuLi9jb25maWcvTWFpbENvbmZpZydcclxuaW1wb3J0IHV1aWQgZnJvbSAndXVpZC92NCdcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCB7IHNldFZhbHVlLCBnZXRWYWx1ZSB9IGZyb20gJy4uL2NvbmZpZy9SZWRpc0NvbmZpZydcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcvaW5kZXgnXHJcbmltcG9ydCBiY3J5cHRqcyBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHFzIGZyb20gJ3FzJ1xyXG5cclxuY2xhc3MgVXNlckNvbnRyb2xsZXIge1xyXG4gIC8vIOeUqOaIt+etvuWIsOaOpeWPo1xyXG4gIGFzeW5jIHVzZXJTaWduIChjdHgpIHtcclxuICAgIC8vIOS7jnRva2Vu5Y+W55So5oi3SUQsanNvbndlYnRva2Vu6L+U5Zue5LiA5LiqcHJvbWlzZeWvueixoVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBcclxuICAgIC8vIOafpeivoueUqOaIt+S4iuS4gOasoeetvuWIsOiusOW9lVxyXG4gICAgY29uc3QgcmVjb3JkID0gYXdhaXQgU2lnblJlY29yZC5maW5kQnlVaWQob2JqLl9pZClcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKG9iai5faWQpXHJcblxyXG4gICAgbGV0IHJlc3VsdCA9ICcnXHJcbiAgICBsZXQgbmV3UmVjb3JkID0ge31cclxuICAgIFxyXG4gICAgLy8g5Yik5pat562+5Yiw6YC76L6RXHJcbiAgICBpZiAocmVjb3JkICE9PSBudWxsKSB7XHJcbiAgICAgIC8vIOacieWOhuWPsuetvuWIsOaVsOaNrlxyXG4gICAgICAvLyDliKTmlq3nlKjmiLfkuIrkuIDmrKHnrb7liLDorrDlvZXnmoRjcmVhdGVk5pe26Ze05piv5ZCm5LiO5LuK5aSp55u45ZCMXHJcbiAgICAgIC8vIOWmguaenOebuOWQjOS7o+ihqOeUqOaIt+WcqOi/nue7reetvuWIsFxyXG4gICAgICAvLyDlpoLmnpzlvZPliY3ml7bpl7TnmoTml6XmnJ/kuI7nlKjmiLfkuIrkuIDmrKHnrb7liLDml6XmnJ/nm7jlkIws6K+05piO55So5oi35bey57uP562+5YiwXHJcbiAgICAgIFxyXG4gICAgICBpZiAobW9tZW50KHJlY29yZC5jcmVhdGVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykpIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyxcclxuICAgICAgICAgIGNvdW50OiB1c2VyLmNvdW50LFxyXG4gICAgICAgICAgbGFzdFNpZ246IHJlY29yZC5jcmVhdGVkLFxyXG4gICAgICAgICAgbXNnOiAn55So5oi35bey57uP562+5YiwJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDmnInkuIrkuIDmrKHnmoTnrb7liLDorrDlvZUs5bm25LiU5LiN5LiO5LuK5aSp55u45ZCMLOi/m+ihjOi/nue7reetvuWIsOeahOWIpOaWrVxyXG4gICAgICAgIC8vIOWmguaenOebuOWQjCzku6PooajnlKjmiLflnKjov57nu63nrb7liLBcclxuICAgICAgICBsZXQgY291bnQgPSB1c2VyLmNvdW50XHJcbiAgICAgICAgbGV0IGZhdiA9IDBcclxuICAgICAgICBcclxuICAgICAgICAvLyDliKTmlq3ov57nu63nrb7liLA6IOeUqOaIt+S4iuS4gOasoeetvuWIsOaXtumXtOetieS6juW9k+WJjeaXtumXtOeahOWJjeS4gOWkqSzor7TmmI7lnKjov57nu63nrb7liLBcclxuICAgICAgICAvLyBtb21lbnQoKS5zdWJ0cmFjdCgxLCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpIOWPluaYqOWkqeeahOaXpeacn1xyXG4gICAgICAgIGlmIChtb21lbnQocmVjb3JkLmNyZWF0ZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PSBtb21lbnQoKS5zdWJ0cmFjdCgxLCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKSB7XHJcbiAgICAgICAgICAvLyDov57nu63nrb7liLDnp6/liIbojrflvpfpgLvovpFcclxuICAgICAgICAgIGNvdW50ICs9IDFcclxuICAgICAgICAgIGlmIChjb3VudCA8IDUpIHtcclxuICAgICAgICAgICAgZmF2ID0gNVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSA1ICYmIGNvdW50IDwgMTUpIHtcclxuICAgICAgICAgICAgZmF2ID0gMTBcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMTUgJiYgY291bnQgPCAzMCkge1xyXG4gICAgICAgICAgICBmYXYgPSAxNVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAzMCAmJiBjb3VudCA8IDEwMCkge1xyXG4gICAgICAgICAgICBmYXYgPSAyMFxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAxMDAgJiYgY291bnQgPCAzNjUpIHtcclxuICAgICAgICAgICAgZmF2ID0gMzBcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMzY1KSB7XHJcbiAgICAgICAgICAgIGZhdiA9IDUwXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyDmm7TmlrDnlKjmiLfooajmlbDmja5cclxuICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcclxuICAgICAgICAgICAgX2lkOiBvYmouX2lkXHJcbiAgICAgICAgICB9LHtcclxuICAgICAgICAgICAgJGluYzoge2ZhdnM6IGZhdiwgY291bnQ6IDF9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyBmYXYsXHJcbiAgICAgICAgICAgIGNvdW50OiB1c2VyLmNvdW50ICsgMVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyDnlKjmiLfkuK3mlq3kuobnrb7liLBcclxuICAgICAgICAgIGZhdiA9IDVcclxuICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcclxuICAgICAgICAgICAgX2lkOiBvYmouX2lkXHJcbiAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICRzZXQ6IHsgY291bnQ6IDEgfSxcclxuICAgICAgICAgICAgJGluYzogeyBmYXZzOiBmYXYgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgZmF2czogdXNlci5mYXZzICsgZmF2LFxyXG4gICAgICAgICAgICBjb3VudDogMVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmm7TmlrDnrb7liLDorrDlvZUs5q+P5qyh562+5Yiw5bCx5a2Y5YWl5LiA5p2h562+5Yiw6K6w5b2VXHJcbiAgICAgICAgbmV3UmVjb3JkID0gbmV3IFNpZ25SZWNvcmQoe1xyXG4gICAgICAgICAgdWlkOiBvYmouX2lkLFxyXG4gICAgICAgICAgZmF2czogZmF2XHJcbiAgICAgICAgfSlcclxuICAgICAgICBhd2FpdCBuZXdSZWNvcmQuc2F2ZSgpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOaXoOetvuWIsOaVsOaNriAtPiDnrKzkuIDmrKHnrb7liLBcclxuICAgICAgLy8g5L+d5a2Y55So5oi355qE562+5Yiw5pWw5o2uICDnrb7liLDmrKHmlbAgKyDnp6/liIbmlbDmja5cclxuICAgICAgYXdhaXQgVXNlci51cGRhdGVPbmUoe1xyXG4gICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICB9LCB7IC8vIGNvdW505Li66L+e57ut562+5Yiw5qyh5pWwXHJcbiAgICAgICAgJHNldDogeyBjb3VudDogMSB9LCAvLyDlsIZVc2Vy5qih5Z6L5Lit55qEY291bnTorr7kuLoxXHJcbiAgICAgICAgJGluYzogeyBmYXZzOiA1IH0gLy8g5bCGVXNlcuaooeWei+S4reeahGZhdnPliqA1XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyDkv53lrZjnlKjmiLfnmoTnrb7liLDorrDlvZVcclxuICAgICAgbmV3UmVjb3JkID0gbmV3IFNpZ25SZWNvcmQoe1xyXG4gICAgICAgIHVpZDogb2JqLl9pZCxcclxuICAgICAgICBmYXZzOiA1XHJcbiAgICAgIH0pXHJcbiAgICAgIGF3YWl0IG5ld1JlY29yZC5zYXZlKClcclxuICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIDUsXHJcbiAgICAgICAgY291bnQ6IDFcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIG1zZzogJ+ivt+axguaIkOWKnycsXHJcbiAgICAgIC4uLnJlc3VsdCxcclxuICAgICAgbGFzdFNpZ246IG5ld1JlY29yZC5jcmVhdGVkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmm7TmlrDnlKjmiLfln7rmnKzkv6Hmga/mjqXlj6NcclxuICBhc3luYyB1cGRhdGVVc2VySW5mbyAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuXHJcbiAgICAvLyDliKTmlq3nlKjmiLfmmK/lkKbkv67mlLnkuobpgq7nrrFcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IG9iai5faWR9KVxyXG4gICAgbGV0IG1zZyA9ICcnXHJcbiAgICBpZiAoYm9keS51c2VybmFtZSAmJiBib2R5LnVzZXJuYW1lICE9PSB1c2VyLnVzZXJuYW1lKSB7XHJcbiAgICAgIC8vIOeUqOaIt+S/ruaUueS6humCrueusVxyXG4gICAgICAvLyDlj5HpgIFyZXNldOmCruS7tlxyXG4gICAgICAvLyDliKTmlq3nlKjmiLfmlrDpgq7nrrHmmK/lkKblt7Lnu4/ooqvms6jlhoxcclxuICAgICAgY29uc3QgdG1wVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lIH0pXHJcbiAgICAgIGlmICh0bXBVc2VyICYmIHRtcFVzZXIucGFzc3dvcmQpIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDUwMSxcclxuICAgICAgICAgIG1zZzogJ+mCrueuseW3sue7j+iiq+azqOWGjOS6hidcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICBjb25zdCBrZXkgPSB1dWlkKClcclxuICAgICAgLy8gcmVkaXPlrZjlgqhrZXnlgLwgMzDliIbpkp/ov4fmnJ9cclxuICAgICAgc2V0VmFsdWUoa2V5LCBqd3Quc2lnbih7X2lkOiBvYmouX2lkfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcclxuICAgICAgICBleHBpcmVzSW46ICczMG0nIC8vIDMw5YiG6ZKf6L+H5pyfXHJcbiAgICAgIH0pKVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kKHtcclxuICAgICAgICB0eXBlOiAnZW1haWwnLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvZGU6ICcnLFxyXG4gICAgICAgIGV4cGlyZTogbW9tZW50KCkuYWRkKDMwLCAnbWludXRlcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpLFxyXG4gICAgICAgIGVtYWlsOiBib2R5LnVzZXJuYW1lLFxyXG4gICAgICAgIHVzZXI6IHVzZXIubmFtZVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgbXNnID0gJ+abtOaWsOWfuuacrOi1hOaWmeaIkOWKnyzotKblj7fkv67mlLnpnIDopoHnoa7orqTpgq7ku7Ys6K+35p+l5pS26YKu5Lu2J1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDmm7TmlrDpmaR1c2VybmFtZeWklueahOWFtuS7luaVsOaNrlxyXG4gICAgY29uc3QgYXJyID0gWyd1c2VybmFtZScsICdwYXNzd29yZCcsICdtb2JpbGUnXVxyXG4gICAgLy8g5o6S6Zmk5o6JdXNlcm5hbWVcclxuICAgIGFyci5tYXAoKGl0ZW0pID0+IHsgZGVsZXRlIGJvZHlbaXRlbV0gfSlcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7X2lkOiBvYmouX2lkfSwgYm9keSlcclxuICAgIGlmIChyZXN1bHQubiA9PT0gMSAmJiByZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIG1zZzogbXNnID09PSAnJyA/ICfmm7TmlrDmiJDlip8nIDogbXNnXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmm7TmlrDlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOeUqOaIt+WQjVxyXG4gIGFzeW5jIHVwZGF0ZVVzZXJuYW1lIChjdHgpIHtcclxuICAgIGNvbnN0IGJvZHkgPSBjdHgucXVlcnlcclxuICAgIGlmIChib2R5LmtleSkge1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFZhbHVlKGJvZHkua2V5KVxyXG4gICAgICBjb25zdCBvYmogPSBnZXRKV3RQYXlsb2FkKCdCZWFyZXIgJyArIHRva2VuKVxyXG4gICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7X2lkOiBvYmouX2lkfSwge1xyXG4gICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgIH0pXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICfmm7TmlrDnlKjmiLflkI3miJDlip8nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOS/ruaUueWvhueggeaOpeWPo1xyXG4gIGFzeW5jIGNoYW5nZVBhc3N3ZCAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV3RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe19pZDogb2JqLl9pZH0pXHJcblxyXG4gICAgaWYgKGF3YWl0IGJjcnlwdGpzLmNvbXBhcmUoYm9keS5vbGRwd2QsIHVzZXIucGFzc3dvcmQpKSB7XHJcbiAgICAgIGNvbnN0IG5ld3Bhc3N3ZCA9IGF3YWl0IGJjcnlwdGpzLmhhc2goYm9keS5uZXdwd2QsIDUpIFxyXG4gICAgICAvLyDmm7TmlrDlr4bnoIFcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoXHJcbiAgICAgICAgeyBfaWQ6IG9iai5faWQgfSxcclxuICAgICAgICB7ICRzZXQ6IHsgcGFzc3dvcmQ6IG5ld3Bhc3N3ZCB9fVxyXG4gICAgICApXHJcblxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn5pu05paw5a+G56CB5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5a+G56CB6ZSZ6K+vLOivt+ajgOafpSEnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiuvue9ri/lj5bmtojmlLbol49cclxuICBhc3luYyBzZXRDb2xsZWN0IChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBpZiAocGFyc2VJbnQocGFyYW1zLmlzRmF2KSkge1xyXG4gICAgICAvLyDor7TmmI7nlKjmiLflt7Lnu4/mlLbol4/kuobluJblrZBcclxuICAgICAgYXdhaXQgVXNlckNvbGxlY3QuZGVsZXRlT25lKHsgdWlkOiBvYmouX2lkLCB0aWQ6IHBhcmFtcy50aWQgfSlcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIG1zZzogJ+WPlua2iOaUtuiXj+aIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g6aaW5qyh5pS26JePXHJcbiAgICAgIGNvbnN0IG5ld0NvbGxlY3QgPSBuZXcgVXNlckNvbGxlY3Qoe1xyXG4gICAgICAgIHVpZDogb2JqLl9pZCxcclxuICAgICAgICB0aWQ6IHBhcmFtcy50aWQsXHJcbiAgICAgICAgdGl0bGU6IHBhcmFtcy50aXRsZVxyXG4gICAgICB9KVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdDb2xsZWN0LnNhdmUoKVxyXG4gICAgICAvLyDkv53lrZjmiJDlip9cclxuICAgICAgaWYgKHJlc3VsdC51aWQpIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgIG1zZzogJ+aUtuiXj+aIkOWKnydcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluaUtuiXj+WIl+ihqFxyXG4gIGFzeW5jIGdldENvbGxlY3RCeVVpZCAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlckNvbGxlY3QuZ2V0TGlzdEJ5VWlkKFxyXG4gICAgICBvYmouX2lkLFxyXG4gICAgICBwYXJhbXMucGFnZSxcclxuICAgICAgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXHJcbiAgICApXHJcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IFVzZXJDb2xsZWN0LmNvdW50QnlVaWQob2JqLl9pZClcclxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIHRvdGFsLFxyXG4gICAgICAgIG1zZzogJ+afpeivouWIl+ihqOaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+afpeivouWIl+ihqOWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W55So5oi35Z+65pys5L+h5oGvXHJcbiAgYXN5bmMgZ2V0QmFzaWNJbmZvIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBjb25zdCB1aWQgPSBwYXJhbXMudWlkIHx8IGN0eC5faWRcclxuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRCh1aWQgfHwgb2JqLl9pZClcclxuICAgIC8vIOWPluW+l+eUqOaIt+eahOetvuWIsOiusOW9lSDnnIvml6XmnJ/mnInmsqHmnInlpKfkuo7ku4rlpKkgMDowMDowMCDnmoRcclxuICAgIHVzZXIgPSB1c2VyLnRvSlNPTigpXHJcbiAgICBjb25zdCBkYXRlID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZE9uZSh7XHJcbiAgICAgIHVpZDogdWlkLFxyXG4gICAgICBjcmVhdGVkOiB7ICRndGU6IGRhdGUgKyAnIDAwOjAwOjAwJyB9XHJcbiAgICB9KVxyXG4gICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudWlkKSB7XHJcbiAgICAgIHVzZXIuaXNTaWduID0gdHJ1ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXNlci5pc1NpZ24gPSBmYWxzZVxyXG4gICAgfVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogdXNlcixcclxuICAgICAgbXNnOiAn5p+l6K+i5oiQ5Yqf77yBJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5raI5oGvLOiusOW9leivhOiuuuS5i+WQjue7meS9nOiAheWPkemAgea2iOaBr1xyXG4gIGFzeW5jIGdldE1zZyAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcmFtcy5wYWdlIDogMFxyXG4gICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMFxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAvLyDojrflj5bljoblj7Lmtojmga9cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLmdldE1zZ0xpc3Qob2JqLl9pZCwgcGFnZSwgbGltaXQpXHJcbiAgICAvLyDmnInlpJrlsJHmnKror7vmtojmga9cclxuICAgIGNvbnN0IG51bSA9IGF3YWl0IENvbW1lbnRzLmdldFRvdGFsKG9iai5faWQpXHJcbiAgICBcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgdG90YWw6IG51bVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6K6+572u5raI5oGv5bey6K+7XHJcbiAgYXN5bmMgc2V0TXNnIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgLy8g5Yik5pat5pyJ5peg5LygaWQs5pyJ5YiZ6K6+572u5LiA5p2h5raI5oGv5bey6K+7LOaXoOWImeaJgOaciea2iOaBr+W3suivu1xyXG4gICAgaWYgKHBhcmFtcy5pZCkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy51cGRhdGVPbmUoe19pZDogcGFyYW1zLmlkfSwge2lzUmVhZDogJzEnfSlcclxuICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogMjAwXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDorr7nva7miYDmnInmtojmga9cclxuICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0Sld0UGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU1hbnkoe3VpZDogb2JqLl9pZH0sIHtpc1JlYWQ6ICcxJ30pXHJcbiAgICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDIwMFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g566h55CG6I635Y+W55So5oi35YiX6KGoXHJcbiAgYXN5bmMgZ2V0VXNlcnMgKGN0eCkge1xyXG4gICAgbGV0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgcGFyYW1zID0gcXMucGFyc2UocGFyYW1zKVxyXG4gICAgY29uc3QgcGFnZSA9IHBhcmFtcy5wYWdlID8gcGFyYW1zLnBhZ2UgOiAwXHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAwXHJcbiAgICBjb25zdCBzb3J0ID0gcGFyYW1zLnNvcnQgfHwgJ2NyZWF0ZWQnXHJcbiAgICBjb25zdCBvcHRpb24gPSBwYXJhbXMub3B0aW9uIHx8IHt9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmdldExpc3Qob3B0aW9uLCBzb3J0LCBwYWdlLCBsaW1pdClcclxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgVXNlci5jb3VudExpc3Qob3B0aW9uKVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICB0b3RhbDogdG90YWxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOeuoeeQhuabtOaWsOeUqOaIt+S/oeaBr1xyXG4gIGFzeW5jIHVwZGF0ZVVzZXJCeUlkIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IGJvZHkuX2lkIH0pXHJcbiAgICAvLyAxLuagoemqjOeUqOaIt+aYr+WQpuWtmOWcqCAtPiDnlKjmiLflkI3mmK/lkKblhrLnqoFcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn55So5oi35LiN5a2Y5Zyo5oiW6ICFaWTkv6Hmga/plJnor6/vvIEnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gMi7liKTmlq3lr4bnoIHmmK/lkKbkvKDpgJIgLT4g6L+b6KGM5Yqg5a+G5L+d5a2YXHJcbiAgICBpZiAoYm9keS5wYXNzd29yZCkge1xyXG4gICAgICBib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0anMuaGFzaChib2R5LnBhc3N3b3JkLCA1KVxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci51cGRhdGVPbmUoeyBfaWQ6IGJvZHkuX2lkIH0sIGJvZHkpXHJcbiAgICBpZiAocmVzdWx0Lm9rID09PSAxICYmIHJlc3VsdC5uTW9kaWZpZWQgPT09IDEpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIG1zZzogJ+abtOaWsOaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+acjeWKoeW8guW4uO+8jOabtOaWsOWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g566h55CG5Yig6Zmk55So5oi35L+h5oGvXHJcbiAgYXN5bmMgZGVsZXRlVXNlckJ5SWQgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IF9pZDogYm9keS5pZHMgfSlcclxuICAgIGlmICh1c2VyKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIuZGVsZXRlT25lKHsgX2lkOiBib2R5LmlkcyB9KVxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn5Yig6Zmk5oiQ5YqfJyxcclxuICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+eUqOaIt+S4jeWtmOWcqOaIlmlk6ZSZ6K+vJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmoKHpqoznlKjmiLflkI3mmK/lkKblhrLnqoFcclxuICBhc3luYyBjaGVja1VzZXJuYW1lIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBwYXJhbXMudXNlcm5hbWUgfSlcclxuICAgIC8vIOm7mOiupOS4ujEsICAxLeagoemqjOmAmui/hyAwLeagoemqjOWksei0pVxyXG4gICAgbGV0IHJlc3VsdCA9IDFcclxuICAgIGlmICh1c2VyKSB7XHJcbiAgICAgIHJlc3VsdCA9IDBcclxuICAgIH1cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgbXNnOiAn5oiQ5Yqf5qCh6aqMJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g566h55CG5re75Yqg55So5oi3XHJcbiAgYXN5bmMgYWRkVXNlciAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0anMuaGFzaChib2R5LnBhc3N3b3JkLCA1KVxyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKGJvZHkpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VyLnNhdmUoKVxyXG4gICAgY29uc3QgdXNlck9iaiA9IHJlc3VsdC50b0pTT04oKVxyXG4gICAgY29uc3QgYXJyID0gWydwYXNzd29yZCddXHJcbiAgICAvLyDov5Tlm57mlbDmja7ljrvmjonlr4bnoIFcclxuICAgIGFyci5tYXAoaXRlbSA9PiB7XHJcbiAgICAgIGRlbGV0ZSB1c2VyT2JqW2l0ZW1dXHJcbiAgICB9KVxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogdXNlck9iaixcclxuICAgICAgICBtc2c6ICfmt7vliqDnlKjmiLfmiJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmnI3liqHmjqXlj6PlvILluLgnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBVc2VyQ29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/UserController.js\n");

/***/ }),

/***/ "./src/common/ErrorHandle.js":
/*!***********************************!*\
  !*** ./src/common/ErrorHandle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// 错误处理\n/* harmony default export */ __webpack_exports__[\"default\"] = ((ctx, next) => {\n  return next().catch(err => {\n    // 401\n    if (401 == err.status) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protectted resource, use Authorization header to get access\\n'\n      };\n    } else {\n      // 非401\n      ctx.status = err.status || 500;\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message // 添加出错信息位置\n\n      },  true ? {\n        stack: err.stack\n      } : undefined);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiYm9keSIsImNvZGUiLCJtc2ciLCJPYmplY3QiLCJhc3NpZ24iLCJtZXNzYWdlIiwicHJvY2VzcyIsInN0YWNrIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ2UsZ0VBQUNBLEdBQUQsRUFBTUMsSUFBTixLQUFlO0FBQzVCLFNBQU9BLElBQUksR0FBR0MsS0FBUCxDQUFjQyxHQUFELElBQVM7QUFDM0I7QUFDQSxRQUFJLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBZixFQUF1QjtBQUNyQkosU0FBRyxDQUFDSSxNQUFKLEdBQWEsR0FBYjtBQUNBSixTQUFHLENBQUNLLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUQyxXQUFHLEVBQUM7QUFGSyxPQUFYO0FBSUQsS0FORCxNQU1PO0FBQ0w7QUFDQVAsU0FBRyxDQUFDSSxNQUFKLEdBQWFELEdBQUcsQ0FBQ0MsTUFBSixJQUFjLEdBQTNCO0FBQ0FKLFNBQUcsQ0FBQ0ssSUFBSixHQUFXRyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkgsWUFBSSxFQUFFLEdBRGlCO0FBRXZCQyxXQUFHLEVBQUVKLEdBQUcsQ0FBQ08sT0FGYyxDQUd2Qjs7QUFIdUIsT0FBZCxFQUlSQyxLQUFBLEdBQXlDO0FBQUVDLGFBQUssRUFBRVQsR0FBRyxDQUFDUztBQUFiLE9BQXpDLEdBQWdFLFNBSnhELENBQVg7QUFLRDtBQUNGLEdBakJNLENBQVA7QUFrQkQsQ0FuQkQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g6ZSZ6K+v5aSE55CGXHJcbmV4cG9ydCBkZWZhdWx0IChjdHgsIG5leHQpID0+IHtcclxuICByZXR1cm4gbmV4dCgpLmNhdGNoKChlcnIpID0+IHtcclxuICAgIC8vIDQwMVxyXG4gICAgaWYgKDQwMSA9PSBlcnIuc3RhdHVzKSB7XHJcbiAgICAgIGN0eC5zdGF0dXMgPSA0MDFcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgIG1zZzonUHJvdGVjdHRlZCByZXNvdXJjZSwgdXNlIEF1dGhvcml6YXRpb24gaGVhZGVyIHRvIGdldCBhY2Nlc3NcXG4nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOmdnjQwMVxyXG4gICAgICBjdHguc3RhdHVzID0gZXJyLnN0YXR1cyB8fCA1MDBcclxuICAgICAgY3R4LmJvZHkgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiBlcnIubWVzc2FnZVxyXG4gICAgICAgIC8vIOa3u+WKoOWHuumUmeS/oeaBr+S9jee9rlxyXG4gICAgICB9LCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHsgc3RhY2s6IGVyci5zdGFjayB9IDoge30pXHJcbiAgICB9XHJcbiAgfSlcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/ErrorHandle.js\n");

/***/ }),

/***/ "./src/common/Utils.js":
/*!*****************************!*\
  !*** ./src/common/Utils.js ***!
  \*****************************/
/*! exports provided: checkCode, getJWtPayload, dirExists, rename */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCode\", function() { return checkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getJWtPayload\", function() { return getJWtPayload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dirExists\", function() { return dirExists; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rename\", function() { return rename; });\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n // 获取token中的数据\n\nconst getJWtPayload = token => {\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.verify(token.split(' ')[1], _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].JWT_SECRET);\n}; // 检验验证码\n\n\nconst checkCode = async (key, value) => {\n  // 根据sid获取redis中的验证码\n  const redisData = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__[\"getValue\"])(key);\n\n  if (redisData != null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}; // 判断目录是否存在\n\n\nconst getStats = path => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.stat(path, (err, stats) => {\n      if (err) {\n        // 不存在\n        resolve(false);\n      } else {\n        // stats 为 stat函数返回的Stats对象\n        resolve(stats);\n      }\n    }); // fs.stat(path, (err, stats) => err ? resolve(false) : resolve(stats))\n  });\n}; // 创建目录\n\n\nconst mkdir = dir => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.mkdir(dir, err => err ? resolve(false) : resolve(true));\n  });\n}; // 循环遍历,递归判断如果上级目录不存在,则产生上级目录\n\n\nconst dirExists = async dir => {\n  // 判断目录是否存在\n  const isExists = await getStats(dir); // 如果该路径存在且不是文件,返回true, isDirectory检查目录是否存在\n\n  if (isExists && isExists.isDirectory()) {\n    return true;\n  } else if (isExists) {\n    // 路径存在,但是是文件,返回false\n    return false;\n  } // 如果该路径不存在 parse 解析路径并返回一个对象\n  // parse('/a/b/c/d.txt') -> { root:'/', dir:'/a/b/c', ext:'.txt', base:'d.txt', name: 'd' }\n  // parse(dir).dir 拿到路径的上一级目录路径再调用函数判断是否存在\n\n\n  const tempDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.parse(dir).dir; // 循环遍历,递归判断,如果当前目录不存在则判断上级目录,直到有一级目录存在则调用mkdir直接创建所传路径,然后一层层创建\n\n  const status = await dirExists(tempDir);\n\n  if (status) {\n    const result = await mkdir(dir);\n    console.log('dirExists -> mkdir:', result);\n    return result;\n  } else {\n    return false;\n  }\n};\n\nconst rename = (obj, key, newKey) => {\n  if (Object.keys(obj).indexOf(key) !== -1) {\n    obj[newKey] = obj[key];\n    delete obj[key];\n  }\n\n  return obj;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1V0aWxzLmpzP2I0ZGYiXSwibmFtZXMiOlsiZ2V0Sld0UGF5bG9hZCIsInRva2VuIiwiand0IiwidmVyaWZ5Iiwic3BsaXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiY2hlY2tDb2RlIiwia2V5IiwidmFsdWUiLCJyZWRpc0RhdGEiLCJnZXRWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZ2V0U3RhdHMiLCJwYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmcyIsInN0YXQiLCJlcnIiLCJzdGF0cyIsIm1rZGlyIiwiZGlyIiwiZGlyRXhpc3RzIiwiaXNFeGlzdHMiLCJpc0RpcmVjdG9yeSIsInRlbXBEaXIiLCJwYXJzZSIsInN0YXR1cyIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJyZW5hbWUiLCJvYmoiLCJuZXdLZXkiLCJPYmplY3QiLCJrZXlzIiwiaW5kZXhPZiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtDQUdBOztBQUNBLE1BQU1BLGFBQWEsR0FBR0MsS0FBSyxJQUFJO0FBQzdCLFNBQU9DLG1EQUFHLENBQUNDLE1BQUosQ0FBV0YsS0FBSyxDQUFDRyxLQUFOLENBQVksR0FBWixFQUFpQixDQUFqQixDQUFYLEVBQWdDQyxxREFBTSxDQUFDQyxVQUF2QyxDQUFQO0FBQ0QsQ0FGRCxDLENBSUE7OztBQUNBLE1BQU1DLFNBQVMsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEtBQVosS0FBc0I7QUFDdEM7QUFDQSxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsb0VBQVEsQ0FBQ0gsR0FBRCxDQUFoQzs7QUFDQSxNQUFJRSxTQUFTLElBQUksSUFBakIsRUFBdUI7QUFDckIsUUFBR0EsU0FBUyxDQUFDRSxXQUFWLE9BQTRCSCxLQUFLLENBQUNHLFdBQU4sRUFBL0IsRUFBbUQ7QUFDakQsYUFBTyxJQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsYUFBTyxLQUFQO0FBQ0Q7QUFDRixHQU5ELE1BTU87QUFDTCxXQUFPLEtBQVA7QUFDRDtBQUNGLENBWkQsQyxDQWNBOzs7QUFDQSxNQUFNQyxRQUFRLEdBQUlDLElBQUQsSUFBVTtBQUN6QixTQUFPLElBQUlDLE9BQUosQ0FBYUMsT0FBRCxJQUFhO0FBQzlCQyw2Q0FBRSxDQUFDQyxJQUFILENBQVFKLElBQVIsRUFBYyxDQUFDSyxHQUFELEVBQU1DLEtBQU4sS0FBZ0I7QUFDNUIsVUFBSUQsR0FBSixFQUFTO0FBQ1A7QUFDQUgsZUFBTyxDQUFDLEtBQUQsQ0FBUDtBQUNELE9BSEQsTUFHTztBQUNMO0FBQ0FBLGVBQU8sQ0FBQ0ksS0FBRCxDQUFQO0FBQ0Q7QUFDRixLQVJELEVBRDhCLENBVTlCO0FBQ0QsR0FYTSxDQUFQO0FBWUQsQ0FiRCxDLENBZUE7OztBQUNBLE1BQU1DLEtBQUssR0FBSUMsR0FBRCxJQUFTO0FBQ3JCLFNBQU8sSUFBSVAsT0FBSixDQUFhQyxPQUFELElBQWE7QUFDOUJDLDZDQUFFLENBQUNJLEtBQUgsQ0FBU0MsR0FBVCxFQUFjSCxHQUFHLElBQUlBLEdBQUcsR0FBR0gsT0FBTyxDQUFDLEtBQUQsQ0FBVixHQUFvQkEsT0FBTyxDQUFDLElBQUQsQ0FBbkQ7QUFDRCxHQUZNLENBQVA7QUFHRCxDQUpELEMsQ0FNQTs7O0FBQ0EsTUFBTU8sU0FBUyxHQUFHLE1BQU9ELEdBQVAsSUFBZTtBQUMvQjtBQUNBLFFBQU1FLFFBQVEsR0FBRyxNQUFNWCxRQUFRLENBQUNTLEdBQUQsQ0FBL0IsQ0FGK0IsQ0FJL0I7O0FBQ0EsTUFBSUUsUUFBUSxJQUFJQSxRQUFRLENBQUNDLFdBQVQsRUFBaEIsRUFBd0M7QUFDdEMsV0FBTyxJQUFQO0FBQ0QsR0FGRCxNQUVPLElBQUlELFFBQUosRUFBYztBQUNuQjtBQUNBLFdBQU8sS0FBUDtBQUNELEdBVjhCLENBWS9CO0FBQ0E7QUFDQTs7O0FBQ0EsUUFBTUUsT0FBTyxHQUFHWiwyQ0FBSSxDQUFDYSxLQUFMLENBQVdMLEdBQVgsRUFBZ0JBLEdBQWhDLENBZitCLENBZ0IvQjs7QUFDQSxRQUFNTSxNQUFNLEdBQUcsTUFBTUwsU0FBUyxDQUFDRyxPQUFELENBQTlCOztBQUNBLE1BQUlFLE1BQUosRUFBWTtBQUNWLFVBQU1DLE1BQU0sR0FBRyxNQUFNUixLQUFLLENBQUNDLEdBQUQsQ0FBMUI7QUFDQVEsV0FBTyxDQUFDQyxHQUFSLENBQVkscUJBQVosRUFBbUNGLE1BQW5DO0FBQ0EsV0FBT0EsTUFBUDtBQUNELEdBSkQsTUFJTztBQUNMLFdBQU8sS0FBUDtBQUNEO0FBQ0YsQ0F6QkQ7O0FBMkJBLE1BQU1HLE1BQU0sR0FBRyxDQUFDQyxHQUFELEVBQU16QixHQUFOLEVBQVcwQixNQUFYLEtBQXNCO0FBQ25DLE1BQUlDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSCxHQUFaLEVBQWlCSSxPQUFqQixDQUF5QjdCLEdBQXpCLE1BQWtDLENBQUMsQ0FBdkMsRUFBMEM7QUFDeEN5QixPQUFHLENBQUNDLE1BQUQsQ0FBSCxHQUFjRCxHQUFHLENBQUN6QixHQUFELENBQWpCO0FBQ0EsV0FBT3lCLEdBQUcsQ0FBQ3pCLEdBQUQsQ0FBVjtBQUNEOztBQUNELFNBQU95QixHQUFQO0FBQ0QsQ0FORCIsImZpbGUiOiIuL3NyYy9jb21tb24vVXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRWYWx1ZSB9IGZyb20gJy4uL2NvbmZpZy9SZWRpc0NvbmZpZydcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcvaW5kZXgnXHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcblxyXG4vLyDojrflj5Z0b2tlbuS4reeahOaVsOaNrlxyXG5jb25zdCBnZXRKV3RQYXlsb2FkID0gdG9rZW4gPT4ge1xyXG4gIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLnNwbGl0KCcgJylbMV0sIGNvbmZpZy5KV1RfU0VDUkVUKVxyXG59XHJcblxyXG4vLyDmo4Dpqozpqozor4HnoIFcclxuY29uc3QgY2hlY2tDb2RlID0gYXN5bmMgKGtleSwgdmFsdWUpID0+IHtcclxuICAvLyDmoLnmja5zaWTojrflj5ZyZWRpc+S4reeahOmqjOivgeeggVxyXG4gIGNvbnN0IHJlZGlzRGF0YSA9IGF3YWl0IGdldFZhbHVlKGtleSlcclxuICBpZiAocmVkaXNEYXRhICE9IG51bGwpIHtcclxuICAgIGlmKHJlZGlzRGF0YS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKXtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbi8vIOWIpOaWreebruW9leaYr+WQpuWtmOWcqFxyXG5jb25zdCBnZXRTdGF0cyA9IChwYXRoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBmcy5zdGF0KHBhdGgsIChlcnIsIHN0YXRzKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAvLyDkuI3lrZjlnKhcclxuICAgICAgICByZXNvbHZlKGZhbHNlKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHN0YXRzIOS4uiBzdGF05Ye95pWw6L+U5Zue55qEU3RhdHPlr7nosaFcclxuICAgICAgICByZXNvbHZlKHN0YXRzKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gZnMuc3RhdChwYXRoLCAoZXJyLCBzdGF0cykgPT4gZXJyID8gcmVzb2x2ZShmYWxzZSkgOiByZXNvbHZlKHN0YXRzKSlcclxuICB9KVxyXG59XHJcblxyXG4vLyDliJvlu7rnm67lvZVcclxuY29uc3QgbWtkaXIgPSAoZGlyKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBmcy5ta2RpcihkaXIsIGVyciA9PiBlcnIgPyByZXNvbHZlKGZhbHNlKSA6IHJlc29sdmUodHJ1ZSkpXHJcbiAgfSlcclxufVxyXG5cclxuLy8g5b6q546v6YGN5Y6GLOmAkuW9kuWIpOaWreWmguaenOS4iue6p+ebruW9leS4jeWtmOWcqCzliJnkuqfnlJ/kuIrnuqfnm67lvZVcclxuY29uc3QgZGlyRXhpc3RzID0gYXN5bmMgKGRpcikgPT4ge1xyXG4gIC8vIOWIpOaWreebruW9leaYr+WQpuWtmOWcqFxyXG4gIGNvbnN0IGlzRXhpc3RzID0gYXdhaXQgZ2V0U3RhdHMoZGlyKVxyXG5cclxuICAvLyDlpoLmnpzor6Xot6/lvoTlrZjlnKjkuJTkuI3mmK/mlofku7Ys6L+U5ZuedHJ1ZSwgaXNEaXJlY3Rvcnnmo4Dmn6Xnm67lvZXmmK/lkKblrZjlnKhcclxuICBpZiAoaXNFeGlzdHMgJiYgaXNFeGlzdHMuaXNEaXJlY3RvcnkoKSkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9IGVsc2UgaWYgKGlzRXhpc3RzKSB7XHJcbiAgICAvLyDot6/lvoTlrZjlnKgs5L2G5piv5piv5paH5Lu2LOi/lOWbnmZhbHNlXHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIC8vIOWmguaenOivpei3r+W+hOS4jeWtmOWcqCBwYXJzZSDop6PmnpDot6/lvoTlubbov5Tlm57kuIDkuKrlr7nosaFcclxuICAvLyBwYXJzZSgnL2EvYi9jL2QudHh0JykgLT4geyByb290OicvJywgZGlyOicvYS9iL2MnLCBleHQ6Jy50eHQnLCBiYXNlOidkLnR4dCcsIG5hbWU6ICdkJyB9XHJcbiAgLy8gcGFyc2UoZGlyKS5kaXIg5ou/5Yiw6Lev5b6E55qE5LiK5LiA57qn55uu5b2V6Lev5b6E5YaN6LCD55So5Ye95pWw5Yik5pat5piv5ZCm5a2Y5ZyoXHJcbiAgY29uc3QgdGVtcERpciA9IHBhdGgucGFyc2UoZGlyKS5kaXJcclxuICAvLyDlvqrnjq/pgY3ljoYs6YCS5b2S5Yik5patLOWmguaenOW9k+WJjeebruW9leS4jeWtmOWcqOWImeWIpOaWreS4iue6p+ebruW9lSznm7TliLDmnInkuIDnuqfnm67lvZXlrZjlnKjliJnosIPnlKhta2RpcuebtOaOpeWIm+W7uuaJgOS8oOi3r+W+hCznhLblkI7kuIDlsYLlsYLliJvlu7pcclxuICBjb25zdCBzdGF0dXMgPSBhd2FpdCBkaXJFeGlzdHModGVtcERpcilcclxuICBpZiAoc3RhdHVzKSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBta2RpcihkaXIpXHJcbiAgICBjb25zb2xlLmxvZygnZGlyRXhpc3RzIC0+IG1rZGlyOicsIHJlc3VsdClcclxuICAgIHJldHVybiByZXN1bHRcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCByZW5hbWUgPSAob2JqLCBrZXksIG5ld0tleSkgPT4ge1xyXG4gIGlmIChPYmplY3Qua2V5cyhvYmopLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcclxuICAgIG9ialtuZXdLZXldID0gb2JqW2tleV1cclxuICAgIGRlbGV0ZSBvYmpba2V5XVxyXG4gIH1cclxuICByZXR1cm4gb2JqXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgY2hlY2tDb2RlLFxyXG4gIGdldEpXdFBheWxvYWQsXHJcbiAgZGlyRXhpc3RzLFxyXG4gIHJlbmFtZVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/Utils.js\n");

/***/ }),

/***/ "./src/config/DBHelpler.js":
/*!*********************************!*\
  !*** ./src/config/DBHelpler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n/*\n * @Author: your name\n * @Date: 2020-12-28 15:06:57\n * @LastEditTime: 2021-02-22 13:40:26\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: \\test-axios-api-start\\src\\config\\DBHelpler.js\n */\n\n // 创建连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); // 连接成功\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('connected', () => {\n  console.log('Mongoose connection open to ' + _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL);\n}); // 连接异常\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('error', err => {\n  console.log('Mongoose connection error: ' + err);\n}); // 断开连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('disconnected', () => {\n  console.log('Mongoose connection disconnected');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mongoose__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcz9lNjg0Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdCIsImNvbmZpZyIsIkRCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0NBR0E7O0FBQ0FBLCtDQUFRLENBQUNDLE9BQVQsQ0FBaUJDLDhDQUFNLENBQUNDLE1BQXhCLEVBQWdDO0FBQzlCQyxpQkFBZSxFQUFFLElBRGE7QUFFOUJDLG9CQUFrQixFQUFFO0FBRlUsQ0FBaEMsRSxDQUtBOztBQUNBTCwrQ0FBUSxDQUFDTSxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxNQUFNO0FBQ3hDQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxpQ0FBaUNQLDhDQUFNLENBQUNDLE1BQXBEO0FBQ0QsQ0FGRCxFLENBSUE7O0FBQ0FILCtDQUFRLENBQUNNLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWlDRyxHQUFELElBQVM7QUFDdkNGLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLGdDQUFnQ0MsR0FBNUM7QUFDRCxDQUZELEUsQ0FJQTs7QUFDQVYsK0NBQVEsQ0FBQ00sVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUMsTUFBTTtBQUMzQ0MsU0FBTyxDQUFDQyxHQUFSLENBQVksa0NBQVo7QUFDRCxDQUZEO0FBSWVULDhHQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9EQkhlbHBsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQEF1dGhvcjogeW91ciBuYW1lXG4gKiBARGF0ZTogMjAyMC0xMi0yOCAxNTowNjo1N1xuICogQExhc3RFZGl0VGltZTogMjAyMS0wMi0yMiAxMzo0MDoyNlxuICogQExhc3RFZGl0b3JzOiBQbGVhc2Ugc2V0IExhc3RFZGl0b3JzXG4gKiBARGVzY3JpcHRpb246IEluIFVzZXIgU2V0dGluZ3MgRWRpdFxuICogQEZpbGVQYXRoOiBcXHRlc3QtYXhpb3MtYXBpLXN0YXJ0XFxzcmNcXGNvbmZpZ1xcREJIZWxwbGVyLmpzXG4gKi9cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcbmltcG9ydCBjb25maWcgZnJvbSAnLi9pbmRleCdcblxuLy8g5Yib5bu66L+e5o6lXG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5EQl9VUkwsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbn0pXG5cbi8vIOi/nuaOpeaIkOWKn1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBvcGVuIHRvICcgKyBjb25maWcuREJfVVJMKTtcbn0pXG5cbi8vIOi/nuaOpeW8guW4uFxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdNb25nb29zZSBjb25uZWN0aW9uIGVycm9yOiAnICsgZXJyKTtcbn0pXG5cbi8vIOaWreW8gOi/nuaOpVxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZGlzY29ubmVjdGVkJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnKVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/DBHelpler.js\n");

/***/ }),

/***/ "./src/config/MailConfig.js":
/*!**********************************!*\
  !*** ./src/config/MailConfig.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n // async..await is not allowed in global scope, must use a wrapper\n\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  // let testAccount = await nodemailer.createTestAccount()\n  // create reusable transporter object using the default SMTP transport\n  let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n    host: 'smtp.qq.com',\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: '841796191@qq.com',\n      // generated ethereal user\n      pass: 'emhqkhwzaooobeei' // 授权码到qq邮箱设置中获取\n\n    }\n  }); // let sendInfo = {\n  //   code: '1234',\n  //   expire: '2019-10-01',\n  //   email: 'imoocbrian@qq.com',\n  //   user: 'Brian',\n  // }\n\n  const baseUrl = _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl;\n  const route = sendInfo.type === 'email' ? '/confirm' : 'reset'; // 拼接跳转链接,携带uuid和新修改用户邮箱\n\n  let url = `${baseUrl}/#${route}?` + qs__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(sendInfo.data); // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: '\"认证邮件\" <841796191@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: sendInfo.user !== '' && sendInfo.type !== 'email' ? `你好开发者，${sendInfo.user}！《问答网》注册码` : '《问答网》确认修改邮件链接',\n    // Subject line\n    text: `您在问答网中注册，您的邀请码是${sendInfo.code},邀请码的过期时间: ${sendInfo.expire}`,\n    // plain text body\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">问答社区——欢迎来到官方社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，修改链接有效时间30分钟，请在${sendInfo.expire}之前确认修改您的账号邮箱：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n    ` // html body\n\n  });\n  return 'Message sent: %s', info.messageId; // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n  // console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info))\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n} // main().catch(console.error)\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (send);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL01haWxDb25maWcuanM/MmRiMSJdLCJuYW1lcyI6WyJzZW5kIiwic2VuZEluZm8iLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImJhc2VVcmwiLCJjb25maWciLCJyb3V0ZSIsInR5cGUiLCJ1cmwiLCJxcyIsInN0cmluZ2lmeSIsImRhdGEiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJ0ZXh0IiwiY29kZSIsImV4cGlyZSIsImh0bWwiLCJtZXNzYWdlSWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Q0FHQTs7QUFDQSxlQUFlQSxJQUFmLENBQW9CQyxRQUFwQixFQUE4QjtBQUM1QjtBQUNBO0FBQ0E7QUFFQTtBQUNBLE1BQUlDLFdBQVcsR0FBR0MsaURBQVUsQ0FBQ0MsZUFBWCxDQUEyQjtBQUMzQ0MsUUFBSSxFQUFFLGFBRHFDO0FBRTNDQyxRQUFJLEVBQUUsR0FGcUM7QUFHM0NDLFVBQU0sRUFBRSxLQUhtQztBQUc1QjtBQUNmQyxRQUFJLEVBQUU7QUFDSkMsVUFBSSxFQUFFLGtCQURGO0FBQ3NCO0FBQzFCQyxVQUFJLEVBQUUsa0JBRkYsQ0FFc0I7O0FBRnRCO0FBSnFDLEdBQTNCLENBQWxCLENBTjRCLENBZ0I1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsUUFBTUMsT0FBTyxHQUFHQyw4Q0FBTSxDQUFDRCxPQUF2QjtBQUNBLFFBQU1FLEtBQUssR0FBR1osUUFBUSxDQUFDYSxJQUFULEtBQWtCLE9BQWxCLEdBQTRCLFVBQTVCLEdBQXlDLE9BQXZELENBdkI0QixDQXdCNUI7O0FBQ0EsTUFBSUMsR0FBRyxHQUFJLEdBQUVKLE9BQVEsS0FBSUUsS0FBTSxHQUFyQixHQUEwQkcseUNBQUUsQ0FBQ0MsU0FBSCxDQUFhaEIsUUFBUSxDQUFDaUIsSUFBdEIsQ0FBcEMsQ0F6QjRCLENBMkI1Qjs7QUFDQSxNQUFJQyxJQUFJLEdBQUcsTUFBTWpCLFdBQVcsQ0FBQ2tCLFFBQVosQ0FBcUI7QUFDcENDLFFBQUksRUFBRSwyQkFEOEI7QUFDRDtBQUNuQ0MsTUFBRSxFQUFFckIsUUFBUSxDQUFDc0IsS0FGdUI7QUFFaEI7QUFDcEJDLFdBQU8sRUFDTHZCLFFBQVEsQ0FBQ1EsSUFBVCxLQUFrQixFQUFsQixJQUF3QlIsUUFBUSxDQUFDYSxJQUFULEtBQWtCLE9BQTFDLEdBQ0ssU0FBUWIsUUFBUSxDQUFDUSxJQUFLLFdBRDNCLEdBRUksZUFOOEI7QUFNYjtBQUN2QmdCLFFBQUksRUFBRyxrQkFDTHhCLFFBQVEsQ0FBQ3lCLElBQ1YsY0FBYXpCLFFBQVEsQ0FBQzBCLE1BQU8sRUFUTTtBQVNIO0FBQ2pDQyxRQUFJLEVBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IzQixRQUFRLENBQUNRLElBQUsscUJBQzVCUixRQUFRLENBQUMwQixNQUNWO0FBQ0wscUJBQXFCWixHQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0F0QndDLENBc0JqQzs7QUF0QmlDLEdBQXJCLENBQWpCO0FBeUJBLFNBQU8sb0JBQW9CSSxJQUFJLENBQUNVLFNBQWhDLENBckQ0QixDQXNENUI7QUFFQTtBQUNBO0FBQ0E7QUFDRCxDLENBRUQ7OztBQUVlN0IsbUVBQWYiLCJmaWxlIjoiLi9zcmMvY29uZmlnL01haWxDb25maWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHFzIGZyb20gJ3FzJ1xuXG4vLyBhc3luYy4uYXdhaXQgaXMgbm90IGFsbG93ZWQgaW4gZ2xvYmFsIHNjb3BlLCBtdXN0IHVzZSBhIHdyYXBwZXJcbmFzeW5jIGZ1bmN0aW9uIHNlbmQoc2VuZEluZm8pIHtcbiAgLy8gR2VuZXJhdGUgdGVzdCBTTVRQIHNlcnZpY2UgYWNjb3VudCBmcm9tIGV0aGVyZWFsLmVtYWlsXG4gIC8vIE9ubHkgbmVlZGVkIGlmIHlvdSBkb24ndCBoYXZlIGEgcmVhbCBtYWlsIGFjY291bnQgZm9yIHRlc3RpbmdcbiAgLy8gbGV0IHRlc3RBY2NvdW50ID0gYXdhaXQgbm9kZW1haWxlci5jcmVhdGVUZXN0QWNjb3VudCgpXG5cbiAgLy8gY3JlYXRlIHJldXNhYmxlIHRyYW5zcG9ydGVyIG9iamVjdCB1c2luZyB0aGUgZGVmYXVsdCBTTVRQIHRyYW5zcG9ydFxuICBsZXQgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgaG9zdDogJ3NtdHAucXEuY29tJyxcbiAgICBwb3J0OiA1ODcsXG4gICAgc2VjdXJlOiBmYWxzZSwgLy8gdHJ1ZSBmb3IgNDY1LCBmYWxzZSBmb3Igb3RoZXIgcG9ydHNcbiAgICBhdXRoOiB7XG4gICAgICB1c2VyOiAnODQxNzk2MTkxQHFxLmNvbScsIC8vIGdlbmVyYXRlZCBldGhlcmVhbCB1c2VyXG4gICAgICBwYXNzOiAnZW1ocWtod3phb29vYmVlaScsIC8vIOaOiOadg+eggeWIsHFx6YKu566x6K6+572u5Lit6I635Y+WXG4gICAgfSxcbiAgfSlcblxuICAvLyBsZXQgc2VuZEluZm8gPSB7XG4gIC8vICAgY29kZTogJzEyMzQnLFxuICAvLyAgIGV4cGlyZTogJzIwMTktMTAtMDEnLFxuICAvLyAgIGVtYWlsOiAnaW1vb2NicmlhbkBxcS5jb20nLFxuICAvLyAgIHVzZXI6ICdCcmlhbicsXG4gIC8vIH1cbiAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsXG4gIGNvbnN0IHJvdXRlID0gc2VuZEluZm8udHlwZSA9PT0gJ2VtYWlsJyA/ICcvY29uZmlybScgOiAncmVzZXQnXG4gIC8vIOaLvOaOpei3s+i9rOmTvuaOpSzmkLrluKZ1dWlk5ZKM5paw5L+u5pS555So5oi36YKu566xXG4gIGxldCB1cmwgPSBgJHtiYXNlVXJsfS8jJHtyb3V0ZX0/YCArIHFzLnN0cmluZ2lmeShzZW5kSW5mby5kYXRhKVxuXG4gIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxuICBsZXQgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICBmcm9tOiAnXCLorqTor4Hpgq7ku7ZcIiA8ODQxNzk2MTkxQHFxLmNvbT4nLCAvLyBzZW5kZXIgYWRkcmVzc1xuICAgIHRvOiBzZW5kSW5mby5lbWFpbCwgLy8gbGlzdCBvZiByZWNlaXZlcnNcbiAgICBzdWJqZWN0OlxuICAgICAgc2VuZEluZm8udXNlciAhPT0gJycgJiYgc2VuZEluZm8udHlwZSAhPT0gJ2VtYWlsJ1xuICAgICAgICA/IGDkvaDlpb3lvIDlj5HogIXvvIwke3NlbmRJbmZvLnVzZXJ977yB44CK6Zeu562U572R44CL5rOo5YaM56CBYFxuICAgICAgICA6ICfjgIrpl67nrZTnvZHjgIvnoa7orqTkv67mlLnpgq7ku7bpk77mjqUnLCAvLyBTdWJqZWN0IGxpbmVcbiAgICB0ZXh0OiBg5oKo5Zyo6Zeu562U572R5Lit5rOo5YaM77yM5oKo55qE6YKA6K+356CB5pivJHtcbiAgICAgIHNlbmRJbmZvLmNvZGVcbiAgICB9LOmCgOivt+eggeeahOi/h+acn+aXtumXtDogJHtzZW5kSW5mby5leHBpcmV9YCwgLy8gcGxhaW4gdGV4dCBib2R5XG4gICAgaHRtbDogYFxuICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgI2RjZGNkYztjb2xvcjogIzY3Njc2Nzt3aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nLWJvdHRvbTogNTBweDtwb3NpdGlvbjogcmVsYXRpdmU7XCI+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDYwcHg7IGJhY2tncm91bmQ6ICMzOTNkNDk7IGxpbmUtaGVpZ2h0OiA2MHB4OyBjb2xvcjogIzU4YTM2ZjsgZm9udC1zaXplOiAxOHB4O3BhZGRpbmctbGVmdDogMTBweDtcIj7pl67nrZTnpL7ljLrigJTigJTmrKLov47mnaXliLDlrpjmlrnnpL7ljLo8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDI1cHhcIj5cbiAgICAgICAgICA8ZGl2PuaCqOWlve+8jCR7c2VuZEluZm8udXNlcn3nq6XpnovvvIzkv67mlLnpk77mjqXmnInmlYjml7bpl7QzMOWIhumSn++8jOivt+WcqCR7XG4gICAgICBzZW5kSW5mby5leHBpcmVcbiAgICB95LmL5YmN56Gu6K6k5L+u5pS55oKo55qE6LSm5Y+36YKu566x77yaPC9kaXY+XG4gICAgICAgICAgPGEgaHJlZj1cIiR7dXJsfVwiIHN0eWxlPVwicGFkZGluZzogMTBweCAyMHB4OyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIzAwOWU5NDsgZGlzcGxheTogaW5saW5lLWJsb2NrO21hcmdpbjogMTVweCAwO1wiPueri+WNs+mHjee9ruWvhueggTwvYT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogNXB4OyBiYWNrZ3JvdW5kOiAjZjJmMmYyO1wiPuWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAgjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmYWZhZmE7IGNvbG9yOiAjYjRiNGI0O3RleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDQ1cHg7IGhlaWdodDogNDVweDsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyBib3R0b206IDA7d2lkdGg6IDEwMCU7XCI+57O757uf6YKu5Lu277yM6K+35Yu/55u05o6l5Zue5aSNPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYCwgLy8gaHRtbCBib2R5XG4gIH0pXG5cbiAgcmV0dXJuICdNZXNzYWdlIHNlbnQ6ICVzJywgaW5mby5tZXNzYWdlSWRcbiAgLy8gTWVzc2FnZSBzZW50OiA8YjY1OGY4Y2EtNjI5Ni1jY2Y0LTgzMDYtODdkNTdhMGI0MzIxQGV4YW1wbGUuY29tPlxuXG4gIC8vIFByZXZpZXcgb25seSBhdmFpbGFibGUgd2hlbiBzZW5kaW5nIHRocm91Z2ggYW4gRXRoZXJlYWwgYWNjb3VudFxuICAvLyBjb25zb2xlLmxvZygnUHJldmlldyBVUkw6ICVzJywgbm9kZW1haWxlci5nZXRUZXN0TWVzc2FnZVVybChpbmZvKSlcbiAgLy8gUHJldmlldyBVUkw6IGh0dHBzOi8vZXRoZXJlYWwuZW1haWwvbWVzc2FnZS9XYVFLTWdLZGR4UURvb3UuLi5cbn1cblxuLy8gbWFpbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG5cbmV4cG9ydCBkZWZhdWx0IHNlbmRcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/MailConfig.js\n");

/***/ }),

/***/ "./src/config/RedisConfig.js":
/*!***********************************!*\
  !*** ./src/config/RedisConfig.js ***!
  \***********************************/
/*! exports provided: client, setValue, getValue, getHValue, delValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"client\", function() { return client; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setValue\", function() { return setValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValue\", function() { return getValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHValue\", function() { return getHValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delValue\", function() { return delValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bluebird */ \"bluebird\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\n\nconst options = {\n  host: '192.168.110.131',\n  port: 15001,\n  password: '123456',\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === 'ECONNREFUSED') {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error('The server refused the connection');\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error('Retry time exhausted');\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n}; // const client = redis.createClient(options)\n// promisifyAll把redis的操作全转换为异步操作\n\nconst client = Object(bluebird__WEBPACK_IMPORTED_MODULE_1__[\"promisifyAll\"])(redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options));\nclient.on('error', err => {\n  console.log('Redis Client Error:' + err);\n}); // 设置键值\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value == null || value === '') {\n    return;\n  } // 判断存储的是字符串还是哈希对象\n\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      // 如果有传时间参数则给键值设置过期时间\n      client.set(key, value, 'EX', time);\n    } else {\n      client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    // { key1: value1, key2: value2}\n    // Object.keys(value) => [key1, key2]\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print);\n    });\n  }\n}; // const {promisify} = require('util');\n// const getAsync = promisify(client.get).bind(client);\n// 获取键值\n\n\nconst getValue = key => {\n  return client.getAsync(key);\n}; // 获取所有键值\n\n\nconst getHValue = key => {\n  // v8 Promisify method use util, must node > 8\n  // return promisify(client.hgetall).bind(client)(key)\n  // bluebird async\n  return client.hgetallAsync(key);\n}; // 删除键值\n\n\nconst delValue = key => {\n  client.del(key, (err, res) => {\n    if (res === 1) {\n      console.log('delete successfully');\n    } else {\n      console.log('delete redis key error:' + err);\n    }\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiXSwibmFtZXMiOlsib3B0aW9ucyIsImhvc3QiLCJwb3J0IiwicGFzc3dvcmQiLCJkZXRlY3RfYnVmZmVycyIsInJldHJ5X3N0cmF0ZWd5IiwiZXJyb3IiLCJjb2RlIiwiRXJyb3IiLCJ0b3RhbF9yZXRyeV90aW1lIiwiYXR0ZW1wdCIsInVuZGVmaW5lZCIsIk1hdGgiLCJtaW4iLCJjbGllbnQiLCJwcm9taXNpZnlBbGwiLCJyZWRpcyIsImNyZWF0ZUNsaWVudCIsIm9uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInNldFZhbHVlIiwia2V5IiwidmFsdWUiLCJ0aW1lIiwic2V0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpdGVtIiwiaHNldCIsInByaW50IiwiZ2V0VmFsdWUiLCJnZXRBc3luYyIsImdldEhWYWx1ZSIsImhnZXRhbGxBc3luYyIsImRlbFZhbHVlIiwiZGVsIiwicmVzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUEsTUFBTUEsT0FBTyxHQUFHO0FBQ2RDLE1BQUksRUFBRSxpQkFEUTtBQUVkQyxNQUFJLEVBQUUsS0FGUTtBQUdkQyxVQUFRLEVBQUUsUUFISTtBQUlkQyxnQkFBYyxFQUFFLElBSkY7QUFLZEMsZ0JBQWMsRUFBRSxVQUFVTCxPQUFWLEVBQW1CO0FBQ2pDLFFBQUlBLE9BQU8sQ0FBQ00sS0FBUixJQUFpQk4sT0FBTyxDQUFDTSxLQUFSLENBQWNDLElBQWQsS0FBdUIsY0FBNUMsRUFBNEQ7QUFDeEQ7QUFDQTtBQUNBLGFBQU8sSUFBSUMsS0FBSixDQUFVLG1DQUFWLENBQVA7QUFDSDs7QUFDRCxRQUFJUixPQUFPLENBQUNTLGdCQUFSLEdBQTJCLE9BQU8sRUFBUCxHQUFZLEVBQTNDLEVBQStDO0FBQzNDO0FBQ0E7QUFDQSxhQUFPLElBQUlELEtBQUosQ0FBVSxzQkFBVixDQUFQO0FBQ0g7O0FBQ0QsUUFBSVIsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEVBQXRCLEVBQTBCO0FBQ3RCO0FBQ0EsYUFBT0MsU0FBUDtBQUNILEtBZGdDLENBZWpDOzs7QUFDQSxXQUFPQyxJQUFJLENBQUNDLEdBQUwsQ0FBU2IsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEdBQTNCLEVBQWdDLElBQWhDLENBQVA7QUFDRDtBQXRCYSxDQUFoQixDLENBeUJBO0FBQ0E7O0FBQ0EsTUFBTUksTUFBTSxHQUFHQyw2REFBWSxDQUFDQyw0Q0FBSyxDQUFDQyxZQUFOLENBQW1CakIsT0FBbkIsQ0FBRCxDQUEzQjtBQUVBYyxNQUFNLENBQUNJLEVBQVAsQ0FBVSxPQUFWLEVBQW9CQyxHQUFELElBQVM7QUFDMUJDLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUF3QkYsR0FBcEM7QUFDRCxDQUZELEUsQ0FHQTs7QUFDQSxNQUFNRyxRQUFRLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxLQUFOLEVBQWFDLElBQWIsS0FBc0I7QUFDckMsTUFBSSxPQUFPRCxLQUFQLEtBQWlCLFdBQWpCLElBQWdDQSxLQUFLLElBQUksSUFBekMsSUFBZ0RBLEtBQUssS0FBSyxFQUE5RCxFQUFrRTtBQUNoRTtBQUNELEdBSG9DLENBSXJDOzs7QUFDQSxNQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0IsUUFBSSxPQUFPQyxJQUFQLEtBQWdCLFdBQXBCLEVBQWdDO0FBQzlCO0FBQ0FYLFlBQU0sQ0FBQ1ksR0FBUCxDQUFXSCxHQUFYLEVBQWdCQyxLQUFoQixFQUF1QixJQUF2QixFQUE2QkMsSUFBN0I7QUFDRCxLQUhELE1BR087QUFDTFgsWUFBTSxDQUFDWSxHQUFQLENBQVdILEdBQVgsRUFBZ0JDLEtBQWhCO0FBQ0Q7QUFDRixHQVBELE1BT08sSUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQ3BDO0FBQ0E7QUFDQUcsVUFBTSxDQUFDQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE9BQW5CLENBQTRCQyxJQUFELElBQVU7QUFDbkNoQixZQUFNLENBQUNpQixJQUFQLENBQVlSLEdBQVosRUFBaUJPLElBQWpCLEVBQXVCTixLQUFLLENBQUNNLElBQUQsQ0FBNUIsRUFBb0NkLDRDQUFLLENBQUNnQixLQUExQztBQUNELEtBRkQ7QUFHRDtBQUNGLENBbkJELEMsQ0FxQkE7QUFDQTtBQUNBOzs7QUFDQSxNQUFNQyxRQUFRLEdBQUlWLEdBQUQsSUFBUztBQUN4QixTQUFPVCxNQUFNLENBQUNvQixRQUFQLENBQWdCWCxHQUFoQixDQUFQO0FBQ0QsQ0FGRCxDLENBR0E7OztBQUNBLE1BQU1ZLFNBQVMsR0FBSVosR0FBRCxJQUFTO0FBQ3pCO0FBQ0E7QUFFQTtBQUNBLFNBQU9ULE1BQU0sQ0FBQ3NCLFlBQVAsQ0FBb0JiLEdBQXBCLENBQVA7QUFDRCxDQU5ELEMsQ0FPQTs7O0FBQ0EsTUFBTWMsUUFBUSxHQUFJZCxHQUFELElBQVM7QUFDeEJULFFBQU0sQ0FBQ3dCLEdBQVAsQ0FBV2YsR0FBWCxFQUFnQixDQUFDSixHQUFELEVBQU1vQixHQUFOLEtBQWM7QUFDNUIsUUFBSUEsR0FBRyxLQUFLLENBQVosRUFBZTtBQUNibkIsYUFBTyxDQUFDQyxHQUFSLENBQVkscUJBQVo7QUFDRCxLQUZELE1BRU87QUFDTEQsYUFBTyxDQUFDQyxHQUFSLENBQVksNEJBQTRCRixHQUF4QztBQUNEO0FBQ0YsR0FORDtBQU9ELENBUkQiLCJmaWxlIjoiLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzIGZyb20gJ3JlZGlzJ1xuaW1wb3J0IHsgcHJvbWlzaWZ5QWxsIH0gZnJvbSAnYmx1ZWJpcmQnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXG5cbmNvbnN0IG9wdGlvbnMgPSB7XG4gIGhvc3Q6ICcxOTIuMTY4LjExMC4xMzEnLFxuICBwb3J0OiAxNTAwMSxcbiAgcGFzc3dvcmQ6ICcxMjM0NTYnLFxuICBkZXRlY3RfYnVmZmVyczogdHJ1ZSxcbiAgcmV0cnlfc3RyYXRlZ3k6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZXJyb3IgJiYgb3B0aW9ucy5lcnJvci5jb2RlID09PSAnRUNPTk5SRUZVU0VEJykge1xuICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIG9uIGEgc3BlY2lmaWMgZXJyb3IgYW5kIGZsdXNoIGFsbCBjb21tYW5kcyB3aXRoXG4gICAgICAgIC8vIGEgaW5kaXZpZHVhbCBlcnJvclxuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdUaGUgc2VydmVyIHJlZnVzZWQgdGhlIGNvbm5lY3Rpb24nKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudG90YWxfcmV0cnlfdGltZSA+IDEwMDAgKiA2MCAqIDYwKSB7XG4gICAgICAgIC8vIEVuZCByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBzcGVjaWZpYyB0aW1lb3V0IGFuZCBmbHVzaCBhbGwgY29tbWFuZHNcbiAgICAgICAgLy8gd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmV0cnkgdGltZSBleGhhdXN0ZWQnKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYXR0ZW1wdCA+IDEwKSB7XG4gICAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgd2l0aCBidWlsdCBpbiBlcnJvclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyByZWNvbm5lY3QgYWZ0ZXJcbiAgICByZXR1cm4gTWF0aC5taW4ob3B0aW9ucy5hdHRlbXB0ICogMTAwLCAzMDAwKTtcbiAgfVxufVxuXG4vLyBjb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucylcbi8vIHByb21pc2lmeUFsbOaKinJlZGlz55qE5pON5L2c5YWo6L2s5o2i5Li65byC5q2l5pON5L2cXG5jb25zdCBjbGllbnQgPSBwcm9taXNpZnlBbGwocmVkaXMuY3JlYXRlQ2xpZW50KG9wdGlvbnMpKVxuXG5jbGllbnQub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICBjb25zb2xlLmxvZygnUmVkaXMgQ2xpZW50IEVycm9yOicgKyBlcnIpXG59KVxuLy8g6K6+572u6ZSu5YC8XG5jb25zdCBzZXRWYWx1ZSA9IChrZXksIHZhbHVlLCB0aW1lKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09IG51bGwgfHx2YWx1ZSA9PT0gJycpIHtcbiAgICByZXR1cm5cbiAgfVxuICAvLyDliKTmlq3lrZjlgqjnmoTmmK/lrZfnrKbkuLLov5jmmK/lk4jluIzlr7nosaFcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHRpbWUgIT09ICd1bmRlZmluZWQnKXtcbiAgICAgIC8vIOWmguaenOacieS8oOaXtumXtOWPguaVsOWImee7memUruWAvOiuvue9rui/h+acn+aXtumXtFxuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlLCAnRVgnLCB0aW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBjbGllbnQuc2V0KGtleSwgdmFsdWUpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyB7IGtleTE6IHZhbHVlMSwga2V5MjogdmFsdWUyfVxuICAgIC8vIE9iamVjdC5rZXlzKHZhbHVlKSA9PiBba2V5MSwga2V5Ml1cbiAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY2xpZW50LmhzZXQoa2V5LCBpdGVtLCB2YWx1ZVtpdGVtXSwgcmVkaXMucHJpbnQpXG4gICAgfSlcbiAgfVxufVxuXG4vLyBjb25zdCB7cHJvbWlzaWZ5fSA9IHJlcXVpcmUoJ3V0aWwnKTtcbi8vIGNvbnN0IGdldEFzeW5jID0gcHJvbWlzaWZ5KGNsaWVudC5nZXQpLmJpbmQoY2xpZW50KTtcbi8vIOiOt+WPlumUruWAvFxuY29uc3QgZ2V0VmFsdWUgPSAoa2V5KSA9PiB7XG4gIHJldHVybiBjbGllbnQuZ2V0QXN5bmMoa2V5KVxufVxuLy8g6I635Y+W5omA5pyJ6ZSu5YC8XG5jb25zdCBnZXRIVmFsdWUgPSAoa2V5KSA9PiB7XG4gIC8vIHY4IFByb21pc2lmeSBtZXRob2QgdXNlIHV0aWwsIG11c3Qgbm9kZSA+IDhcbiAgLy8gcmV0dXJuIHByb21pc2lmeShjbGllbnQuaGdldGFsbCkuYmluZChjbGllbnQpKGtleSlcblxuICAvLyBibHVlYmlyZCBhc3luY1xuICByZXR1cm4gY2xpZW50LmhnZXRhbGxBc3luYyhrZXkpXG59XG4vLyDliKDpmaTplK7lgLxcbmNvbnN0IGRlbFZhbHVlID0gKGtleSkgPT4ge1xuICBjbGllbnQuZGVsKGtleSwgKGVyciwgcmVzKSA9PiB7XG4gICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSByZWRpcyBrZXkgZXJyb3I6JyArIGVycilcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCB7XG4gIGNsaWVudCxcbiAgc2V0VmFsdWUsXG4gIGdldFZhbHVlLFxuICBnZXRIVmFsdWUsXG4gIGRlbFZhbHVlXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/RedisConfig.js\n");

/***/ }),

/***/ "./src/config/WebSocket.js":
/*!*********************************!*\
  !*** ./src/config/WebSocket.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ws */ \"ws\");\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ws__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n\n\n\n\nclass WebSocketServer {\n  constructor(config = {}) {\n    const defaultConfig = {\n      port: 3001,\n      timeInterval: 5 * 1000,\n      // 心跳检测\n      isAuth: true\n    }; // 最终配置\n\n    const finalConfig = { ...defaultConfig,\n      ...config\n    };\n    this.wss = {};\n    this.interval = finalConfig.timeInterval;\n    this.isAuth = finalConfig.isAuth;\n    this.port = finalConfig.port;\n    this.options = config.options || {};\n  } // 初始化webscoekt服务\n\n\n  init() {\n    this.wss = new ws__WEBPACK_IMPORTED_MODULE_0___default.a.Server({\n      port: this.port,\n      ...this.options\n    }); // 连接信息\n\n    this.wss.on('connection', ws => {\n      // 连接上之后随即发送一次心跳检测\n      ws.isAlive = true;\n      ws.send(JSON.stringify({\n        event: 'heartbeat',\n        message: 'ping'\n      }));\n      ws.on('message', msg => this.onMessage(ws, msg));\n      ws.on('close', () => this.onClose(ws));\n    }); // 心跳检测\n\n    this.heartbeat();\n  }\n\n  onMessage(ws, msg) {\n    // 用户鉴权 -> token -> _id\n    // 心跳检测\n    // 消息发送\n    const msgObj = JSON.parse(msg);\n    const events = {\n      auth: async () => {\n        try {\n          const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWtPayload\"])(msgObj.message);\n\n          if (obj) {\n            ws.isAuth = true;\n            ws._id = obj._id;\n            const num = await _model_Comments__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTotal(obj._id);\n            ws.send(JSON.stringify({\n              event: 'message',\n              message: num\n            }));\n          }\n        } catch (error) {\n          ws.send(JSON.stringify({\n            event: 'noauth',\n            message: 'please auth again'\n          }));\n        }\n      },\n      heartbeat: () => {\n        if (msgObj.message === 'pong') {\n          ws.isAlive = true;\n        }\n      },\n      message: () => {// 鉴权拦截\n        // if (!ws.isAuth && this.isAuth) {\n        //   return\n        // }\n        // 消息广播\n        // this.wss.clients.forEach((client) => {\n        //   if (client.readyState === WebSocket.OPEN && client._id === ws._id) {\n        //     this.send(msg)\n        //   }\n        // })\n      }\n    };\n    events[msgObj.event]();\n  } // 点对点的消息发送\n\n\n  send(uid, msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN && client._id === uid) {\n        client.send(msg);\n      }\n    });\n  } // 广播消息 -> 推送系统消息\n\n\n  broadcast(msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_0___default.a.OPEN) {\n        client.send(msg);\n      }\n    });\n  }\n\n  onClose(ws) {} // 心跳检测\n\n\n  heartbeat() {\n    clearInterval(this.interval);\n    this.interval = setInterval(() => {\n      this.wss.clients.forEach(ws => {\n        if (!ws.isAlive) {\n          return ws.terminate();\n        } // 主动发送心跳检测请求\n        // 当客户端返回了消息之后，主动设置flag为在线\n\n\n        ws.isAlive = false;\n        ws.send(JSON.stringify({\n          event: 'heartbeat',\n          message: 'ping'\n        }));\n      });\n    }, this.timeInterval);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WebSocketServer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1dlYlNvY2tldC5qcz9jZDkzIl0sIm5hbWVzIjpbIldlYlNvY2tldFNlcnZlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsInBvcnQiLCJ0aW1lSW50ZXJ2YWwiLCJpc0F1dGgiLCJmaW5hbENvbmZpZyIsIndzcyIsImludGVydmFsIiwib3B0aW9ucyIsImluaXQiLCJXZWJTb2NrZXQiLCJTZXJ2ZXIiLCJvbiIsIndzIiwiaXNBbGl2ZSIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXZlbnQiLCJtZXNzYWdlIiwibXNnIiwib25NZXNzYWdlIiwib25DbG9zZSIsImhlYXJ0YmVhdCIsIm1zZ09iaiIsInBhcnNlIiwiZXZlbnRzIiwiYXV0aCIsIm9iaiIsImdldEpXdFBheWxvYWQiLCJfaWQiLCJudW0iLCJDb21tZW50cyIsImdldFRvdGFsIiwiZXJyb3IiLCJ1aWQiLCJjbGllbnRzIiwiZm9yRWFjaCIsImNsaWVudCIsInJlYWR5U3RhdGUiLCJPUEVOIiwiYnJvYWRjYXN0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwidGVybWluYXRlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGVBQU4sQ0FBc0I7QUFDcEJDLGFBQVcsQ0FBQ0MsTUFBTSxHQUFHLEVBQVYsRUFBYztBQUN2QixVQUFNQyxhQUFhLEdBQUc7QUFDcEJDLFVBQUksRUFBRSxJQURjO0FBRXBCQyxrQkFBWSxFQUFFLElBQUksSUFGRTtBQUVJO0FBQ3hCQyxZQUFNLEVBQUU7QUFIWSxLQUF0QixDQUR1QixDQU12Qjs7QUFDQSxVQUFNQyxXQUFXLEdBQUcsRUFBRSxHQUFHSixhQUFMO0FBQW9CLFNBQUdEO0FBQXZCLEtBQXBCO0FBQ0EsU0FBS00sR0FBTCxHQUFXLEVBQVg7QUFDQSxTQUFLQyxRQUFMLEdBQWdCRixXQUFXLENBQUNGLFlB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RUFBZ0U7QUFDOURHLGNBQU0sQ0FBQ3ZCLElBQVAsQ0FBWUssR0FBWjtBQUNEO0FBQ0YsS0FKRDtBQUtELEdBeEZtQixDQTBGcEI7OztBQUNBcUIsV0FBUyxDQUFFckIsR0FBRixFQUFPO0FBQ2QsU0FBS2QsR0FBTCxDQUFTOEIsT0FBVCxDQUFpQkMsT0FBakIsQ0FBMEJDLE1BQUQsSUFBWTtBQUNuQyxVQUFJQSxNQUFNLENBQUNDLFVBQVAsS0FBc0I3Qix5Q0FBUyxDQUFDOEIsSUFBcEMsRUFBMEM7QUFDeENGLGNBQU0sQ0FBQ3ZCLElBQVAsQ0FBWUssR0FBWjtBQUNEO0FBQ0YsS0FKRDtBQUtEOztBQUVERSxTQUFPLENBQUVULEVBQUYsRUFBTSxDQUVaLENBckdtQixDQXVHcEI7OztBQUNBVSxXQUFTLEdBQUk7QUFDWG1CLGlCQUFhLENBQUMsS0FBS25DLFFBQU4sQ0FBYjtBQUNBLFNBQUtBLFFBQUwsR0FBZ0JvQyxXQUFXLENBQUMsTUFBTTtBQUNoQyxXQUFLckMsR0FBTCxDQUFTOEIsT0FBVCxDQUFpQkMsT0FBakIsQ0FBMEJ4QixFQUFELElBQVE7QUFDL0IsWUFBSSxDQUFDQSxFQUFFLENBQUNDLE9BQVIsRUFBaUI7QUFDZixpQkFBT0QsRUFBRSxDQUFDK0IsU0FBSCxFQUFQO0FBQ0QsU0FIOEIsQ0FJL0I7QUFDQTs7O0FBQ0EvQixVQUFFLENBQUNDLE9BQUgsR0FBYSxLQUFiO0FBQ0FELFVBQUUsQ0FBQ0UsSUFBSCxDQUFRQyxJQUFJLENBQUNDLFNBQUwsQ0FBZTtBQUNyQkMsZUFBSyxFQUFFLFdBRGM7QUFFckJDLGlCQUFPLEVBQUU7QUFGWSxTQUFmLENBQVI7QUFJRCxPQVhEO0FBWUQsS0FiMEIsRUFheEIsS0FBS2hCLFlBYm1CLENBQTNCO0FBY0Q7O0FBeEhtQjs7QUEySFBMLDhFQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9XZWJTb2NrZXQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2ViU29ja2V0IGZyb20gJ3dzJ1xyXG5pbXBvcnQgeyBnZXRKV3RQYXlsb2FkIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xyXG5pbXBvcnQgQ29tbWVudHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHMnXHJcblxyXG5jbGFzcyBXZWJTb2NrZXRTZXJ2ZXIge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICBwb3J0OiAzMDAxLFxyXG4gICAgICB0aW1lSW50ZXJ2YWw6IDUgKiAxMDAwLCAvLyDlv4Pot7Pmo4DmtYtcclxuICAgICAgaXNBdXRoOiB0cnVlXHJcbiAgICB9XHJcbiAgICAvLyDmnIDnu4jphY3nva5cclxuICAgIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5kZWZhdWx0Q29uZmlnLCAuLi5jb25maWd9XHJcbiAgICB0aGlzLndzcyA9IHt9XHJcbiAgICB0aGlzLmludGVydmFsID0gZmluYWxDb25maWcudGltZUludGVydmFsXHJcbiAgICB0aGlzLmlzQXV0aCA9IGZpbmFsQ29uZmlnLmlzQXV0aFxyXG4gICAgdGhpcy5wb3J0ID0gZmluYWxDb25maWcucG9ydFxyXG4gICAgdGhpcy5vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwge31cclxuICB9XHJcbiAgLy8g5Yid5aeL5YyWd2Vic2NvZWt05pyN5YqhXHJcbiAgaW5pdCAoKSB7XHJcbiAgICB0aGlzLndzcyA9IG5ldyBXZWJTb2NrZXQuU2VydmVyKHsgcG9ydDogdGhpcy5wb3J0LCAuLi50aGlzLm9wdGlvbnMgfSlcclxuXHJcbiAgICAvLyDov57mjqXkv6Hmga9cclxuICAgIHRoaXMud3NzLm9uKCdjb25uZWN0aW9uJywgKHdzKSA9PiB7XHJcbiAgICAgIC8vIOi/nuaOpeS4iuS5i+WQjumaj+WNs+WPkemAgeS4gOasoeW/g+i3s+ajgOa1i1xyXG4gICAgICB3cy5pc0FsaXZlID0gdHJ1ZVxyXG4gICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBldmVudDogJ2hlYXJ0YmVhdCcsXHJcbiAgICAgICAgbWVzc2FnZTogJ3BpbmcnXHJcbiAgICAgIH0pKVxyXG4gICAgICB3cy5vbignbWVzc2FnZScsIChtc2cpID0+IHRoaXMub25NZXNzYWdlKHdzLCBtc2cpKVxyXG4gICAgICB3cy5vbignY2xvc2UnLCAoKSA9PiB0aGlzLm9uQ2xvc2Uod3MpKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyDlv4Pot7Pmo4DmtYtcclxuICAgIHRoaXMuaGVhcnRiZWF0KClcclxuICB9XHJcblxyXG4gIG9uTWVzc2FnZSAod3MsIG1zZykge1xyXG4gICAgLy8g55So5oi36Ym05p2DIC0+IHRva2VuIC0+IF9pZFxyXG4gICAgLy8g5b+D6Lez5qOA5rWLXHJcbiAgICAvLyDmtojmga/lj5HpgIFcclxuICAgIGNvbnN0IG1zZ09iaiA9IEpTT04ucGFyc2UobXNnKVxyXG4gICAgY29uc3QgZXZlbnRzID0ge1xyXG4gICAgICBhdXRoOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXdFBheWxvYWQobXNnT2JqLm1lc3NhZ2UpXHJcbiAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgIHdzLmlzQXV0aCA9IHRydWVcclxuICAgICAgICAgICAgd3MuX2lkID0gb2JqLl9pZFxyXG4gICAgICAgICAgICBjb25zdCBudW0gPSBhd2FpdCBDb21tZW50cy5nZXRUb3RhbChvYmouX2lkKVxyXG4gICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICBldmVudDogJ21lc3NhZ2UnLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IG51bVxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIGV2ZW50OiAnbm9hdXRoJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ3BsZWFzZSBhdXRoIGFnYWluJ1xyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBoZWFydGJlYXQ6ICgpID0+IHtcclxuICAgICAgICBpZiAobXNnT2JqLm1lc3NhZ2UgPT09ICdwb25nJykge1xyXG4gICAgICAgICAgd3MuaXNBbGl2ZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICgpID0+IHtcclxuICAgICAgICAvLyDpibTmnYPmi6bmiKpcclxuICAgICAgICAvLyBpZiAoIXdzLmlzQXV0aCAmJiB0aGlzLmlzQXV0aCkge1xyXG4gICAgICAgIC8vICAgcmV0dXJuXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIOa2iOaBr+W5v+aSrVxyXG4gICAgICAgIC8vIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaCgoY2xpZW50KSA9PiB7XHJcbiAgICAgICAgLy8gICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIGNsaWVudC5faWQgPT09IHdzLl9pZCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLnNlbmQobXNnKVxyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGV2ZW50c1ttc2dPYmouZXZlbnRdKClcclxuICB9XHJcblxyXG4gIC8vIOeCueWvueeCueeahOa2iOaBr+WPkemAgVxyXG4gIHNlbmQgKHVpZCwgbXNnKSB7XHJcbiAgICB0aGlzLndzcy5jbGllbnRzLmZvckVhY2goKGNsaWVudCkgPT4ge1xyXG4gICAgICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIGNsaWVudC5faWQgPT09IHVpZCkge1xyXG4gICAgICAgIGNsaWVudC5zZW5kKG1zZylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vIOW5v+aSrea2iOaBryAtPiDmjqjpgIHns7vnu5/mtojmga9cclxuICBicm9hZGNhc3QgKG1zZykge1xyXG4gICAgdGhpcy53c3MuY2xpZW50cy5mb3JFYWNoKChjbGllbnQpID0+IHtcclxuICAgICAgaWYgKGNsaWVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgIGNsaWVudC5zZW5kKG1zZylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UgKHdzKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8g5b+D6Lez5qOA5rWLXHJcbiAgaGVhcnRiZWF0ICgpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcclxuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMud3NzLmNsaWVudHMuZm9yRWFjaCgod3MpID0+IHtcclxuICAgICAgICBpZiAoIXdzLmlzQWxpdmUpIHtcclxuICAgICAgICAgIHJldHVybiB3cy50ZXJtaW5hdGUoKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDkuLvliqjlj5HpgIHlv4Pot7Pmo4DmtYvor7fmsYJcclxuICAgICAgICAvLyDlvZPlrqLmiLfnq6/ov5Tlm57kuobmtojmga/kuYvlkI7vvIzkuLvliqjorr7nva5mbGFn5Li65Zyo57q/XHJcbiAgICAgICAgd3MuaXNBbGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBldmVudDogJ2hlYXJ0YmVhdCcsXHJcbiAgICAgICAgICBtZXNzYWdlOiAncGluZydcclxuICAgICAgICB9KSlcclxuICAgICAgfSlcclxuICAgIH0sIHRoaXMudGltZUludGVydmFsKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgV2ViU29ja2V0U2VydmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/WebSocket.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DB_URL = 'mongodb://192.168.110.131:10050/testdb';\nconst DB_URL2 = 'mongodb://127.0.0.1:27017/testdb';\nconst JWT_SECRET = 'agdvabgmhgnfrvedfcaerqf';\nconst baseUrl = 'http://localhost:8081';\nconst uploadPath = path__WEBPACK_IMPORTED_MODULE_0___default.a.join(path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname), '../../public');\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  DB_URL,\n  DB_URL2,\n  JWT_SECRET,\n  baseUrl,\n  uploadPath\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\\\\config\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiREJfVVJMIiwiREJfVVJMMiIsIkpXVF9TRUNSRVQiLCJiYXNlVXJsIiwidXBsb2FkUGF0aCIsInBhdGgiLCJqb2luIiwicmVzb2x2ZSIsIl9fZGlybmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUcsd0NBQWY7QUFDQSxNQUFNQyxPQUFPLEdBQUcsa0NBQWhCO0FBQ0EsTUFBTUMsVUFBVSxHQUFHLHlCQUFuQjtBQUNBLE1BQU1DLE9BQU8sR0FBRyx1QkFBaEI7QUFDQSxNQUFNQyxVQUFVLEdBQUdDLDJDQUFJLENBQUNDLElBQUwsQ0FBVUQsMkNBQUksQ0FBQ0UsT0FBTCxDQUFhQyxTQUFiLENBQVYsRUFBbUMsY0FBbkMsQ0FBbkI7QUFFZTtBQUNiUixRQURhO0FBRWJDLFNBRmE7QUFHYkMsWUFIYTtBQUliQyxTQUphO0FBS2JDO0FBTGEsQ0FBZixFIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5cbmNvbnN0IERCX1VSTCA9ICdtb25nb2RiOi8vMTkyLjE2OC4xMTAuMTMxOjEwMDUwL3Rlc3RkYidcbmNvbnN0IERCX1VSTDIgPSAnbW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy90ZXN0ZGInXG5jb25zdCBKV1RfU0VDUkVUID0gJ2FnZHZhYmdtaGduZnJ2ZWRmY2FlcnFmJ1xuY29uc3QgYmFzZVVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODEnXG5jb25zdCB1cGxvYWRQYXRoID0gcGF0aC5qb2luKHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUpLCAnLi4vLi4vcHVibGljJylcblxuZXhwb3J0IGRlZmF1bHQge1xuICBEQl9VUkwsXG4gIERCX1VSTDIsXG4gIEpXVF9TRUNSRVQsXG4gIGJhc2VVcmwsXG4gIHVwbG9hZFBhdGhcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! koa-helmet */ \"koa-helmet\");\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes/routes */ \"./src/routes/routes.js\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/ErrorHandle */ \"./src/common/ErrorHandle.js\");\n/* harmony import */ var _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./config/WebSocket */ \"./src/config/WebSocket.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n // 鉴权错误处理函数\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nconst ws = new _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__[\"default\"]();\nws.init();\nglobal.ws = ws; // 全局绑定ws\n\nconst isDevMode =  false ? undefined : true; // 定义公共路径,unless是不需要jwt鉴权的路径\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_4___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /\\/login/]\n});\n/**\n * 使用koa-compose 集成中间件\n */\n// koa-json格式化get请求返回的结果,pretty:false 不格式化响应,\n//param:'pretty'查询字符串中包含pretty时格式化响应\n// 例:xx.xx.com/api/api?name=lds&pretty\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_9___default()([koa_body__WEBPACK_IMPORTED_MODULE_6___default()({\n  multipart: true,\n  // 支持图片上传\n  formidable: {\n    keepExtensions: true,\n    // 保持文件后缀\n    maxFieldsSize: 5 * 1024 * 1024 // 上传最大图片限制\n\n  },\n  onError: err => {\n    console.log('koabody: err -> ', err);\n  }\n}), koa_static__WEBPACK_IMPORTED_MODULE_3___default()(path__WEBPACK_IMPORTED_MODULE_1___default.a.join(__dirname, '../public')), _koa_cors__WEBPACK_IMPORTED_MODULE_8___default()(), koa_json__WEBPACK_IMPORTED_MODULE_7___default()({\n  pretty: false,\n  param: 'pretty'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_2___default()(), // 设置安全的headers\n_common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"], jwt]);\n\nif (!isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_10___default()());\n}\n\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\napp.listen(3000);\n/* WEBPACK VAR INJECTION */}.call(this, \"src\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJrb2EiLCJ3cyIsIldlYlNvY2tldFNlcnZlciIsImluaXQiLCJnbG9iYWwiLCJpc0Rldk1vZGUiLCJwcm9jZXNzIiwiand0IiwiSldUIiwic2VjcmV0IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInVubGVzcyIsInBhdGgiLCJtaWRkbGV3YXJlIiwiY29tcG9zZSIsImtvYUJvZHkiLCJtdWx0aXBhcnQiLCJmb3JtaWRhYmxlIiwia2VlcEV4dGVuc2lvbnMiLCJtYXhGaWVsZHNTaXplIiwib25FcnJvciIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzdGF0aWNzIiwiam9pbiIsIl9fZGlybmFtZSIsImNvcnMiLCJqc29udXRpbCIsInByZXR0eSIsInBhcmFtIiwiaGVsbWV0IiwiZXJyb3JIYW5kbGUiLCJ1c2UiLCJjb21wcmVzcyIsInJvdXRlciIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FDK0M7O0FBQy9DO0FBRUEsTUFBTUEsR0FBRyxHQUFHLElBQUlDLDBDQUFKLEVBQVo7QUFDQSxNQUFNQyxFQUFFLEdBQUcsSUFBSUMsMERBQUosRUFBWDtBQUNBRCxFQUFFLENBQUNFLElBQUg7QUFDQUMsTUFBTSxDQUFDSCxFQUFQLEdBQVlBLEVBQVosQyxDQUFlOztBQUVmLE1BQU1JLFNBQVMsR0FBR0MsTUFBQSxHQUF3QyxTQUF4QyxHQUFnRCxJQUFsRSxDLENBRUE7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyw4Q0FBRyxDQUFDO0FBQUNDLFFBQU0sRUFBRUMsc0RBQU0sQ0FBQ0M7QUFBaEIsQ0FBRCxDQUFILENBQWlDQyxNQUFqQyxDQUF3QztBQUFFQyxNQUFJLEVBQUUsQ0FBQyxXQUFELEVBQWMsU0FBZDtBQUFSLENBQXhDLENBQVo7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHQyxrREFBTyxDQUFDLENBQ3pCQywrQ0FBTyxDQUFDO0FBQ05DLFdBQVMsRUFBRSxJQURMO0FBQ1c7QUFDakJDLFlBQVUsRUFBRTtBQUNWQyxrQkFBYyxFQUFFLElBRE47QUFDWTtBQUN0QkMsaUJBQWEsRUFBRSxJQUFJLElBQUosR0FBVyxJQUZoQixDQUVxQjs7QUFGckIsR0FGTjtBQU1OQyxTQUFPLEVBQUVDLEdBQUcsSUFBSTtBQUNkQyxXQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWixFQUFnQ0YsR0FBaEM7QUFDRDtBQVJLLENBQUQsQ0FEa0IsRUFXekJHLGlEQUFPLENBQUNaLDJDQUFJLENBQUNhLElBQUwsQ0FBVUMsU0FBVixFQUFxQixXQUFyQixDQUFELENBWGtCLEVBWXpCQyxnREFBSSxFQVpxQixFQWF6QkMsK0NBQVEsQ0FBQztBQUFFQyxRQUFNLEVBQUUsS0FBVjtBQUFpQkMsT0FBSyxFQUFFO0FBQXhCLENBQUQsQ0FiaUIsRUFjekJDLGlEQUFNLEVBZG1CLEVBY2hCO0FBQ1RDLDREQWZ5QixFQWdCekIxQixHQWhCeUIsQ0FBRCxDQUExQjs7QUFtQkEsSUFBSSxDQUFDRixTQUFMLEVBQWdCO0FBQ2ROLEtBQUcsQ0FBQ21DLEdBQUosQ0FBUUMsb0RBQVEsRUFBaEI7QUFDRDs7QUFFRHBDLEdBQUcsQ0FBQ21DLEdBQUosQ0FBUXBCLFVBQVI7QUFDQWYsR0FBRyxDQUFDbUMsR0FBSixDQUFRRSw4REFBTSxFQUFkO0FBRUFyQyxHQUFHLENBQUNzQyxNQUFKLENBQVcsSUFBWCxFIiwiZmlsZSI6Ii4vc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtvYSBmcm9tICdrb2EnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGhlbG1ldCBmcm9tICdrb2EtaGVsbWV0J1xuaW1wb3J0IHN0YXRpY3MgZnJvbSAna29hLXN0YXRpYydcbmltcG9ydCBKV1QgZnJvbSAna29hLWp3dCdcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvcm91dGVzJ1xuaW1wb3J0IGtvYUJvZHkgZnJvbSAna29hLWJvZHknXG5pbXBvcnQganNvbnV0aWwgZnJvbSAna29hLWpzb24nXG5pbXBvcnQgY29ycyBmcm9tICdAa29hL2NvcnMnXG5pbXBvcnQgY29tcG9zZSBmcm9tICdrb2EtY29tcG9zZSdcbmltcG9ydCBjb21wcmVzcyBmcm9tICdrb2EtY29tcHJlc3MnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnL2luZGV4J1xuaW1wb3J0IGVycm9ySGFuZGxlIGZyb20gJy4vY29tbW9uL0Vycm9ySGFuZGxlJyAvLyDpibTmnYPplJnor6/lpITnkIblh73mlbBcbmltcG9ydCBXZWJTb2NrZXRTZXJ2ZXIgZnJvbSAnLi9jb25maWcvV2ViU29ja2V0J1xuXG5jb25zdCBhcHAgPSBuZXcga29hKClcbmNvbnN0IHdzID0gbmV3IFdlYlNvY2tldFNlcnZlcigpXG53cy5pbml0KClcbmdsb2JhbC53cyA9IHdzIC8vIOWFqOWxgOe7keWumndzXG5cbmNvbnN0IGlzRGV2TW9kZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBmYWxzZSA6IHRydWVcblxuLy8g5a6a5LmJ5YWs5YWx6Lev5b6ELHVubGVzc+aYr+S4jemcgOimgWp3dOmJtOadg+eahOi3r+W+hFxuY29uc3Qgand0ID0gSldUKHtzZWNyZXQ6IGNvbmZpZy5KV1RfU0VDUkVUfSkudW5sZXNzKHsgcGF0aDogWy9eXFwvcHVibGljLywgL1xcL2xvZ2luL10gfSlcblxuLyoqXG4gKiDkvb/nlKhrb2EtY29tcG9zZSDpm4bmiJDkuK3pl7Tku7ZcbiAqL1xuLy8ga29hLWpzb27moLzlvI/ljJZnZXTor7fmsYLov5Tlm57nmoTnu5PmnpwscHJldHR5OmZhbHNlIOS4jeagvOW8j+WMluWTjeW6lCxcbi8vcGFyYW06J3ByZXR0eSfmn6Xor6LlrZfnrKbkuLLkuK3ljIXlkKtwcmV0dHnml7bmoLzlvI/ljJblk43lupRcbi8vIOS+izp4eC54eC5jb20vYXBpL2FwaT9uYW1lPWxkcyZwcmV0dHlcbmNvbnN0IG1pZGRsZXdhcmUgPSBjb21wb3NlKFtcbiAga29hQm9keSh7XG4gICAgbXVsdGlwYXJ0OiB0cnVlLCAvLyDmlK/mjIHlm77niYfkuIrkvKBcbiAgICBmb3JtaWRhYmxlOiB7XG4gICAgICBrZWVwRXh0ZW5zaW9uczogdHJ1ZSwgLy8g5L+d5oyB5paH5Lu25ZCO57yAXG4gICAgICBtYXhGaWVsZHNTaXplOiA1ICogMTAyNCAqIDEwMjQgLy8g5LiK5Lyg5pyA5aSn5Zu+54mH6ZmQ5Yi2XG4gICAgfSxcbiAgICBvbkVycm9yOiBlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2tvYWJvZHk6IGVyciAtPiAnLCBlcnIpXG4gICAgfVxuICB9KSxcbiAgc3RhdGljcyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vcHVibGljJykpLFxuICBjb3JzKCksXG4gIGpzb251dGlsKHsgcHJldHR5OiBmYWxzZSwgcGFyYW06ICdwcmV0dHknIH0pLFxuICBoZWxtZXQoKSwvLyDorr7nva7lronlhajnmoRoZWFkZXJzXG4gIGVycm9ySGFuZGxlLFxuICBqd3Rcbl0pXG5cbmlmICghaXNEZXZNb2RlKSB7XG4gIGFwcC51c2UoY29tcHJlc3MoKSlcbn1cblxuYXBwLnVzZShtaWRkbGV3YXJlKVxuYXBwLnVzZShyb3V0ZXIoKSlcblxuYXBwLmxpc3RlbigzMDAwKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/Comments.js":
/*!*******************************!*\
  !*** ./src/model/Comments.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  tid: {\n    type: String,\n    ref: 'post'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  cuid: {\n    type: String,\n    ref: 'users'\n  },\n  // 评论人\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  hands: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '1'\n  },\n  isRead: {\n    type: String,\n    default: '0'\n  },\n  isBest: {\n    type: String,\n    default: '0'\n  }\n}, {\n  toJSON: {\n    virtuals: true\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByTid: function (id) {\n    // 根据帖子id查询\n    return this.find({\n      tid: id\n    });\n  },\n  findByCid: function (id) {\n    // 根据评论人id查询\n    return this.findOne({\n      _id: id\n    });\n  },\n  getCommentsList: function (id, page, limit) {\n    // 根据tid查询评论信息\n    return this.find({\n      tid: id\n    }).populate({\n      path: 'cuid',\n      // 根据帖子信息中的评论人(cuid)信息查询其在Post的信息\n      select: '_id name pic isVip',\n      match: {\n        status: {\n          $eq: '0'\n        }\n      } // $eq 作用:返回那些值不为0的数据\n\n    }).populate({\n      path: 'tid',\n      // 根据Comments中的tid查询其在Post中的信息\n      select: '_id title status'\n    }).skip(page * limit).limit(limit); // 限制返回条数\n  },\n  queryCount: function (id) {\n    return this.find({\n      tid: id\n    }).countDocuments();\n  },\n  // 查询用户最近评论\n  getCommetsPublic: function (id, page, limit) {\n    return this.find({\n      cuid: id\n    }).populate({\n      path: 'tid',\n      select: '_id title'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 历史消息\n  getMsgList: function (id, page, limit) {\n    return this.find({\n      uid: id,\n      cuid: {\n        $ne: id\n      },\n      isRead: {\n        $eq: '0'\n      },\n      // 未读状态\n      status: {\n        $eq: '1'\n      } // 是否显示\n\n    }).populate({\n      path: 'tid',\n      select: '_id title content'\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cuid',\n      select: '_id name'\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  getTotal: function (id) {\n    return this.find({\n      uid: id,\n      isRead: '0',\n      status: '1'\n    }).countDocuments();\n  },\n  getCommentsOptions: function (options, page, limit) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        // radio\n        query[options.item] = options.search;\n      }\n      /**\r\n       * 创建视图：\r\n       * db.createView('comments_users', 'comments', [\r\n          { '$lookup': {\r\n              from: 'posts', let: { pid: { '$toObjectId': '$tid' } },\r\n              pipeline: [ { '$match': { '$expr': { '$eq': [ '$_id', '$$pid' ] } } },\r\n              { '$project': { _id: 1, uid: 1, title: 1 } } ], as: 'tid' } },\r\n              { '$replaceRoot': { newRoot: { '$mergeObjects': [ { '$arrayElemAt': [ '$tid', 0 ] }, '$$ROOT' ] } } },\r\n              { '$unwind': '$tid' },\r\n              { '$addFields': { userId: { '$toObjectId': '$uid' } } },\r\n              { '$lookup': {\r\n                  from: 'users', localField: 'userId', foreignField: '_id', as: 'uid' } },\r\n              { '$unwind': '$uid' }, { '$addFields': { fuserId: { '$toObjectId': '$cuid' } } },\r\n              { '$lookup': { from: 'users', localField: 'fuserId', foreignField: '_id', as: 'cuid' } },\r\n              { '$unwind': '$cuid' },\r\n          { '$project': { tid: 1, cuid: { name: 1, _id: 1 }, uid: { name: 1, _id: 1 }, isBest: 1, status: 1, content: 1, created: 1 } },\r\n          { '$sort': { created: -1 } }],\r\n          {})\r\n       */\n\n\n      if (['uid', 'tid', 'cuid'].includes(options.item)) {\n        let arr = [{\n          $lookup: {\n            from: 'posts',\n            let: {\n              pid: {\n                $toObjectId: '$tid'\n              }\n            },\n            pipeline: [{\n              $match: {\n                $expr: {\n                  $eq: ['$_id', '$$pid']\n                }\n              }\n            }, {\n              $project: {\n                _id: 1,\n                uid: 1,\n                title: 1\n              }\n            }],\n            as: 'tid'\n          }\n        }, {\n          $replaceRoot: {\n            newRoot: {\n              $mergeObjects: [{\n                $arrayElemAt: ['$tid', 0]\n              }, '$$ROOT']\n            }\n          }\n        }, {\n          $unwind: '$tid'\n        }];\n\n        if (options.item === 'tid') {\n          arr.push({\n            $match: {\n              title: {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $addFields: {\n            userId: {\n              $toObjectId: '$uid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'userId',\n            foreignField: '_id',\n            as: 'uid'\n          }\n        }]);\n\n        if (options.item === 'uid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'uid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$uid'\n        });\n        arr = arr.concat([{\n          $addFields: {\n            fuserId: {\n              $toObjectId: '$cuid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'fuserId',\n            foreignField: '_id',\n            as: 'cuid'\n          }\n        }]);\n\n        if (options.item === 'cuid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'cuid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $unwind: '$cuid'\n        }, {\n          $project: {\n            tid: 1,\n            cuid: {\n              name: 1,\n              _id: 1\n            },\n            uid: {\n              name: 1,\n              _id: 1\n            },\n            isBest: 1,\n            status: 1,\n            content: 1,\n            created: 1\n          }\n        }, {\n          $skip: limit * page\n        }, {\n          $limit: limit\n        }, {\n          $sort: {\n            created: -1\n          }\n        }]);\n        return this.aggregate(arr);\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n\n      return this.find(query).populate({\n        path: 'tid',\n        select: '_id title'\n      }).populate({\n        path: 'cuid',\n        select: '_id name'\n      }).populate({\n        path: 'uid',\n        select: '_id name'\n      }).skip(page * limit).limit(limit).sort({\n        created: -1\n      });\n    }\n  },\n  getCommentsOptionsCount: function (options) {\n    let query = {};\n\n    if (typeof options.search !== 'undefined') {\n      if (typeof options.search === 'string' && options.search.trim() !== '') {\n        // radio\n        query[options.item] = options.search;\n      }\n\n      if (['uid', 'tid', 'cuid'].includes(options.item)) {\n        let arr = [{\n          $lookup: {\n            from: 'posts',\n            let: {\n              pid: {\n                $toObjectId: '$tid'\n              }\n            },\n            pipeline: [{\n              $match: {\n                $expr: {\n                  $eq: ['$_id', '$$pid']\n                }\n              }\n            }, {\n              $project: {\n                _id: 1,\n                uid: 1,\n                title: 1\n              }\n            }],\n            as: 'tid'\n          }\n        }, {\n          $replaceRoot: {\n            newRoot: {\n              $mergeObjects: [{\n                $arrayElemAt: ['$tid', 0]\n              }, '$$ROOT']\n            }\n          }\n        }, {\n          $unwind: '$tid'\n        }];\n\n        if (options.item === 'tid') {\n          arr.push({\n            $match: {\n              title: {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr = arr.concat([{\n          $addFields: {\n            userId: {\n              $toObjectId: '$uid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'userId',\n            foreignField: '_id',\n            as: 'uid'\n          }\n        }]);\n\n        if (options.item === 'uid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'uid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$uid'\n        });\n        arr = arr.concat([{\n          $addFields: {\n            fuserId: {\n              $toObjectId: '$cuid'\n            }\n          }\n        }, {\n          $lookup: {\n            from: 'users',\n            localField: 'fuserId',\n            foreignField: '_id',\n            as: 'cuid'\n          }\n        }]);\n\n        if (options.item === 'cuid' && options.search.trim() !== '') {\n          arr.push({\n            $match: {\n              'cuid.name': {\n                $regex: options.search,\n                $options: 'i'\n              }\n            }\n          });\n        }\n\n        arr.push({\n          $unwind: '$cuid'\n        });\n        arr.push({\n          $project: {\n            tid: 1,\n            cuid: {\n              name: 1,\n              _id: 1\n            },\n            uid: {\n              name: 1,\n              _id: 1\n            },\n            isBest: 1,\n            status: 1,\n            content: 1,\n            created: 1\n          }\n        });\n        arr.push({\n          $group: {\n            _id: null,\n            count: {\n              $sum: 1\n            }\n          }\n        });\n        return this.aggregate(arr);\n      }\n\n      if (options.item === 'created') {\n        const start = options.search[0];\n        const end = options.search[1];\n        query = {\n          created: {\n            $gte: new Date(start),\n            $lt: new Date(end)\n          }\n        };\n      }\n\n      return this.find(query).countDocuments();\n    }\n\n    return this.find(query).countDocuments();\n  },\n  // getMsgList: function (id, page, limit) {\n  //   return this.aggregate([\n  // {\n  //   $lookup: {\n  //     from: 'posts',\n  //     let: { pid: { $toObjectId: '$tid' } },\n  //     pipeline: [\n  //       { $match: { $expr: { $eq: ['$_id', '$$pid'] } } },\n  //       { $project: { _id: 1, uid: 1, content: 1 } }\n  //     ],\n  //     as: 'post'\n  //   }\n  // },\n  // {\n  //   $replaceRoot: {\n  //     newRoot: {\n  //       $mergeObjects: [{ $arrayElemAt: ['$post', 0] }, '$$ROOT']\n  //     }\n  //   }\n  // },\n  // { $addFields: { userId: { $toObjectId: '$uid' } } },\n  // { $lookup: { from: 'users', localField: 'userId', foreignField: '_id', as: 'tuid' } },\n  // { $unwind: '$tuid' },\n  // { $addFields: { fuserId: { $toObjectId: '$cuid' } } },\n  // { $lookup: { from: 'users', localField: 'fuserId', foreignField: '_id', as: 'fuid' } },\n  // { $unwind: '$fuid' },\n  // { $project: { post: 0, tuid: { username: 0, password: 0 }, fuid: { username: 0, password: 0 }, userId: 0, fuserId: 0, tid: 0, cuid: 0 } },\n  //     { $match: { uid: id, status: '1', isRead: '0' } }\n  //   ])\n  //     .skip(limit * page)\n  //     .limit(limit)\n  //     .sort({ created: -1 })\n  // }\n  getHotComments: function (page, limit, index) {\n    if (index === '0') {\n      // 总评论记数 -> aggregate聚合查询\n      return this.aggregate([// 匹配30天内的评论数据\n      {\n        $match: {\n          created: {\n            $gte: new Date(dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(30, 'day'))\n          }\n        }\n      }, {\n        $group: {\n          _id: '$cuid',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $addFields: {\n          userId: {\n            $toObjectId: '$_id'\n          }\n        }\n      }, {\n        $lookup: {\n          from: 'users',\n          localField: 'userId',\n          foreignField: '_id',\n          as: 'cuid'\n        }\n      }, {\n        $unwind: '$cuid'\n      }, {\n        $project: {\n          cuid: {\n            name: 1,\n            _id: 1,\n            pic: 1\n          },\n          count: 1\n        }\n      }, {\n        $skip: page * limit\n      }, {\n        $limit: limit\n      }, {\n        $sort: {\n          count: -1\n        }\n      }]);\n    } else if (index === '1') {\n      // 最新评论\n      return this.find({}) // populate\n      .populate({\n        path: 'cuid',\n        select: 'name pic _id'\n      }).skip(page * limit).limit(limit).sort({\n        created: -1\n      });\n    }\n  },\n  getHotCommentsCount: async function (index) {\n    if (index === '0') {\n      // 总评论记数 -> aggregate聚合查询\n      const result = await this.aggregate([// 匹配30天内的评论数据\n      {\n        $match: {\n          created: {\n            $gte: new Date(dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(30, 'day'))\n          }\n        }\n      }, {\n        $group: {\n          _id: '$cuid',\n          count: {\n            $sum: 1\n          }\n        }\n      }, {\n        $group: {\n          _id: 'null',\n          total: {\n            $sum: 1\n          }\n        }\n      }]);\n      return result[0].total;\n    } else if (index === '1') {\n      // 最新评论\n      return this.find({}).countDocuments();\n    }\n  }\n};\nconst Comments = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Comments);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHMuanM/MmUwMSJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvbW1lbnRzU2NoZW1hIiwidGlkIiwidHlwZSIsIlN0cmluZyIsInJlZiIsInVpZCIsImN1aWQiLCJjb250ZW50IiwiY3JlYXRlZCIsIkRhdGUiLCJoYW5kcyIsIk51bWJlciIsImRlZmF1bHQiLCJzdGF0dXMiLCJpc1JlYWQiLCJpc0Jlc3QiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInByZSIsIm5leHQiLCJwb3N0IiwiZXJyb3IiLCJkb2MiLCJuYW1lIiwiY29kZSIsIkVycm9yIiwic3RhdGljcyIsImZpbmRCeVRpZCIsImlkIiwiZmluZCIsImZpbmRCeUNpZCIsImZpbmRPbmUiLCJfaWQiLCJnZXRDb21tZW50c0xpc3QiLCJwYWdlIiwibGltaXQiLCJwb3B1bGF0ZSIsInBhdGgiLCJzZWxlY3QiLCJtYXRjaCIsIiRlcSIsInNraXAiLCJxdWVyeUNvdW50IiwiY291bnREb2N1bWVudHMiLCJnZXRDb21tZXRzUHVibGljIiwic29ydCIsImdldE1zZ0xpc3QiLCIkbmUiLCJnZXRUb3RhbCIsImdldENvbW1lbnRzT3B0aW9ucyIsIm9wdGlvbnMiLCJxdWVyeSIsInNlYXJjaCIsInRyaW0iLCJpdGVtIiwiaW5jbHVkZXMiLCJhcnIiLCIkbG9va3VwIiwiZnJvbSIsImxldCIsInBpZCIsIiR0b09iamVjdElkIiwicGlwZWxpbmUiLCIkbWF0Y2giLCIkZXhwciIsIiRwcm9qZWN0IiwidGl0bGUiLCJhcyIsIiRyZXBsYWNlUm9vdCIsIm5ld1Jvb3QiLCIkbWVyZ2VPYmplY3RzIiwiJGFycmF5RWxlbUF0IiwiJHVud2luZCIsInB1c2giLCIkcmVnZXgiLCIkb3B0aW9ucyIsImNvbmNhdCIsIiRhZGRGaWVsZHMiLCJ1c2VySWQiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiZnVzZXJJZCIsIiRza2lwIiwiJGxpbWl0IiwiJHNvcnQiLCJhZ2dyZWdhdGUiLCJzdGFydCIsImVuZCIsIiRndGUiLCIkbHQiLCJnZXRDb21tZW50c09wdGlvbnNDb3VudCIsIiRncm91cCIsImNvdW50IiwiJHN1bSIsImdldEhvdENvbW1lbnRzIiwiaW5kZXgiLCJtb21lbnQiLCJzdWJ0cmFjdCIsInBpYyIsImdldEhvdENvbW1lbnRzQ291bnQiLCJyZXN1bHQiLCJ0b3RhbCIsIkNvbW1lbnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FEMkI7QUFFaENDLEtBQUcsRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLE9BQUcsRUFBRTtBQUFyQixHQUYyQjtBQUdoQ0UsTUFBSSxFQUFFO0FBQUVKLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsT0FBRyxFQUFFO0FBQXJCLEdBSDBCO0FBR007QUFDdENHLFNBQU8sRUFBRTtBQUFFTCxRQUFJLEVBQUVDO0FBQVIsR0FKdUI7QUFLaENLLFNBQU8sRUFBRTtBQUFFTixRQUFJLEVBQUVPO0FBQVIsR0FMdUI7QUFNaENDLE9BQUssRUFBRTtBQUFFUixRQUFJLEVBQUVTLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQU55QjtBQU9oQ0MsUUFBTSxFQUFFO0FBQUVYLFFBQUksRUFBRUMsTUFBUjtBQUFnQlMsV0FBTyxFQUFFO0FBQXpCLEdBUHdCO0FBUWhDRSxRQUFNLEVBQUU7QUFBRVosUUFBSSxFQUFFQyxNQUFSO0FBQWdCUyxXQUFPLEVBQUU7QUFBekIsR0FSd0I7QUFTaENHLFFBQU0sRUFBRTtBQUFFYixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JTLFdBQU8sRUFBRTtBQUF6QjtBQVR3QixDQUFYLEVBVXBC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VUMsS0FBakI7QUFDRCxLQVRELE1BU08sSUFBSU4sS0FBSyxLQUFLLEdBQWQsRUFBbUI7QUFDeEI7QUFDQSxhQUFPLEtBQUtsRSxJQUFMLENBQVUsRUFBVixFQUFjYyxjQUFkLEVBQVA7QUFDRDtBQUNGO0FBalRzQixDQUF6QjtBQW9UQSxNQUFNMkQsUUFBUSxHQUFHdkcseURBQVEsQ0FBQ3dHLEtBQVQsQ0FBZSxVQUFmLEVBQTJCdkcsY0FBM0IsQ0FBakI7QUFFZXNHLHVFQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL0NvbW1lbnRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IENvbW1lbnRzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdGlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAncG9zdCcgfSxcclxuICB1aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICd1c2VycycgfSxcclxuICBjdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sIC8vIOivhOiuuuS6ulxyXG4gIGNvbnRlbnQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgaGFuZHM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzEnIH0sXHJcbiAgaXNSZWFkOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sXHJcbiAgaXNCZXN0OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH1cclxufSwgeyB0b0pTT046IHsgdmlydHVhbHM6IHRydWUgfSB9KVxyXG5cclxuQ29tbWVudHNTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXHJcbiAgbmV4dCgpXHJcbn0pXHJcblxyXG5Db21tZW50c1NjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcclxuICBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvRXJyb3InICYmIGVycm9yLmNvZGUgPT09IDExMDAwKSB7XHJcbiAgICBuZXh0KG5ldyBFcnJvcignVGhlcmUgd2FzIGEgZHVwbGljYXRlIGtleSBlcnJvcicpKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBuZXh0KGVycm9yKVxyXG4gIH1cclxufSlcclxuXHJcbkNvbW1lbnRzU2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgZmluZEJ5VGlkOiBmdW5jdGlvbiAoaWQpIHsgLy8g5qC55o2u5biW5a2QaWTmn6Xor6JcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB0aWQ6IGlkIH0pXHJcbiAgfSxcclxuICBmaW5kQnlDaWQ6IGZ1bmN0aW9uIChpZCkgeyAvLyDmoLnmja7or4TorrrkurppZOafpeivolxyXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IF9pZDogaWQgfSlcclxuICB9LFxyXG4gIGdldENvbW1lbnRzTGlzdDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xyXG4gICAgLy8g5qC55o2udGlk5p+l6K+i6K+E6K665L+h5oGvXHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdGlkOiBpZCB9KS5wb3B1bGF0ZSh7XHJcbiAgICAgIHBhdGg6ICdjdWlkJywgLy8g5qC55o2u5biW5a2Q5L+h5oGv5Lit55qE6K+E6K665Lq6KGN1aWQp5L+h5oGv5p+l6K+i5YW25ZyoUG9zdOeahOS/oeaBr1xyXG4gICAgICBzZWxlY3Q6ICdfaWQgbmFtZSBwaWMgaXNWaXAnLFxyXG4gICAgICBtYXRjaDogeyBzdGF0dXM6IHsgJGVxOiAnMCcgfSB9IC8vICRlcSDkvZznlKg66L+U5Zue6YKj5Lqb5YC85LiN5Li6MOeahOaVsOaNrlxyXG4gICAgfSkucG9wdWxhdGUoe1xyXG4gICAgICBwYXRoOiAndGlkJywgLy8g5qC55o2uQ29tbWVudHPkuK3nmoR0aWTmn6Xor6LlhbblnKhQb3N05Lit55qE5L+h5oGvXHJcbiAgICAgIHNlbGVjdDogJ19pZCB0aXRsZSBzdGF0dXMnXHJcbiAgICB9KS5za2lwKHBhZ2UgKiBsaW1pdCkubGltaXQobGltaXQpIC8vIOmZkOWItui/lOWbnuadoeaVsFxyXG4gIH0sXHJcbiAgcXVlcnlDb3VudDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdGlkOiBpZCB9KS5jb3VudERvY3VtZW50cygpXHJcbiAgfSxcclxuICAvLyDmn6Xor6LnlKjmiLfmnIDov5Hor4TorrpcclxuICBnZXRDb21tZXRzUHVibGljOiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgY3VpZDogaWQgfSlcclxuICAgICAgLnBvcHVsYXRlKHtcclxuICAgICAgICBwYXRoOiAndGlkJyxcclxuICAgICAgICBzZWxlY3Q6ICdfaWQgdGl0bGUnXHJcbiAgICAgIH0pXHJcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICAvLyDljoblj7Lmtojmga9cclxuICBnZXRNc2dMaXN0OiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHtcclxuICAgICAgdWlkOiBpZCxcclxuICAgICAgY3VpZDogeyAkbmU6IGlkIH0sXHJcbiAgICAgIGlzUmVhZDogeyAkZXE6ICcwJyB9LCAvLyDmnKror7vnirbmgIFcclxuICAgICAgc3RhdHVzOiB7ICRlcTogJzEnIH0gLy8g5piv5ZCm5pi+56S6XHJcbiAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd0aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCB0aXRsZSBjb250ZW50J1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICdjdWlkJyxcclxuICAgICAgICBzZWxlY3Q6ICdfaWQgbmFtZSdcclxuICAgICAgfSlcclxuICAgICAgLnNraXAobGltaXQgKiBwYWdlKVxyXG4gICAgICAubGltaXQobGltaXQpXHJcbiAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICB9LFxyXG4gIGdldFRvdGFsOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkLCBpc1JlYWQ6ICcwJywgc3RhdHVzOiAnMScgfSkuY291bnREb2N1bWVudHMoKVxyXG4gIH0sXHJcbiAgZ2V0Q29tbWVudHNPcHRpb25zOiBmdW5jdGlvbiAob3B0aW9ucywgcGFnZSwgbGltaXQpIHtcclxuICAgIGxldCBxdWVyeSA9IHt9XHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgLy8gcmFkaW9cclxuICAgICAgICBxdWVyeVtvcHRpb25zLml0ZW1dID0gb3B0aW9ucy5zZWFyY2hcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIOWIm+W7uuinhuWbvu+8mlxyXG4gICAgICAgKiBkYi5jcmVhdGVWaWV3KCdjb21tZW50c191c2VycycsICdjb21tZW50cycsIFtcclxuICAgICAgICAgIHsgJyRsb29rdXAnOiB7XHJcbiAgICAgICAgICAgICAgZnJvbTogJ3Bvc3RzJywgbGV0OiB7IHBpZDogeyAnJHRvT2JqZWN0SWQnOiAnJHRpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHBpcGVsaW5lOiBbIHsgJyRtYXRjaCc6IHsgJyRleHByJzogeyAnJGVxJzogWyAnJF9pZCcsICckJHBpZCcgXSB9IH0gfSxcclxuICAgICAgICAgICAgICB7ICckcHJvamVjdCc6IHsgX2lkOiAxLCB1aWQ6IDEsIHRpdGxlOiAxIH0gfSBdLCBhczogJ3RpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyRyZXBsYWNlUm9vdCc6IHsgbmV3Um9vdDogeyAnJG1lcmdlT2JqZWN0cyc6IFsgeyAnJGFycmF5RWxlbUF0JzogWyAnJHRpZCcsIDAgXSB9LCAnJCRST09UJyBdIH0gfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyR1bndpbmQnOiAnJHRpZCcgfSxcclxuICAgICAgICAgICAgICB7ICckYWRkRmllbGRzJzogeyB1c2VySWQ6IHsgJyR0b09iamVjdElkJzogJyR1aWQnIH0gfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyRsb29rdXAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICd1c2VySWQnLCBmb3JlaWduRmllbGQ6ICdfaWQnLCBhczogJ3VpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyR1bndpbmQnOiAnJHVpZCcgfSwgeyAnJGFkZEZpZWxkcyc6IHsgZnVzZXJJZDogeyAnJHRvT2JqZWN0SWQnOiAnJGN1aWQnIH0gfSB9LFxyXG4gICAgICAgICAgICAgIHsgJyRsb29rdXAnOiB7IGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICdmdXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH0sXHJcbiAgICAgICAgICAgICAgeyAnJHVud2luZCc6ICckY3VpZCcgfSxcclxuICAgICAgICAgIHsgJyRwcm9qZWN0JzogeyB0aWQ6IDEsIGN1aWQ6IHsgbmFtZTogMSwgX2lkOiAxIH0sIHVpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgaXNCZXN0OiAxLCBzdGF0dXM6IDEsIGNvbnRlbnQ6IDEsIGNyZWF0ZWQ6IDEgfSB9LFxyXG4gICAgICAgICAgeyAnJHNvcnQnOiB7IGNyZWF0ZWQ6IC0xIH0gfV0sXHJcbiAgICAgICAgICB7fSlcclxuICAgICAgICovXHJcbiAgICAgIGlmIChbJ3VpZCcsICd0aWQnLCAnY3VpZCddLmluY2x1ZGVzKG9wdGlvbnMuaXRlbSkpIHtcclxuICAgICAgICBsZXQgYXJyID0gW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAkbG9va3VwOiB7XHJcbiAgICAgICAgICAgICAgZnJvbTogJ3Bvc3RzJyxcclxuICAgICAgICAgICAgICBsZXQ6IHsgcGlkOiB7ICR0b09iamVjdElkOiAnJHRpZCcgfSB9LFxyXG4gICAgICAgICAgICAgIHBpcGVsaW5lOiBbXHJcbiAgICAgICAgICAgICAgICB7ICRtYXRjaDogeyAkZXhwcjogeyAkZXE6IFsnJF9pZCcsICckJHBpZCddIH0gfSB9LFxyXG4gICAgICAgICAgICAgICAgeyAkcHJvamVjdDogeyBfaWQ6IDEsIHVpZDogMSwgdGl0bGU6IDEgfSB9XHJcbiAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICBhczogJ3RpZCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgJHJlcGxhY2VSb290OiB7XHJcbiAgICAgICAgICAgICAgbmV3Um9vdDoge1xyXG4gICAgICAgICAgICAgICAgJG1lcmdlT2JqZWN0czogW3sgJGFycmF5RWxlbUF0OiBbJyR0aWQnLCAwXSB9LCAnJCRST09UJ11cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7ICR1bndpbmQ6ICckdGlkJyB9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICd0aWQnKSB7XHJcbiAgICAgICAgICBhcnIucHVzaCh7XHJcbiAgICAgICAgICAgICRtYXRjaDogeyB0aXRsZTogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyID0gYXJyLmNvbmNhdChbXHJcbiAgICAgICAgICB7ICRhZGRGaWVsZHM6IHsgdXNlcklkOiB7ICR0b09iamVjdElkOiAnJHVpZCcgfSB9IH0sXHJcbiAgICAgICAgICB7ICRsb29rdXA6IHsgZnJvbTogJ3VzZXJzJywgbG9jYWxGaWVsZDogJ3VzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAndWlkJyB9IH1dKVxyXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICd1aWQnICYmIG9wdGlvbnMuc2VhcmNoLnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgJG1hdGNoOiB7ICd1aWQubmFtZSc6IHsgJHJlZ2V4OiBvcHRpb25zLnNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyci5wdXNoKHsgJHVud2luZDogJyR1aWQnIH0pXHJcbiAgICAgICAgYXJyID0gYXJyLmNvbmNhdChbXHJcbiAgICAgICAgICB7ICRhZGRGaWVsZHM6IHsgZnVzZXJJZDogeyAkdG9PYmplY3RJZDogJyRjdWlkJyB9IH0gfSxcclxuICAgICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAnZnVzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAnY3VpZCcgfSB9XHJcbiAgICAgICAgXSlcclxuICAgICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAnY3VpZCcgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgYXJyLnB1c2goe1xyXG4gICAgICAgICAgICAkbWF0Y2g6IHsgJ2N1aWQubmFtZSc6IHsgJHJlZ2V4OiBvcHRpb25zLnNlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFyciA9IGFyci5jb25jYXQoW1xyXG4gICAgICAgICAgeyAkdW53aW5kOiAnJGN1aWQnIH0sXHJcbiAgICAgICAgICB7ICRwcm9qZWN0OiB7IHRpZDogMSwgY3VpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgdWlkOiB7IG5hbWU6IDEsIF9pZDogMSB9LCBpc0Jlc3Q6IDEsIHN0YXR1czogMSwgY29udGVudDogMSwgY3JlYXRlZDogMSB9IH0sXHJcbiAgICAgICAgICB7ICRza2lwOiBsaW1pdCAqIHBhZ2UgfSxcclxuICAgICAgICAgIHsgJGxpbWl0OiBsaW1pdCB9LFxyXG4gICAgICAgICAgeyAkc29ydDogeyBjcmVhdGVkOiAtMSB9IH1cclxuICAgICAgICBdKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0ZShhcnIpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBvcHRpb25zLnNlYXJjaFswXVxyXG4gICAgICAgIGNvbnN0IGVuZCA9IG9wdGlvbnMuc2VhcmNoWzFdXHJcbiAgICAgICAgcXVlcnkgPSB7IGNyZWF0ZWQ6IHsgJGd0ZTogbmV3IERhdGUoc3RhcnQpLCAkbHQ6IG5ldyBEYXRlKGVuZCkgfSB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMuZmluZChxdWVyeSlcclxuICAgICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgICAgcGF0aDogJ3RpZCcsXHJcbiAgICAgICAgICBzZWxlY3Q6ICdfaWQgdGl0bGUnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgICAgcGF0aDogJ2N1aWQnLFxyXG4gICAgICAgICAgc2VsZWN0OiAnX2lkIG5hbWUnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgICAgcGF0aDogJ3VpZCcsXHJcbiAgICAgICAgICBzZWxlY3Q6ICdfaWQgbmFtZSdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgICAubGltaXQobGltaXQpXHJcbiAgICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZ2V0Q29tbWVudHNPcHRpb25zQ291bnQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBsZXQgcXVlcnkgPSB7fVxyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgIC8vIHJhZGlvXHJcbiAgICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IG9wdGlvbnMuc2VhcmNoXHJcbiAgICAgIH1cclxuICAgICAgaWYgKFsndWlkJywgJ3RpZCcsICdjdWlkJ10uaW5jbHVkZXMob3B0aW9ucy5pdGVtKSkge1xyXG4gICAgICAgIGxldCBhcnIgPSBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICRsb29rdXA6IHtcclxuICAgICAgICAgICAgICBmcm9tOiAncG9zdHMnLFxyXG4gICAgICAgICAgICAgIGxldDogeyBwaWQ6IHsgJHRvT2JqZWN0SWQ6ICckdGlkJyB9IH0sXHJcbiAgICAgICAgICAgICAgcGlwZWxpbmU6IFtcclxuICAgICAgICAgICAgICAgIHsgJG1hdGNoOiB7ICRleHByOiB7ICRlcTogWyckX2lkJywgJyQkcGlkJ10gfSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7ICRwcm9qZWN0OiB7IF9pZDogMSwgdWlkOiAxLCB0aXRsZTogMSB9IH1cclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgIGFzOiAndGlkJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAkcmVwbGFjZVJvb3Q6IHtcclxuICAgICAgICAgICAgICBuZXdSb290OiB7XHJcbiAgICAgICAgICAgICAgICAkbWVyZ2VPYmplY3RzOiBbeyAkYXJyYXlFbGVtQXQ6IFsnJHRpZCcsIDBdIH0sICckJFJPT1QnXVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHsgJHVud2luZDogJyR0aWQnIH1cclxuICAgICAgICBdXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ3RpZCcpIHtcclxuICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgJG1hdGNoOiB7IHRpdGxlOiB7ICRyZWdleDogb3B0aW9ucy5zZWFyY2gsICRvcHRpb25zOiAnaScgfSB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBhcnIgPSBhcnIuY29uY2F0KFtcclxuICAgICAgICAgIHsgJGFkZEZpZWxkczogeyB1c2VySWQ6IHsgJHRvT2JqZWN0SWQ6ICckdWlkJyB9IH0gfSxcclxuICAgICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAndXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICd1aWQnIH0gfV0pXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ3VpZCcgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgYXJyLnB1c2goe1xyXG4gICAgICAgICAgICAkbWF0Y2g6IHsgJ3VpZC5uYW1lJzogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyLnB1c2goeyAkdW53aW5kOiAnJHVpZCcgfSlcclxuICAgICAgICBhcnIgPSBhcnIuY29uY2F0KFtcclxuICAgICAgICAgIHsgJGFkZEZpZWxkczogeyBmdXNlcklkOiB7ICR0b09iamVjdElkOiAnJGN1aWQnIH0gfSB9LFxyXG4gICAgICAgICAgeyAkbG9va3VwOiB7IGZyb206ICd1c2VycycsIGxvY2FsRmllbGQ6ICdmdXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH1cclxuICAgICAgICBdKVxyXG4gICAgICAgIGlmIChvcHRpb25zLml0ZW0gPT09ICdjdWlkJyAmJiBvcHRpb25zLnNlYXJjaC50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgICBhcnIucHVzaCh7XHJcbiAgICAgICAgICAgICRtYXRjaDogeyAnY3VpZC5uYW1lJzogeyAkcmVnZXg6IG9wdGlvbnMuc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyLnB1c2goeyAkdW53aW5kOiAnJGN1aWQnIH0pXHJcbiAgICAgICAgYXJyLnB1c2goeyAkcHJvamVjdDogeyB0aWQ6IDEsIGN1aWQ6IHsgbmFtZTogMSwgX2lkOiAxIH0sIHVpZDogeyBuYW1lOiAxLCBfaWQ6IDEgfSwgaXNCZXN0OiAxLCBzdGF0dXM6IDEsIGNvbnRlbnQ6IDEsIGNyZWF0ZWQ6IDEgfSB9KVxyXG4gICAgICAgIGFyci5wdXNoKHsgJGdyb3VwOiB7IF9pZDogbnVsbCwgY291bnQ6IHsgJHN1bTogMSB9IH0gfSlcclxuICAgICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGUoYXJyKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob3B0aW9ucy5pdGVtID09PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IG9wdGlvbnMuc2VhcmNoWzBdXHJcbiAgICAgICAgY29uc3QgZW5kID0gb3B0aW9ucy5zZWFyY2hbMV1cclxuICAgICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShzdGFydCksICRsdDogbmV3IERhdGUoZW5kKSB9IH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXHJcbiAgfSxcclxuICAvLyBnZXRNc2dMaXN0OiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgLy8gICByZXR1cm4gdGhpcy5hZ2dyZWdhdGUoW1xyXG4gIC8vIHtcclxuICAvLyAgICRsb29rdXA6IHtcclxuICAvLyAgICAgZnJvbTogJ3Bvc3RzJyxcclxuICAvLyAgICAgbGV0OiB7IHBpZDogeyAkdG9PYmplY3RJZDogJyR0aWQnIH0gfSxcclxuICAvLyAgICAgcGlwZWxpbmU6IFtcclxuICAvLyAgICAgICB7ICRtYXRjaDogeyAkZXhwcjogeyAkZXE6IFsnJF9pZCcsICckJHBpZCddIH0gfSB9LFxyXG4gIC8vICAgICAgIHsgJHByb2plY3Q6IHsgX2lkOiAxLCB1aWQ6IDEsIGNvbnRlbnQ6IDEgfSB9XHJcbiAgLy8gICAgIF0sXHJcbiAgLy8gICAgIGFzOiAncG9zdCdcclxuICAvLyAgIH1cclxuICAvLyB9LFxyXG4gIC8vIHtcclxuICAvLyAgICRyZXBsYWNlUm9vdDoge1xyXG4gIC8vICAgICBuZXdSb290OiB7XHJcbiAgLy8gICAgICAgJG1lcmdlT2JqZWN0czogW3sgJGFycmF5RWxlbUF0OiBbJyRwb3N0JywgMF0gfSwgJyQkUk9PVCddXHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH1cclxuICAvLyB9LFxyXG4gIC8vIHsgJGFkZEZpZWxkczogeyB1c2VySWQ6IHsgJHRvT2JqZWN0SWQ6ICckdWlkJyB9IH0gfSxcclxuICAvLyB7ICRsb29rdXA6IHsgZnJvbTogJ3VzZXJzJywgbG9jYWxGaWVsZDogJ3VzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAndHVpZCcgfSB9LFxyXG4gIC8vIHsgJHVud2luZDogJyR0dWlkJyB9LFxyXG4gIC8vIHsgJGFkZEZpZWxkczogeyBmdXNlcklkOiB7ICR0b09iamVjdElkOiAnJGN1aWQnIH0gfSB9LFxyXG4gIC8vIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAnZnVzZXJJZCcsIGZvcmVpZ25GaWVsZDogJ19pZCcsIGFzOiAnZnVpZCcgfSB9LFxyXG4gIC8vIHsgJHVud2luZDogJyRmdWlkJyB9LFxyXG4gIC8vIHsgJHByb2plY3Q6IHsgcG9zdDogMCwgdHVpZDogeyB1c2VybmFtZTogMCwgcGFzc3dvcmQ6IDAgfSwgZnVpZDogeyB1c2VybmFtZTogMCwgcGFzc3dvcmQ6IDAgfSwgdXNlcklkOiAwLCBmdXNlcklkOiAwLCB0aWQ6IDAsIGN1aWQ6IDAgfSB9LFxyXG4gIC8vICAgICB7ICRtYXRjaDogeyB1aWQ6IGlkLCBzdGF0dXM6ICcxJywgaXNSZWFkOiAnMCcgfSB9XHJcbiAgLy8gICBdKVxyXG4gIC8vICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXHJcbiAgLy8gICAgIC5saW1pdChsaW1pdClcclxuICAvLyAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gIC8vIH1cclxuICBnZXRIb3RDb21tZW50czogZnVuY3Rpb24gKHBhZ2UsIGxpbWl0LCBpbmRleCkge1xyXG4gICAgaWYgKGluZGV4ID09PSAnMCcpIHtcclxuICAgICAgLy8g5oC76K+E6K666K6w5pWwIC0+IGFnZ3JlZ2F0ZeiBmuWQiOafpeivolxyXG4gICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGUoW1xyXG4gICAgICAgIC8vIOWMuemFjTMw5aSp5YaF55qE6K+E6K665pWw5o2uXHJcbiAgICAgICAgeyAkbWF0Y2g6IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShtb21lbnQoKS5zdWJ0cmFjdCgzMCwgJ2RheScpKSB9IH0gfSxcclxuICAgICAgICB7ICRncm91cDogeyBfaWQ6ICckY3VpZCcsIGNvdW50OiB7ICRzdW06IDEgfSB9IH0sXHJcbiAgICAgICAgeyAkYWRkRmllbGRzOiB7IHVzZXJJZDogeyAkdG9PYmplY3RJZDogJyRfaWQnIH0gfSB9LFxyXG4gICAgICAgIHsgJGxvb2t1cDogeyBmcm9tOiAndXNlcnMnLCBsb2NhbEZpZWxkOiAndXNlcklkJywgZm9yZWlnbkZpZWxkOiAnX2lkJywgYXM6ICdjdWlkJyB9IH0sXHJcbiAgICAgICAgeyAkdW53aW5kOiAnJGN1aWQnIH0sXHJcbiAgICAgICAgeyAkcHJvamVjdDogeyBjdWlkOiB7IG5hbWU6IDEsIF9pZDogMSwgcGljOiAxIH0sIGNvdW50OiAxIH0gfSxcclxuICAgICAgICB7ICRza2lwOiBwYWdlICogbGltaXQgfSxcclxuICAgICAgICB7ICRsaW1pdDogbGltaXQgfSxcclxuICAgICAgICB7ICRzb3J0OiB7IGNvdW50OiAtMSB9IH1cclxuICAgICAgXSlcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09ICcxJykge1xyXG4gICAgICAvLyDmnIDmlrDor4TorrpcclxuICAgICAgcmV0dXJuIHRoaXMuZmluZCh7fSlcclxuICAgICAgICAvLyBwb3B1bGF0ZVxyXG4gICAgICAgIC5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICBwYXRoOiAnY3VpZCcsXHJcbiAgICAgICAgICBzZWxlY3Q6ICduYW1lIHBpYyBfaWQnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2tpcChwYWdlICogbGltaXQpXHJcbiAgICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICAgIH1cclxuICB9LFxyXG4gIGdldEhvdENvbW1lbnRzQ291bnQ6IGFzeW5jIGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgaWYgKGluZGV4ID09PSAnMCcpIHtcclxuICAgICAgLy8g5oC76K+E6K666K6w5pWwIC0+IGFnZ3JlZ2F0ZeiBmuWQiOafpeivolxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAgLy8g5Yy56YWNMzDlpKnlhoXnmoTor4TorrrmlbDmja5cclxuICAgICAgICB7ICRtYXRjaDogeyBjcmVhdGVkOiB7ICRndGU6IG5ldyBEYXRlKG1vbWVudCgpLnN1YnRyYWN0KDMwLCAnZGF5JykpIH0gfSB9LFxyXG4gICAgICAgIHsgJGdyb3VwOiB7IF9pZDogJyRjdWlkJywgY291bnQ6IHsgJHN1bTogMSB9IH0gfSxcclxuICAgICAgICB7ICRncm91cDogeyBfaWQ6ICdudWxsJywgdG90YWw6IHsgJHN1bTogMSB9IH0gfVxyXG4gICAgICBdKVxyXG4gICAgICByZXR1cm4gcmVzdWx0WzBdLnRvdGFsXHJcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAnMScpIHtcclxuICAgICAgLy8g5pyA5paw6K+E6K66XHJcbiAgICAgIHJldHVybiB0aGlzLmZpbmQoe30pLmNvdW50RG9jdW1lbnRzKClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IENvbW1lbnRzID0gbW9uZ29vc2UubW9kZWwoJ2NvbW1lbnRzJywgQ29tbWVudHNTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb21tZW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Comments.js\n");

/***/ }),

/***/ "./src/model/CommentsHands.js":
/*!************************************!*\
  !*** ./src/model/CommentsHands.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  // 'cid': { type: String},\n  cid: {\n    type: String,\n    ref: 'comments'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByCid: function (id) {\n    return this.find({\n      cid: id\n    });\n  },\n  getHandsByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cid',\n      select: '_id content'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  }\n};\nconst CommentsHands = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments_hands', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentsHands);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHNIYW5kcy5qcz9jOTdiIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiQ29tbWVudHNTY2hlbWEiLCJjaWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVmIiwidWlkIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlDaWQiLCJpZCIsImZpbmQiLCJnZXRIYW5kc0J5VWlkIiwicGFnZSIsImxpbWl0IiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0Iiwic2tpcCIsInNvcnQiLCJDb21tZW50c0hhbmRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDO0FBQ0FHLEtBQUcsRUFBRTtBQUFFQyxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLE9BQUcsRUFBRTtBQUFyQixHQUYyQjtBQUdoQ0MsS0FBRyxFQUFFO0FBQUVILFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsT0FBRyxFQUFFO0FBQXJCLEdBSDJCO0FBSWhDRSxTQUFPLEVBQUU7QUFBRUosUUFBSSxFQUFFSztBQUFSO0FBSnVCLENBQVgsQ0FBdkI7QUFPQVAsY0FBYyxDQUFDUSxHQUFmLENBQW1CLE1BQW5CLEVBQTJCLFVBQVVDLElBQVYsRUFBZ0I7QUFDekMsT0FBS0gsT0FBTCxHQUFlLElBQUlDLElBQUosRUFBZjtBQUNBRSxNQUFJO0FBQ0wsQ0FIRDtBQUtBVCxjQUFjLENBQUNVLElBQWYsQ0FBb0IsTUFBcEIsRUFBNEIsVUFBVUMsS0FBVixFQUFpQkMsR0FBakIsRUFBc0JILElBQXRCLEVBQTRCO0FBQ3RELE1BQUlFLEtBQUssQ0FBQ0UsSUFBTixLQUFlLFlBQWYsSUFBK0JGLEtBQUssQ0FBQ0csSUFBTixLQUFlLEtBQWxELEVBQXlEO0FBQ3ZETCxRQUFJLENBQUMsSUFBSU0sS0FBSixDQUFVLGlDQUFWLENBQUQsQ0FBSjtBQUNELEdBRkQsTUFFTztBQUNMTixRQUFJLENBQUNFLEtBQUQsQ0FBSjtBQUNEO0FBQ0YsQ0FORDtBQVFBWCxjQUFjLENBQUNnQixPQUFmLEdBQXlCO0FBQ3ZCQyxXQUFTLEVBQUUsVUFBVUMsRUFBVixFQUFjO0FBQ3ZCLFdBQU8sS0FBS0MsSUFBTCxDQUFVO0FBQUVsQixTQUFHLEVBQUVpQjtBQUFQLEtBQVYsQ0FBUDtBQUNELEdBSHNCO0FBSXZCRSxlQUFhLEVBQUUsVUFBVUYsRUFBVixFQUFjRyxJQUFkLEVBQW9CQyxLQUFwQixFQUEyQjtBQUN4QyxXQUFPLEtBQUtILElBQUwsQ0FBVTtBQUFFZCxTQUFHLEVBQUVhO0FBQVAsS0FBVixFQUNKSyxRQURJLENBQ0s7QUFDUkMsVUFBSSxFQUFFLEtBREU7QUFFUkMsWUFBTSxFQUFFO0FBRkEsS0FETCxFQUtKRixRQUxJLENBS0s7QUFDUkMsVUFBSSxFQUFFLEtBREU7QUFFUkMsWUFBTSxFQUFFO0FBRkEsS0FMTCxFQVNKQyxJQVRJLENBU0NMLElBQUksR0FBR0MsS0FUUixFQVVKQSxLQVZJLENBVUVBLEtBVkYsRUFXSkssSUFYSSxDQVdDO0FBQUVyQixhQUFPLEVBQUUsQ0FBQztBQUFaLEtBWEQsQ0FBUDtBQVlEO0FBakJzQixDQUF6QjtBQW9CQSxNQUFNc0IsYUFBYSxHQUFHN0IseURBQVEsQ0FBQzhCLEtBQVQsQ0FBZSxnQkFBZixFQUFpQzdCLGNBQWpDLENBQXRCO0FBRWU0Qiw0RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Db21tZW50c0hhbmRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IENvbW1lbnRzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgLy8gJ2NpZCc6IHsgdHlwZTogU3RyaW5nfSxcclxuICBjaWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICdjb21tZW50cycgfSxcclxuICB1aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICd1c2VycycgfSxcclxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfVxyXG59KVxyXG5cclxuQ29tbWVudHNTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpXHJcbiAgbmV4dCgpXHJcbn0pXHJcblxyXG5Db21tZW50c1NjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcclxuICBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvRXJyb3InICYmIGVycm9yLmNvZGUgPT09IDExMDAwKSB7XHJcbiAgICBuZXh0KG5ldyBFcnJvcignVGhlcmUgd2FzIGEgZHVwbGljYXRlIGtleSBlcnJvcicpKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBuZXh0KGVycm9yKVxyXG4gIH1cclxufSlcclxuXHJcbkNvbW1lbnRzU2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgZmluZEJ5Q2lkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyBjaWQ6IGlkIH0pXHJcbiAgfSxcclxuICBnZXRIYW5kc0J5VWlkOiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdWlkOiBpZCB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICdjaWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCBjb250ZW50J1xyXG4gICAgICB9KVxyXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgQ29tbWVudHNIYW5kcyA9IG1vbmdvb3NlLm1vZGVsKCdjb21tZW50c19oYW5kcycsIENvbW1lbnRzU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29tbWVudHNIYW5kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/CommentsHands.js\n");

/***/ }),

/***/ "./src/model/Links.js":
/*!****************************!*\
  !*** ./src/model/Links.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst LinksSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'link'\n  },\n  created: {\n    type: Date\n  },\n  isTop: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: ''\n  }\n});\nLinksSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('links', LinksSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTGlua3MuanM/ZTMxMiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkxpbmtzU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwiZGVmYXVsdCIsImxpbmsiLCJjcmVhdGVkIiwiRGF0ZSIsImlzVG9wIiwic29ydCIsInByZSIsIm5leHQiLCJMaW5rcyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM3QkcsT0FBSyxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBRHNCO0FBRTdCQyxNQUFJLEVBQUU7QUFBRUgsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FGdUI7QUFHN0JGLE1BQUksRUFBRTtBQUFFQSxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUh1QjtBQUk3QkUsU0FBTyxFQUFFO0FBQUVKLFFBQUksRUFBRUs7QUFBUixHQUpvQjtBQUs3QkMsT0FBSyxFQUFFO0FBQUVOLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBTHNCO0FBTTdCSyxNQUFJLEVBQUU7QUFBRVAsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekI7QUFOdUIsQ0FBWCxDQUFwQjtBQVNBSixXQUFXLENBQUNVLEdBQVosQ0FBZ0IsTUFBaEIsRUFBd0IsVUFBVUMsSUFBVixFQUFnQjtBQUN0QyxPQUFLTCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FJLE1BQUk7QUFDTCxDQUhEO0FBS0EsTUFBTUMsS0FBSyxHQUFHYix5REFBUSxDQUFDYyxLQUFULENBQWUsT0FBZixFQUF3QmIsV0FBeEIsQ0FBZDtBQUVlWSxvRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9MaW5rcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBMaW5rc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICBsaW5rOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2xpbmsnIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgaXNUb3A6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIHNvcnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9XHJcbn0pXHJcblxyXG5MaW5rc1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcclxuICBuZXh0KClcclxufSlcclxuXHJcbmNvbnN0IExpbmtzID0gbW9uZ29vc2UubW9kZWwoJ2xpbmtzJywgTGlua3NTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaW5rcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Links.js\n");

/***/ }),

/***/ "./src/model/Post.js":
/*!***************************!*\
  !*** ./src/model/Post.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String,\n    default: '0'\n  },\n  // 结帖状态\n  reads: {\n    type: Number,\n    default: 0\n  },\n  answer: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  // 管理员打开回复\n  isTop: {\n    type: String,\n    default: '0'\n  },\n  sort: {\n    type: String,\n    default: 100\n  },\n  tags: {\n    type: Array,\n    default: [// {\n      //   name: '',\n      //   class: ''\n      // }\n    ]\n  }\n}); // uid虚拟映射users集合中的_id\n\nPostSchema.virtual('users', {\n  ref: 'users',\n  localField: 'uid',\n  foreignField: '_id'\n});\nPostSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostSchema.statics = {\n  /**\r\n   * 获取文章列表数据\r\n   * @param {Object} options 筛选条件\r\n   * @param {String} sort 排序方式\r\n   * @param {Number} page 分页页数\r\n   * @param {Number} limit 分页条数\r\n   */\n  getList: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit).populate({\n      path: 'uid',\n      // 通过uid去取得用户的昵称、是否会员、头像\n      select: 'name isVip pic'\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  },\n  // 获取7天内的文章,取回复数前15\n  getTopWeek: function () {\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(7, 'days')\n      }\n    }, {\n      answer: 1,\n      title: 1\n    }).sort({\n      answer: -1\n    }).limit(15);\n  },\n  // 根据uid取得用户的信息\n  findByTid: function (id) {\n    return this.findOne({\n      _id: id\n    }).populate({\n      path: 'uid',\n      // Post表的uid属性与User表映射,通过帖子id使用populate取我们需要的数据\n      select: 'name pic isVip _id'\n    });\n  },\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  },\n  getHotPost: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).skip(limit * page).limit(limit).sort({\n      answer: -1\n    });\n  },\n  getHotPostCount: function (page, limit, start, end) {\n    let query = {};\n\n    if (start !== '' && end !== '') {\n      query = {\n        created: {\n          $gte: start,\n          $lt: end\n        }\n      };\n    }\n\n    return this.find(query).countDocuments();\n  }\n};\nconst PostModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post', PostSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PostModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Il0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiUG9zdFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJ0aXRsZSIsImNvbnRlbnQiLCJjcmVhdGVkIiwiRGF0ZSIsImNhdGFsb2ciLCJmYXYiLCJpc0VuZCIsImRlZmF1bHQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJBcnJheSIsInZpcnR1YWwiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwicHJlIiwibmV4dCIsInN0YXRpY3MiLCJnZXRMaXN0Iiwib3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3BXZWVrIiwiJGd0ZSIsIm1vbWVudCIsInN1YnRyYWN0IiwiZmluZEJ5VGlkIiwiaWQiLCJmaW5kT25lIiwiX2lkIiwiZ2V0TGlzdEJ5VWlkIiwiY291bnRCeVVpZCIsImdldEhvdFBvc3QiLCJzdGFydCIsImVuZCIsInF1ZXJ5IiwiJGx0IiwiZ2V0SG90UG9zdENvdW50IiwiUG9zdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzVCRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FEdUI7QUFFNUJDLE9BQUssRUFBRTtBQUFFSCxRQUFJLEVBQUVDO0FBQVIsR0FGcUI7QUFHNUJHLFNBQU8sRUFBRTtBQUFFSixRQUFJLEVBQUVDO0FBQVIsR0FIbUI7QUFJNUJJLFNB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QUlGLEtBQUssS0FBSyxFQUFWLElBQWdCQyxHQUFHLEtBQUssRUFBNUIsRUFBZ0M7QUFDOUJDLFdBQUssR0FBRztBQUFFNUMsZUFBTyxFQUFFO0FBQUVnQyxjQUFJLEVBQUVVLEtBQVI7QUFBZUcsYUFBRyxFQUFFRjtBQUFwQjtBQUFYLE9BQVI7QUFDRDs7QUFDRCxXQUFPLEtBQUtuQixJQUFMLENBQVVvQixLQUFWLEVBQWlCZCxjQUFqQixFQUFQO0FBQ0Q7QUFqRWtCLENBQXJCO0FBb0VBLE1BQU1pQixTQUFTLEdBQUd2RCx5REFBUSxDQUFDd0QsS0FBVCxDQUFlLE1BQWYsRUFBdUJ2RCxVQUF2QixDQUFsQjtBQUVlc0Qsd0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvUG9zdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBQb3N0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXHJcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgY29udGVudDogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfSxcclxuICBjYXRhbG9nOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIGZhdjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBpc0VuZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LCAvLyDnu5PluJbnirbmgIFcclxuICByZWFkczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxuICBhbnN3ZXI6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sIC8vIOeuoeeQhuWRmOaJk+W8gOWbnuWkjVxyXG4gIGlzVG9wOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sXHJcbiAgc29ydDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IDEwMCB9LFxyXG4gIHRhZ3M6IHtcclxuICAgIHR5cGU6IEFycmF5LFxyXG4gICAgZGVmYXVsdDogW1xyXG4gICAgICAvLyB7XHJcbiAgICAgIC8vICAgbmFtZTogJycsXHJcbiAgICAgIC8vICAgY2xhc3M6ICcnXHJcbiAgICAgIC8vIH1cclxuICAgIF1cclxuICB9XHJcbn0pXHJcblxyXG4vLyB1aWTomZrmi5/mmKDlsIR1c2Vyc+mbhuWQiOS4reeahF9pZFxyXG5Qb3N0U2NoZW1hLnZpcnR1YWwoJ3VzZXJzJywge1xyXG4gIHJlZjogJ3VzZXJzJyxcclxuICBsb2NhbEZpZWxkOiAndWlkJyxcclxuICBmb3JlaWduRmllbGQ6ICdfaWQnXHJcbn0pXHJcblxyXG5Qb3N0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuUG9zdFNjaGVtYS5zdGF0aWNzID0ge1xyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaWh+eroOWIl+ihqOaVsOaNrlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOetm+mAieadoeS7tlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzb3J0IOaOkuW6j+aWueW8j1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlIOWIhumhtemhteaVsFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsaW1pdCDliIbpobXmnaHmlbBcclxuICAgKi9cclxuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucylcclxuICAgICAgLnNvcnQoeyBbc29ydF06IC0xIH0pXHJcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLCAvLyDpgJrov4d1aWTljrvlj5blvpfnlKjmiLfnmoTmmLXnp7DjgIHmmK/lkKbkvJrlkZjjgIHlpLTlg49cclxuICAgICAgICBzZWxlY3Q6ICduYW1lIGlzVmlwIHBpYydcclxuICAgICAgfSlcclxuICB9LFxyXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucykuY291bnREb2N1bWVudHMoKVxyXG4gIH0sXHJcbiAgLy8g6I635Y+WN+WkqeWGheeahOaWh+eroCzlj5blm57lpI3mlbDliY0xNVxyXG4gIGdldFRvcFdlZWs6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoe1xyXG4gICAgICBjcmVhdGVkOiB7XHJcbiAgICAgICAgJGd0ZTogbW9tZW50KCkuc3VidHJhY3QoNywgJ2RheXMnKVxyXG4gICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgIGFuc3dlcjogMSxcclxuICAgICAgdGl0bGU6IDFcclxuICAgIH0pLnNvcnQoeyBhbnN3ZXI6IC0xIH0pXHJcbiAgICAgIC5saW1pdCgxNSlcclxuICB9LFxyXG4gIC8vIOagueaNrnVpZOWPluW+l+eUqOaIt+eahOS/oeaBr1xyXG4gIGZpbmRCeVRpZDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgX2lkOiBpZCB9KS5wb3B1bGF0ZSh7XHJcbiAgICAgIHBhdGg6ICd1aWQnLCAvLyBQb3N06KGo55qEdWlk5bGe5oCn5LiOVXNlcuihqOaYoOWwhCzpgJrov4fluJblrZBpZOS9v+eUqHBvcHVsYXRl5Y+W5oiR5Lus6ZyA6KaB55qE5pWw5o2uXHJcbiAgICAgIHNlbGVjdDogJ25hbWUgcGljIGlzVmlwIF9pZCdcclxuICAgIH0pXHJcbiAgfSxcclxuICBnZXRMaXN0QnlVaWQ6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXHJcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcclxuICB9LFxyXG4gIGdldEhvdFBvc3Q6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCwgc3RhcnQsIGVuZCkge1xyXG4gICAgbGV0IHF1ZXJ5ID0ge31cclxuICAgIGlmIChzdGFydCAhPT0gJycgJiYgZW5kICE9PSAnJykge1xyXG4gICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydCwgJGx0OiBlbmQgfSB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KVxyXG4gICAgICAuc2tpcChsaW1pdCAqIHBhZ2UpXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuICAgICAgLnNvcnQoeyBhbnN3ZXI6IC0xIH0pXHJcbiAgfSxcclxuICBnZXRIb3RQb3N0Q291bnQ6IGZ1bmN0aW9uIChwYWdlLCBsaW1pdCwgc3RhcnQsIGVuZCkge1xyXG4gICAgbGV0IHF1ZXJ5ID0ge31cclxuICAgIGlmIChzdGFydCAhPT0gJycgJiYgZW5kICE9PSAnJykge1xyXG4gICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBzdGFydCwgJGx0OiBlbmQgfSB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBQb3N0TW9kZWwgPSBtb25nb29zZS5tb2RlbCgncG9zdCcsIFBvc3RTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3N0TW9kZWxcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/Post.js\n");

/***/ }),

/***/ "./src/model/PostTags.js":
/*!*******************************!*\
  !*** ./src/model/PostTags.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostTagsSchema = new Schema({\n  tagName: {\n    type: String,\n    default: ''\n  },\n  tagClass: {\n    type: String,\n    default: ''\n  }\n});\nPostTagsSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nPostTagsSchema.statics = {\n  getList: function (options, page, limit) {\n    return this.find(options).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countList: function (options) {\n    return this.find(options).countDocuments();\n  }\n};\nconst Links = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post_tags', PostTagsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Links);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdFRhZ3MuanM/Y2ZjZiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIlBvc3RUYWdzU2NoZW1hIiwidGFnTmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwidGFnQ2xhc3MiLCJwcmUiLCJuZXh0IiwiY3JlYXRlZCIsIkRhdGUiLCJzdGF0aWNzIiwiZ2V0TGlzdCIsIm9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInNvcnQiLCJjb3VudExpc3QiLCJjb3VudERvY3VtZW50cyIsIkxpbmtzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxTQUFPLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FEdUI7QUFFaENDLFVBQVEsRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QjtBQUZzQixDQUFYLENBQXZCO0FBS0FKLGNBQWMsQ0FBQ00sR0FBZixDQUFtQixNQUFuQixFQUEyQixVQUFVQyxJQUFWLEVBQWdCO0FBQ3pDLE9BQUtDLE9BQUwsR0FBZSxJQUFJQyxJQUFKLEVBQWY7QUFDQUYsTUFBSTtBQUNMLENBSEQ7QUFLQVAsY0FBYyxDQUFDVSxPQUFmLEdBQXlCO0FBQ3ZCQyxTQUFPLEVBQUUsVUFBVUMsT0FBVixFQUFtQkMsSUFBbkIsRUFBeUJDLEtBQXpCLEVBQWdDO0FBQ3ZDLFdBQU8sS0FBS0MsSUFBTCxDQUFVSCxPQUFWLEVBQ0pJLElBREksQ0FDQ0gsSUFBSSxHQUFHQyxLQURSLEVBRUpBLEtBRkksQ0FFRUEsS0FGRixFQUdKRyxJQUhJLENBR0M7QUFBRVQsYUFBTyxFQUFFLENBQUM7QUFBWixLQUhELENBQVA7QUFJRCxHQU5zQjtBQU92QlUsV0FBUyxFQUFFLFVBQVVOLE9BQVYsRUFBbUI7QUFDNUIsV0FBTyxLQUFLRyxJQUFMLENBQVVILE9BQVYsRUFBbUJPLGNBQW5CLEVBQVA7QUFDRDtBQVRzQixDQUF6QjtBQVlBLE1BQU1DLEtBQUssR0FBR3JCLHlEQUFRLENBQUNzQixLQUFULENBQWUsV0FBZixFQUE0QnJCLGNBQTVCLENBQWQ7QUFFZW9CLG9FQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1Bvc3RUYWdzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ0AvY29uZmlnL0RCSGVscGxlcidcclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgUG9zdFRhZ3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB0YWdOYW1lOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICB0YWdDbGFzczogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH1cclxufSlcclxuXHJcblBvc3RUYWdzU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuUG9zdFRhZ3NTY2hlbWEuc3RhdGljcyA9IHtcclxuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucylcclxuICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxyXG4gICAgICAubGltaXQobGltaXQpXHJcbiAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICB9LFxyXG4gIGNvdW50TGlzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQob3B0aW9ucykuY291bnREb2N1bWVudHMoKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgTGlua3MgPSBtb25nb29zZS5tb2RlbCgncG9zdF90YWdzJywgUG9zdFRhZ3NTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaW5rcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/PostTags.js\n");

/***/ }),

/***/ "./src/model/SignRecord.js":
/*!*********************************!*\
  !*** ./src/model/SignRecord.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst SignRecordSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  },\n  favs: {\n    type: Number\n  } // 积分\n\n});\nSignRecordSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n}); // 给模型设置静态方法\n\nSignRecordSchema.statics = {\n  findByUid: function (uid) {\n    // 根据uid查找最新的签到记录\n    return this.findOne({\n      uid: uid\n    }).sort({\n      created: -1\n    });\n  }\n};\nconst SignRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('sign_record', SignRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SignRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcz83YzliIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiU2lnblJlY29yZFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJjcmVhdGVkIiwiRGF0ZSIsImZhdnMiLCJOdW1iZXIiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0Iiwic3RhdGljcyIsImZpbmRCeVVpZCIsImZpbmRPbmUiLCJzb3J0IiwiU2lnblJlY29yZCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsZ0JBQWdCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2xDRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FENkI7QUFFbENDLFNBQU8sRUFBRTtBQUFFSCxRQUFJLEVBQUVJO0FBQVIsR0FGeUI7QUFHbENDLE1BQUksRUFBRTtBQUFFTCxRQUFJLEVBQUVNO0FBQVIsR0FINEIsQ0FHWDs7QUFIVyxDQUFYLENBQXpCO0FBTUFSLGdCQUFnQixDQUFDUyxHQUFqQixDQUFxQixNQUFyQixFQUE2QixVQUFVQyxJQUFWLEVBQWdCO0FBQzNDLE9BQUtMLE9BQUwsR0FBZU0sNENBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ0wsQ0FIRCxFLENBS0E7O0FBQ0FWLGdCQUFnQixDQUFDYSxPQUFqQixHQUEyQjtBQUN6QkMsV0FBUyxFQUFFLFVBQVViLEdBQVYsRUFBZTtBQUN4QjtBQUNBLFdBQU8sS0FBS2MsT0FBTCxDQUFhO0FBQUNkLFNBQUcsRUFBRUE7QUFBTixLQUFiLEVBQXlCZSxJQUF6QixDQUE4QjtBQUFDWCxhQUFPLEVBQUUsQ0FBQztBQUFYLEtBQTlCLENBQVA7QUFDRDtBQUp3QixDQUEzQjtBQU9BLE1BQU1ZLFVBQVUsR0FBR2xCLHlEQUFRLENBQUNtQixLQUFULENBQWUsYUFBZixFQUE4QmxCLGdCQUE5QixDQUFuQjtBQUVlaUIseUVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBTaWduUmVjb3JkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgZmF2czogeyB0eXBlOiBOdW1iZXIgfSAvLyDnp6/liIZcclxufSlcclxuXHJcblNpZ25SZWNvcmRTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuLy8g57uZ5qih5Z6L6K6+572u6Z2Z5oCB5pa55rOVXHJcblNpZ25SZWNvcmRTY2hlbWEuc3RhdGljcyA9IHtcclxuICBmaW5kQnlVaWQ6IGZ1bmN0aW9uICh1aWQpIHtcclxuICAgIC8vIOagueaNrnVpZOafpeaJvuacgOaWsOeahOetvuWIsOiusOW9lVxyXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7dWlkOiB1aWR9KS5zb3J0KHtjcmVhdGVkOiAtMX0pXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBTaWduUmVjb3JkID0gbW9uZ29vc2UubW9kZWwoJ3NpZ25fcmVjb3JkJywgU2lnblJlY29yZFNjaGVtYSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNpZ25SZWNvcmRcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/SignRecord.js\n");

/***/ }),

/***/ "./src/model/User.js":
/*!***************************!*\
  !*** ./src/model/User.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserSchema = new Schema({\n  username: {\n    type: String,\n    index: {\n      unique: true\n    },\n    sparse: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  updated: {\n    type: Date\n  },\n  favs: {\n    type: Number,\n    default: 100\n  },\n  gender: {\n    type: String,\n    default: ''\n  },\n  roles: {\n    type: Array,\n    default: ['user']\n  },\n  pic: {\n    type: String,\n    default: '/img/header.jpg'\n  },\n  mobile: {\n    type: String,\n    match: /^1[3-9](\\d{9})$/,\n    default: ''\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  regmark: {\n    type: String,\n    default: ''\n  },\n  location: {\n    type: String,\n    default: ''\n  },\n  isVip: {\n    type: String,\n    default: '0'\n  },\n  count: {\n    type: Number,\n    default: 0\n  }\n}); // 保存前给created赋值时间\n\nUserSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n}); // 更新前给updated赋值时间\n\nUserSchema.pre('update', function (next) {\n  this.updated = new Date();\n  next();\n}); // 报错\n\nUserSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('Error: Monngoose has a duplicate key.'));\n  } else {\n    next(error);\n  }\n});\nUserSchema.statics = {\n  // 根据id查用户信息时拦截数据库返回的密码、用户名、手机号码\n  findByID: function (id) {\n    return this.findOne({\n      _id: id\n    }, {\n      password: 0,\n      username: 0,\n      mobile: 0\n    });\n  },\n  // 获取用户列表\n  getList: function (options, sort, page, limit) {\n    // // 1. datepicker -> item: string, search -> array  startitme,endtime\n    // // 2. radio -> key-value $in\n    // // 3. select -> key-array $in\n    // let query = {}\n    // if (typeof options.search !== 'undefined') {\n    //   if (typeof options.search === 'string' && options.search.trim() !== '') {\n    //     if (['name', 'username'].includes(options.item)) {\n    //       // 模糊匹配\n    //       query[options.item] = { $regex: new RegExp(options.search) }\n    //       // =》 { name: { $regex: /admin/ } } => mysql like %admin%\n    //     } else {\n    //       // radio\n    //       query[options.item] = options.search\n    //     }\n    //   }\n    //   if (options.item === 'roles') {\n    //     query = { roles: { $in: options.search } }\n    //   }\n    //   if (options.item === 'created') {\n    //     const start = options.search[0]\n    //     const end = options.search[1]\n    //     query = { created: { $gte: new Date(start), $lt: new Date(end) } }\n    //   }\n    // }\n    // 查找返回的信息屏蔽掉密码手机等信息\n    return this.find({ ...options\n    }, {\n      password: 0,\n      mobile: 0\n    }).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit);\n  },\n  countList: function (options) {\n    // let query = {}\n    // if (typeof options.search !== 'undefined') {\n    //   if (typeof options.search === 'string' && options.search.trim() !== '') {\n    //     if (['name', 'username'].includes(options.item)) {\n    //       // 模糊匹配\n    //       query[options.item] = { $regex: new RegExp(options.search) }\n    //       // =》 { name: { $regex: /admin/ } } => mysql like %admin%\n    //     } else {\n    //       // radio\n    //       query[options.item] = options.search\n    //     }\n    //   }\n    //   if (options.item === 'roles') {\n    //     query = { roles: { $in: options.search } }\n    //   }\n    //   if (options.item === 'created') {\n    //     const start = options.search[0]\n    //     const end = options.search[1]\n    //     query = { created: { $gte: new Date(start), $lt: new Date(end) } }\n    //   }\n    // }\n    // return this.find(query).countDocuments()\n    return this.find(options).countDocuments();\n  },\n  getTotalSign: function (page, limit) {\n    return this.find({}).skip(page * limit).limit(limit).sort({\n      count: -1\n    });\n  },\n  getTotalSignCount: function (page, limit) {\n    return this.find({}).countDocuments();\n  }\n};\nconst UserModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlci5qcz83NmZlIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsImluZGV4IiwidW5pcXVlIiwic3BhcnNlIiwicGFzc3dvcmQiLCJuYW1lIiwiY3JlYXRlZCIsIkRhdGUiLCJ1cGRhdGVkIiwiZmF2cyIsIk51bWJlciIsImRlZmF1bHQiLCJnZW5kZXIiLCJyb2xlcyIsIkFycmF5IiwicGljIiwibW9iaWxlIiwibWF0Y2giLCJzdGF0dXMiLCJyZWdtYXJrIiwibG9jYXRpb24iLCJpc1ZpcCIsImNvdW50IiwicHJlIiwibmV4dCIsInBvc3QiLCJlcnJvciIsImRvYyIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlJRCIsImlkIiwiZmluZE9uZSIsIl9pZCIsImdldExpc3QiLCJvcHRpb25zIiwic29ydCIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwiY291bnRMaXN0IiwiY291bnREb2N1bWVudHMiLCJnZXRUb3RhbFNpZ24iLCJnZXRUb3RhbFNpZ25Db3VudCIsIlVzZXJNb2RlbCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUM1QkcsVUFBUSxFQUFFO0FBQUVDLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsU0FBSyxFQUFFO0FBQUVDLFlBQU0sRUFBRTtBQUFWLEtBQXZCO0FBQXlDQyxVQUFNLEVBQUU7QUFBakQsR0FEa0I7QUFFNUJDLFVBQVEsRUFBRTtBQUFFTCxRQUFJLEVBQUVDO0FBQVIsR0FGa0I7QUFHNUJLLE1BQUksRUFBRTtBQUFFTixRQUFJLEVBQUVDO0FBQVIsR0FIc0I7QUFJNUJNLFNBQU8sRUFBRTtBQUFFUCxR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VixFQUF3QjtBQUFFaEMsY0FBUSxFQUFDLENBQVg7QUFBY1ksWUFBTSxFQUFFO0FBQXRCLEtBQXhCLEVBQ0pxQixJQURJLENBQ0M7QUFBRSxPQUFDQSxJQUFELEdBQVEsQ0FBQztBQUFYLEtBREQsRUFFSkksSUFGSSxDQUVDSCxJQUFJLEdBQUdDLEtBRlIsRUFHSkEsS0FISSxDQUdFQSxLQUhGLENBQVA7QUFJRCxHQXhDa0I7QUF5Q25CRyxXQUFTLEVBQUUsVUFBVU4sT0FBVixFQUFtQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQU8sS0FBS0ksSUFBTCxDQUFVSixPQUFWLEVBQW1CTyxjQUFuQixFQUFQO0FBQ0QsR0FqRWtCO0FBa0VuQkMsY0FBWSxFQUFFLFVBQVVOLElBQVYsRUFBZ0JDLEtBQWhCLEVBQXVCO0FBQ25DLFdBQU8sS0FBS0MsSUFBTCxDQUFVLEVBQVYsRUFDSkMsSUFESSxDQUNDSCxJQUFJLEdBQUdDLEtBRFIsRUFFSkEsS0FGSSxDQUVFQSxLQUZGLEVBR0pGLElBSEksQ0FHQztBQUFFZixXQUFLLEVBQUUsQ0FBQztBQUFWLEtBSEQsQ0FBUDtBQUlELEdBdkVrQjtBQXdFbkJ1QixtQkFBaUIsRUFBRSxVQUFVUCxJQUFWLEVBQWdCQyxLQUFoQixFQUF1QjtBQUN4QyxXQUFPLEtBQUtDLElBQUwsQ0FBVSxFQUFWLEVBQWNHLGNBQWQsRUFBUDtBQUNEO0FBMUVrQixDQUFyQjtBQTZFQSxNQUFNRyxTQUFTLEdBQUdsRCx5REFBUSxDQUFDbUQsS0FBVCxDQUFlLE9BQWYsRUFBd0JsRCxVQUF4QixDQUFsQjtBQUVlaUQsd0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvVXNlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nLCBpbmRleDogeyB1bmlxdWU6IHRydWUgfSwgc3BhcnNlOiB0cnVlIH0sXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZyB9LFxuICBuYW1lOiB7IHR5cGU6IFN0cmluZyB9LFxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfSxcbiAgdXBkYXRlZDogeyB0eXBlOiBEYXRlIH0sXG4gIGZhdnM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxMDAgfSxcbiAgZ2VuZGVyOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgcm9sZXM6IHsgdHlwZTogQXJyYXksIGRlZmF1bHQ6IFsndXNlciddIH0sXG4gIHBpYzogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcvaW1nL2hlYWRlci5qcGcnIH0sXG4gIG1vYmlsZTogeyB0eXBlOiBTdHJpbmcsIG1hdGNoOiAvXjFbMy05XShcXGR7OX0pJC8sIGRlZmF1bHQ6ICcnIH0sXG4gIHN0YXR1czogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LFxuICByZWdtYXJrOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgbG9jYXRpb246IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBpc1ZpcDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LFxuICBjb3VudDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfVxufSlcbi8vIOS/neWtmOWJjee7mWNyZWF0ZWTotYvlgLzml7bpl7RcblVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgdGhpcy5jcmVhdGVkID0gbmV3IERhdGUoKVxuICBuZXh0KClcbn0pXG4vLyDmm7TmlrDliY3nu5l1cGRhdGVk6LWL5YC85pe26Ze0XG5Vc2VyU2NoZW1hLnByZSgndXBkYXRlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgdGhpcy51cGRhdGVkID0gbmV3IERhdGUoKVxuICBuZXh0KClcbn0pXG4vLyDmiqXplJlcblVzZXJTY2hlbWEucG9zdCgnc2F2ZScsIGZ1bmN0aW9uIChlcnJvciwgZG9jLCBuZXh0KSB7XG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICBuZXh0KG5ldyBFcnJvcignRXJyb3I6IE1vbm5nb29zZSBoYXMgYSBkdXBsaWNhdGUga2V5LicpKVxuICB9IGVsc2Uge1xuICAgIG5leHQoZXJyb3IpXG4gIH1cbn0pXG5cblVzZXJTY2hlbWEuc3RhdGljcyA9IHtcbiAgLy8g5qC55o2uaWTmn6XnlKjmiLfkv6Hmga/ml7bmi6bmiKrmlbDmja7lupPov5Tlm57nmoTlr4bnoIHjgIHnlKjmiLflkI3jgIHmiYvmnLrlj7fnoIFcbiAgZmluZEJ5SUQ6IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiB0aGlzLmZpbmRPbmUoeyBfaWQ6IGlkfSwge1xuICAgICAgcGFzc3dvcmQ6IDAsXG4gICAgICB1c2VybmFtZTogMCxcbiAgICAgIG1vYmlsZTogMFxuICAgIH0pXG4gIH0sXG4gIC8vIOiOt+WPlueUqOaIt+WIl+ihqFxuICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpIHtcbiAgICAvLyAvLyAxLiBkYXRlcGlja2VyIC0+IGl0ZW06IHN0cmluZywgc2VhcmNoIC0+IGFycmF5ICBzdGFydGl0bWUsZW5kdGltZVxuICAgIC8vIC8vIDIuIHJhZGlvIC0+IGtleS12YWx1ZSAkaW5cbiAgICAvLyAvLyAzLiBzZWxlY3QgLT4ga2V5LWFycmF5ICRpblxuICAgIC8vIGxldCBxdWVyeSA9IHt9XG4gICAgLy8gaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zZWFyY2ggPT09ICdzdHJpbmcnICYmIG9wdGlvbnMuc2VhcmNoLnRyaW0oKSAhPT0gJycpIHtcbiAgICAvLyAgICAgaWYgKFsnbmFtZScsICd1c2VybmFtZSddLmluY2x1ZGVzKG9wdGlvbnMuaXRlbSkpIHtcbiAgICAvLyAgICAgICAvLyDmqKHns4rljLnphY1cbiAgICAvLyAgICAgICBxdWVyeVtvcHRpb25zLml0ZW1dID0geyAkcmVnZXg6IG5ldyBSZWdFeHAob3B0aW9ucy5zZWFyY2gpIH1cbiAgICAvLyAgICAgICAvLyA944CLIHsgbmFtZTogeyAkcmVnZXg6IC9hZG1pbi8gfSB9ID0+IG15c3FsIGxpa2UgJWFkbWluJVxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgIC8vIHJhZGlvXG4gICAgLy8gICAgICAgcXVlcnlbb3B0aW9ucy5pdGVtXSA9IG9wdGlvbnMuc2VhcmNoXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH1cbiAgICAvLyAgIGlmIChvcHRpb25zLml0ZW0gPT09ICdyb2xlcycpIHtcbiAgICAvLyAgICAgcXVlcnkgPSB7IHJvbGVzOiB7ICRpbjogb3B0aW9ucy5zZWFyY2ggfSB9XG4gICAgLy8gICB9XG4gICAgLy8gICBpZiAob3B0aW9ucy5pdGVtID09PSAnY3JlYXRlZCcpIHtcbiAgICAvLyAgICAgY29uc3Qgc3RhcnQgPSBvcHRpb25zLnNlYXJjaFswXVxuICAgIC8vICAgICBjb25zdCBlbmQgPSBvcHRpb25zLnNlYXJjaFsxXVxuICAgIC8vICAgICBxdWVyeSA9IHsgY3JlYXRlZDogeyAkZ3RlOiBuZXcgRGF0ZShzdGFydCksICRsdDogbmV3IERhdGUoZW5kKSB9IH1cbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLy8g5p+l5om+6L+U5Zue55qE5L+h5oGv5bGP6JS95o6J5a+G56CB5omL5py6562J5L+h5oGvXG4gICAgcmV0dXJuIHRoaXMuZmluZCh7Li4ub3B0aW9uc30sIHsgcGFzc3dvcmQ6MCwgbW9iaWxlOiAwfSlcbiAgICAgIC5zb3J0KHsgW3NvcnRdOiAtMSB9KVxuICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxuICAgICAgLmxpbWl0KGxpbWl0KVxuICB9LFxuICBjb3VudExpc3Q6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgLy8gbGV0IHF1ZXJ5ID0ge31cbiAgICAvLyBpZiAodHlwZW9mIG9wdGlvbnMuc2VhcmNoICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vICAgaWYgKHR5cGVvZiBvcHRpb25zLnNlYXJjaCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5zZWFyY2gudHJpbSgpICE9PSAnJykge1xuICAgIC8vICAgICBpZiAoWyduYW1lJywgJ3VzZXJuYW1lJ10uaW5jbHVkZXMob3B0aW9ucy5pdGVtKSkge1xuICAgIC8vICAgICAgIC8vIOaooeeziuWMuemFjVxuICAgIC8vICAgICAgIHF1ZXJ5W29wdGlvbnMuaXRlbV0gPSB7ICRyZWdleDogbmV3IFJlZ0V4cChvcHRpb25zLnNlYXJjaCkgfVxuICAgIC8vICAgICAgIC8vID3jgIsgeyBuYW1lOiB7ICRyZWdleDogL2FkbWluLyB9IH0gPT4gbXlzcWwgbGlrZSAlYWRtaW4lXG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgLy8gcmFkaW9cbiAgICAvLyAgICAgICBxdWVyeVtvcHRpb25zLml0ZW1dID0gb3B0aW9ucy5zZWFyY2hcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vICAgaWYgKG9wdGlvbnMuaXRlbSA9PT0gJ3JvbGVzJykge1xuICAgIC8vICAgICBxdWVyeSA9IHsgcm9sZXM6IHsgJGluOiBvcHRpb25zLnNlYXJjaCB9IH1cbiAgICAvLyAgIH1cbiAgICAvLyAgIGlmIChvcHRpb25zLml0ZW0gPT09ICdjcmVhdGVkJykge1xuICAgIC8vICAgICBjb25zdCBzdGFydCA9IG9wdGlvbnMuc2VhcmNoWzBdXG4gICAgLy8gICAgIGNvbnN0IGVuZCA9IG9wdGlvbnMuc2VhcmNoWzFdXG4gICAgLy8gICAgIHF1ZXJ5ID0geyBjcmVhdGVkOiB7ICRndGU6IG5ldyBEYXRlKHN0YXJ0KSwgJGx0OiBuZXcgRGF0ZShlbmQpIH0gfVxuICAgIC8vICAgfVxuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gdGhpcy5maW5kKHF1ZXJ5KS5jb3VudERvY3VtZW50cygpXG4gICAgcmV0dXJuIHRoaXMuZmluZChvcHRpb25zKS5jb3VudERvY3VtZW50cygpXG4gIH0sXG4gIGdldFRvdGFsU2lnbjogZnVuY3Rpb24gKHBhZ2UsIGxpbWl0KSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZCh7fSlcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcbiAgICAgIC5saW1pdChsaW1pdClcbiAgICAgIC5zb3J0KHsgY291bnQ6IC0xIH0pXG4gIH0sXG4gIGdldFRvdGFsU2lnbkNvdW50OiBmdW5jdGlvbiAocGFnZSwgbGltaXQpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHt9KS5jb3VudERvY3VtZW50cygpXG4gIH1cbn1cblxuY29uc3QgVXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ3VzZXJzJywgVXNlclNjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgVXNlck1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/User.js\n");

/***/ }),

/***/ "./src/model/UserCollect.js":
/*!**********************************!*\
  !*** ./src/model/UserCollect.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserCollectSchema = new Schema({\n  uid: {\n    type: String\n  },\n  tid: {\n    type: String\n  },\n  title: {\n    type: String\n  },\n  created: {\n    type: Date\n  }\n});\nUserCollectSchema.pre('save', function (next) {\n  this.created = new Date();\n  next();\n});\nUserCollectSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nUserCollectSchema.statics = {\n  // 查询特定用户的收藏数据\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 查询总数\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  }\n};\nconst UserCollect = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('user_collect', UserCollectSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserCollect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanM/ODE5OCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb29nb29zZSIsIlVzZXJDb2xsZWN0U2NoZW1hIiwidWlkIiwidHlwZSIsIlN0cmluZyIsInRpZCIsInRpdGxlIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJnZXRMaXN0QnlVaWQiLCJpZCIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNvdW50QnlVaWQiLCJjb3VudERvY3VtZW50cyIsIlVzZXJDb2xsZWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxpQkFBaUIsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDbkNHLEtBQUcsRUFBRTtBQUFFQyxRQUFJLEVBQUVDO0FBQVIsR0FEOEI7QUFFbkNDLEtBQUcsRUFBRTtBQUFFRixRQUFJLEVBQUVDO0FBQVIsR0FGOEI7QUFHbkNFLE9BQUssRUFBRTtBQUFFSCxRQUFJLEVBQUVDO0FBQVIsR0FINEI7QUFJbkNHLFNBQU8sRUFBRTtBQUFFSixRQUFJLEVBQUVLO0FBQVI7QUFKMEIsQ0FBWCxDQUExQjtBQU9BUCxpQkFBaUIsQ0FBQ1EsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtBQUM1QyxPQUFLSCxPQUFMLEdBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0FFLE1BQUk7QUFDTCxDQUhEO0FBS0FULGlCQUFpQixDQUFDVSxJQUFsQixDQUF1QixNQUF2QixFQUErQixVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkgsSUFBdEIsRUFBNEI7QUFDekQsTUFBSUUsS0FBSyxDQUFDRSxJQUFOLEtBQWUsWUFBZixJQUErQkYsS0FBSyxDQUFDRyxJQUFOLEtBQWUsS0FBbEQsRUFBeUQ7QUFDdkRMLFFBQUksQ0FBQyxJQUFJTSxLQUFKLENBQVUsaUNBQVYsQ0FBRCxDQUFKO0FBQ0QsR0FGRCxNQUVPO0FBQ0xOLFFBQUksQ0FBQ0UsS0FBRCxDQUFKO0FBQ0Q7QUFDRixDQU5EO0FBUUFYLGlCQUFpQixDQUFDZ0IsT0FBbEIsR0FBNEI7QUFDMUI7QUFDQUMsY0FBWSxFQUFFLFVBQVVDLEVBQVYsRUFBY0MsSUFBZCxFQUFvQkMsS0FBcEIsRUFBMkI7QUFDdkMsV0FBTyxLQUFLQyxJQUFMLENBQVU7QUFBRXBCLFNBQUcsRUFBRWlCO0FBQVAsS0FBVixFQUNKSSxJQURJLENBQ0NGLEtBQUssR0FBR0QsSUFEVCxFQUVKQyxLQUZJLENBRUVBLEtBRkYsRUFHSkcsSUFISSxDQUdDO0FBQUVqQixhQUFPLEVBQUUsQ0FBQztBQUFaLEtBSEQsQ0FBUDtBQUlELEdBUHlCO0FBUTFCO0FBQ0FrQixZQUFVLEVBQUUsVUFBVU4sRUFBVixFQUFjO0FBQ3hCLFdBQU8sS0FBS0csSUFBTCxDQUFVO0FBQUVwQixTQUFHLEVBQUVpQjtBQUFQLEtBQVYsRUFBdUJPLGNBQXZCLEVBQVA7QUFDRDtBQVh5QixDQUE1QjtBQWNBLE1BQU1DLFdBQVcsR0FBRzNCLHlEQUFRLENBQUM0QixLQUFULENBQWUsY0FBZixFQUErQjNCLGlCQUEvQixDQUFwQjtBQUVlMEIsMEVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vb2dvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgVXNlckNvbGxlY3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB1aWQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgdGlkOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9XHJcbn0pXHJcblxyXG5Vc2VyQ29sbGVjdFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIHRoaXMuY3JlYXRlZCA9IG5ldyBEYXRlKClcclxuICBuZXh0KClcclxufSlcclxuXHJcblVzZXJDb2xsZWN0U2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xyXG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcclxuICAgIG5leHQobmV3IEVycm9yKCdUaGVyZSB3YXMgYSBkdXBsaWNhdGUga2V5IGVycm9yJykpXHJcbiAgfSBlbHNlIHtcclxuICAgIG5leHQoZXJyb3IpXHJcbiAgfVxyXG59KVxyXG5cclxuVXNlckNvbGxlY3RTY2hlbWEuc3RhdGljcyA9IHtcclxuICAvLyDmn6Xor6LnibnlrprnlKjmiLfnmoTmlLbol4/mlbDmja5cclxuICBnZXRMaXN0QnlVaWQ6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXHJcbiAgICAgIC5za2lwKGxpbWl0ICogcGFnZSlcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICAvLyDmn6Xor6LmgLvmlbBcclxuICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFVzZXJDb2xsZWN0ID0gbW9vZ29vc2UubW9kZWwoJ3VzZXJfY29sbGVjdCcsIFVzZXJDb2xsZWN0U2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckNvbGxlY3RcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/UserCollect.js\n");

/***/ }),

/***/ "./src/routes/modules sync recursive \\.js$":
/*!***************************************!*\
  !*** ./src/routes/modules sync \.js$ ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./adminRouter.js\": \"./src/routes/modules/adminRouter.js\",\n\t\"./commentsRouter.js\": \"./src/routes/modules/commentsRouter.js\",\n\t\"./contentRouter.js\": \"./src/routes/modules/contentRouter.js\",\n\t\"./loginRouter.js\": \"./src/routes/modules/loginRouter.js\",\n\t\"./publicRouter.js\": \"./src/routes/modules/publicRouter.js\",\n\t\"./userRouter.js\": \"./src/routes/modules/userRouter.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/routes/modules sync recursive \\\\.js$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyBcXC5qcyQ/NGUxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyByZWN1cnNpdmUgXFwuanMkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcCA9IHtcblx0XCIuL2FkbWluUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanNcIixcblx0XCIuL2NvbW1lbnRzUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanNcIixcblx0XCIuL2NvbnRlbnRSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9jb250ZW50Um91dGVyLmpzXCIsXG5cdFwiLi9sb2dpblJvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL2xvZ2luUm91dGVyLmpzXCIsXG5cdFwiLi9wdWJsaWNSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9wdWJsaWNSb3V0ZXIuanNcIixcblx0XCIuL3VzZXJSb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy91c2VyUm91dGVyLmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzIHN5bmMgcmVjdXJzaXZlIFxcXFwuanMkXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules sync recursive \\.js$\n");

/***/ }),

/***/ "./src/routes/modules/adminRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/adminRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/AdminController */ \"./src/api/AdminController.js\");\n/* harmony import */ var _api_AdminController__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_api_AdminController__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/admin'); // 标签页面\n// 获取标签列表\n\nrouter.get('/getTags', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getTags); // 添加标签\n\nrouter.post('/addTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addTag); // 删除标签\n\nrouter.get('/removeTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].removeTag); // 编辑标签\n\nrouter.post('/editTag', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateTag); // 获取用户列表\n\nrouter.get('/users', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getUsers); // 更新用户信息\n\nrouter.post('/updateUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUserById); // 删除用户信息\n\nrouter.post('/deleteUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteUserById); // 校验用户名是否冲突\n\nrouter.get('/checkname', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].checkUsername); // 新增用户\n\nrouter.post('/addUser', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].addUser);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanM/ZDY0OSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJnZXQiLCJjb250ZW50Q29udHJvbGxlciIsImdldFRhZ3MiLCJwb3N0IiwiYWRkVGFnIiwicmVtb3ZlVGFnIiwidXBkYXRlVGFnIiwidXNlckNvbnRyb2xsZXIiLCJnZXRVc2VycyIsInVwZGF0ZVVzZXJCeUlkIiwiZGVsZXRlVXNlckJ5SWQiLCJjaGVja1VzZXJuYW1lIiwiYWRkVXNlciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFFBQWQsRSxDQUVBO0FBQ0E7O0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBdUJDLDhEQUFpQixDQUFDQyxPQUF6QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFNBQVosRUFBdUJGLDhEQUFpQixDQUFDRyxNQUF6QyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJDLDhEQUFpQixDQUFDSSxTQUEzQyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFVBQVosRUFBd0JGLDhEQUFpQixDQUFDSyxTQUExQyxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJPLDJEQUFjLENBQUNDLFFBQXBDLEUsQ0FFQTs7QUFDQVgsTUFBTSxDQUFDTSxJQUFQLENBQVksYUFBWixFQUEyQkksMkRBQWMsQ0FBQ0UsY0FBMUMsRSxDQUVBOztBQUNBWixNQUFNLENBQUNNLElBQVAsQ0FBWSxhQUFaLEVBQTJCSSwyREFBYyxDQUFDRyxjQUExQyxFLENBRUE7O0FBQ0FiLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFlBQVgsRUFBeUJPLDJEQUFjLENBQUNJLGFBQXhDLEUsQ0FFQTs7QUFDQWQsTUFBTSxDQUFDTSxJQUFQLENBQVksVUFBWixFQUF3QkksMkRBQWMsQ0FBQ0ssT0FBdkM7QUFFZWYscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvYWRtaW5Sb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICdAL2FwaS9Db250ZW50Q29udHJvbGxlcidcclxuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJ0AvYXBpL1VzZXJDb250cm9sbGVyJ1xyXG5pbXBvcnQgYWRtaW5Db250cm9sbGVyIGZyb20gJ0AvYXBpL0FkbWluQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL2FkbWluJylcclxuXHJcbi8vIOagh+etvumhtemdolxyXG4vLyDojrflj5bmoIfnrb7liJfooahcclxucm91dGVyLmdldCgnL2dldFRhZ3MnLCBjb250ZW50Q29udHJvbGxlci5nZXRUYWdzKVxyXG5cclxuLy8g5re75Yqg5qCH562+XHJcbnJvdXRlci5wb3N0KCcvYWRkVGFnJywgY29udGVudENvbnRyb2xsZXIuYWRkVGFnKVxyXG5cclxuLy8g5Yig6Zmk5qCH562+XHJcbnJvdXRlci5nZXQoJy9yZW1vdmVUYWcnLCBjb250ZW50Q29udHJvbGxlci5yZW1vdmVUYWcpXHJcblxyXG4vLyDnvJbovpHmoIfnrb5cclxucm91dGVyLnBvc3QoJy9lZGl0VGFnJywgY29udGVudENvbnRyb2xsZXIudXBkYXRlVGFnKVxyXG5cclxuLy8g6I635Y+W55So5oi35YiX6KGoXHJcbnJvdXRlci5nZXQoJy91c2VycycsIHVzZXJDb250cm9sbGVyLmdldFVzZXJzKVxyXG5cclxuLy8g5pu05paw55So5oi35L+h5oGvXHJcbnJvdXRlci5wb3N0KCcvdXBkYXRlVXNlcicsIHVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJCeUlkKVxyXG5cclxuLy8g5Yig6Zmk55So5oi35L+h5oGvXHJcbnJvdXRlci5wb3N0KCcvZGVsZXRlVXNlcicsIHVzZXJDb250cm9sbGVyLmRlbGV0ZVVzZXJCeUlkKVxyXG5cclxuLy8g5qCh6aqM55So5oi35ZCN5piv5ZCm5Yay56qBXHJcbnJvdXRlci5nZXQoJy9jaGVja25hbWUnLCB1c2VyQ29udHJvbGxlci5jaGVja1VzZXJuYW1lKVxyXG5cclxuLy8g5paw5aKe55So5oi3XHJcbnJvdXRlci5wb3N0KCcvYWRkVXNlcicsIHVzZXJDb250cm9sbGVyLmFkZFVzZXIpXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/adminRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/commentsRouter.js":
/*!**********************************************!*\
  !*** ./src/routes/modules/commentsRouter.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/comments'); // 添加评论\n\nrouter.post('/reply', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addComment); // 更新评论\n\nrouter.post('/update', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateComment); // 采纳\n\nrouter.get('/accept', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setBest); // 点赞\n\nrouter.get('/hands', _api_CommentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setHands);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanM/OGNkMiJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiY29tbWVudHNDb250cm9sbGVyIiwiYWRkQ29tbWVudCIsInVwZGF0ZUNvbW1lbnQiLCJnZXQiLCJzZXRCZXN0Iiwic2V0SGFuZHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFdBQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQywrREFBa0IsQ0FBQ0MsVUFBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQywrREFBa0IsQ0FBQ0UsYUFBMUMsRSxDQUVBOztBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCSCwrREFBa0IsQ0FBQ0ksT0FBekMsRSxDQUVBOztBQUNBUixNQUFNLENBQUNPLEdBQVAsQ0FBVyxRQUFYLEVBQXFCSCwrREFBa0IsQ0FBQ0ssUUFBeEM7QUFFZVQscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBjb21tZW50c0NvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL0NvbW1lbnRzQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL2NvbW1lbnRzJylcclxuXHJcbi8vIOa3u+WKoOivhOiuulxyXG5yb3V0ZXIucG9zdCgnL3JlcGx5JywgY29tbWVudHNDb250cm9sbGVyLmFkZENvbW1lbnQpXHJcblxyXG4vLyDmm7TmlrDor4Torrpcclxucm91dGVyLnBvc3QoJy91cGRhdGUnLCBjb21tZW50c0NvbnRyb2xsZXIudXBkYXRlQ29tbWVudClcclxuXHJcbi8vIOmHh+e6s1xyXG5yb3V0ZXIuZ2V0KCcvYWNjZXB0JywgY29tbWVudHNDb250cm9sbGVyLnNldEJlc3QpXHJcblxyXG4vLyDngrnotZ5cclxucm91dGVyLmdldCgnL2hhbmRzJywgY29tbWVudHNDb250cm9sbGVyLnNldEhhbmRzKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/commentsRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/contentRouter.js":
/*!*********************************************!*\
  !*** ./src/routes/modules/contentRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/ContentController */ \"./src/api/ContentController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/content'); // 上传图片\n\nrouter.post('/upload', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uploadImg); // 发表新帖\n\nrouter.post('/add', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addPost); // 更新帖子\n\nrouter.post('/update', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePost); // 管理更新帖子\n\nrouter.post('/updateId', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePostByTid); // 管理删除帖子\n\nrouter.get('/delete', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deletePost);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcz84YTEwIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJjb250ZW50Q29udHJvbGxlciIsInVwbG9hZEltZyIsImFkZFBvc3QiLCJ1cGRhdGVQb3N0IiwidXBkYXRlUG9zdEJ5VGlkIiwiZ2V0IiwiZGVsZXRlUG9zdCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsVUFBZCxFLENBRUE7O0FBQ0FGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDQyxTQUF6QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE1BQVosRUFBb0JDLDhEQUFpQixDQUFDRSxPQUF0QyxFLENBRUE7O0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDhEQUFpQixDQUFDRyxVQUF6QyxFLENBQ0E7O0FBQ0FQLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBeUJDLDhEQUFpQixDQUFDSSxlQUEzQyxFLENBQ0E7O0FBQ0FSLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXLFNBQVgsRUFBc0JMLDhEQUFpQixDQUFDTSxVQUF4QztBQUVlVixxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9jb250ZW50Um91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xyXG5pbXBvcnQgY29udGVudENvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL0NvbnRlbnRDb250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcblxyXG5yb3V0ZXIucHJlZml4KCcvY29udGVudCcpXHJcblxyXG4vLyDkuIrkvKDlm77niYdcclxucm91dGVyLnBvc3QoJy91cGxvYWQnLCBjb250ZW50Q29udHJvbGxlci51cGxvYWRJbWcpXHJcblxyXG4vLyDlj5HooajmlrDluJZcclxucm91dGVyLnBvc3QoJy9hZGQnLCBjb250ZW50Q29udHJvbGxlci5hZGRQb3N0KVxyXG5cclxuLy8g5pu05paw5biW5a2QXHJcbnJvdXRlci5wb3N0KCcvdXBkYXRlJywgY29udGVudENvbnRyb2xsZXIudXBkYXRlUG9zdClcclxuLy8g566h55CG5pu05paw5biW5a2QXHJcbnJvdXRlci5wb3N0KCcvdXBkYXRlSWQnLCBjb250ZW50Q29udHJvbGxlci51cGRhdGVQb3N0QnlUaWQpXHJcbi8vIOeuoeeQhuWIoOmZpOW4luWtkFxyXG5yb3V0ZXIuZ2V0KCcvZGVsZXRlJywgY29udGVudENvbnRyb2xsZXIuZGVsZXRlUG9zdClcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/contentRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/loginRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/loginRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/LoginController */ \"./src/api/LoginController.js\");\n/*\n * @Author: your name\n * @Date: 2020-12-28 15:06:57\n * @LastEditTime: 2021-02-22 10:21:26\n * @LastEditors: your name\n * @Description: In User Settings Edit\n * @FilePath: \\test-axios-api-start\\src\\routes\\loginRouter.js\n */\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/login');\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget);\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login);\nrouter.post('/reg', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].reg);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanM/MmRkYSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwibG9naW5Db250cm9sbGVyIiwiZm9yZ2V0IiwibG9naW4iLCJyZWciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxRQUFkO0FBQ0FGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFNBQVosRUFBdUJDLDREQUFlLENBQUNDLE1BQXZDO0FBQ0FMLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFFBQVosRUFBc0JDLDREQUFlLENBQUNFLEtBQXRDO0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE1BQVosRUFBb0JDLDREQUFlLENBQUNHLEdBQXBDO0FBRWVQLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL2xvZ2luUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBBdXRob3I6IHlvdXIgbmFtZVxuICogQERhdGU6IDIwMjAtMTItMjggMTU6MDY6NTdcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjEtMDItMjIgMTA6MjE6MjZcbiAqIEBMYXN0RWRpdG9yczogeW91ciBuYW1lXG4gKiBARGVzY3JpcHRpb246IEluIFVzZXIgU2V0dGluZ3MgRWRpdFxuICogQEZpbGVQYXRoOiBcXHRlc3QtYXhpb3MtYXBpLXN0YXJ0XFxzcmNcXHJvdXRlc1xcbG9naW5Sb3V0ZXIuanNcbiAqL1xuaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IGxvZ2luQ29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvTG9naW5Db250cm9sbGVyJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcblxucm91dGVyLnByZWZpeCgnL2xvZ2luJylcbnJvdXRlci5wb3N0KCcvZm9yZ2V0JywgbG9naW5Db250cm9sbGVyLmZvcmdldClcbnJvdXRlci5wb3N0KCcvbG9naW4nLCBsb2dpbkNvbnRyb2xsZXIubG9naW4pXG5yb3V0ZXIucG9zdCgnL3JlZycsIGxvZ2luQ29udHJvbGxlci5yZWcpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/loginRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/publicRouter.js":
/*!********************************************!*\
  !*** ./src/routes/modules/publicRouter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/PublicController */ \"./src/api/PublicController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/public'); // 图片验证码\n\nrouter.get('/getCaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha); // 获取文章列表\n\nrouter.get('/list', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPostList); // 温馨提醒\n\nrouter.get('/tips', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTips); // 友情链接\n\nrouter.get('/links', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLinks); // 回复周榜\n\nrouter.get('/topWeek', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTopWeek); // 确认修改邮件\n\nrouter.get('/reset-email', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUsername); // 获取文章详情\n\nrouter.get('/content/detail', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPostDetail); // 获取评论列表\n\nrouter.get('/comments', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getComments); // 获取用户基本信息\n\nrouter.get('/info', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getBasicInfo); // 获取用户最近发帖记录\n\nrouter.get('/latestPost', _api_ContentController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPostPublic); // 获取用户最近评论记录\n\nrouter.get('/latestComment', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentPublic);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzP2NmYzUiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwiZ2V0IiwicHVibGljQ29udHJvbGxlciIsImdldENhcHRjaGEiLCJjb250ZW50Q29udHJvbGxlciIsImdldFBvc3RMaXN0IiwiZ2V0VGlwcyIsImdldExpbmtzIiwiZ2V0VG9wV2VlayIsInVzZXJDb250cm9sbGVyIiwidXBkYXRlVXNlcm5hbWUiLCJnZXRQb3N0RGV0YWlsIiwiY29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJnZXRCYXNpY0luZm8iLCJnZXRQb3N0UHVibGljIiwiZ2V0Q29tbWVudFB1YmxpYyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsU0FBZCxFLENBQ0E7O0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGFBQVgsRUFBMEJDLDZEQUFnQixDQUFDQyxVQUEzQyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE9BQVgsRUFBb0JHLDhEQUFpQixDQUFDQyxXQUF0QyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE9BQVgsRUFBb0JHLDhEQUFpQixDQUFDRSxPQUF0QyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJHLDhEQUFpQixDQUFDRyxRQUF2QyxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBdUJHLDhEQUFpQixDQUFDSSxVQUF6QyxFLENBRUE7O0FBQ0FWLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJRLDJEQUFjLENBQUNDLGNBQTFDLEUsQ0FFQTs7QUFDQVosTUFBTSxDQUFDRyxHQUFQLENBQVcsaUJBQVgsRUFBOEJHLDhEQUFpQixDQUFDTyxhQUFoRCxFLENBRUE7O0FBQ0FiLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBd0JXLCtEQUFrQixDQUFDQyxXQUEzQyxFLENBRUE7O0FBQ0FmLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE9BQVgsRUFBb0JRLDJEQUFjLENBQUNLLFlBQW5DLEUsQ0FFQTs7QUFDQWhCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGFBQVgsRUFBMEJHLDhEQUFpQixDQUFDVyxhQUE1QyxFLENBRUE7O0FBQ0FqQixNQUFNLENBQUNHLEdBQVAsQ0FBVyxnQkFBWCxFQUE2QlcsK0RBQWtCLENBQUNJLGdCQUFoRDtBQUVlbEIscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IHB1YmxpY0NvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL1B1YmxpY0NvbnRyb2xsZXInXG5pbXBvcnQgdXNlckNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL1VzZXJDb250cm9sbGVyJ1xuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Db250ZW50Q29udHJvbGxlcidcbmltcG9ydCBjb21tZW50c0NvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL0NvbW1lbnRzQ29udHJvbGxlcidcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5cbnJvdXRlci5wcmVmaXgoJy9wdWJsaWMnKVxuLy8g5Zu+54mH6aqM6K+B56CBXG5yb3V0ZXIuZ2V0KCcvZ2V0Q2FwdGNoYScsIHB1YmxpY0NvbnRyb2xsZXIuZ2V0Q2FwdGNoYSlcblxuLy8g6I635Y+W5paH56ug5YiX6KGoXG5yb3V0ZXIuZ2V0KCcvbGlzdCcsIGNvbnRlbnRDb250cm9sbGVyLmdldFBvc3RMaXN0KVxuXG4vLyDmuKnppqjmj5DphpJcbnJvdXRlci5nZXQoJy90aXBzJywgY29udGVudENvbnRyb2xsZXIuZ2V0VGlwcylcblxuLy8g5Y+L5oOF6ZO+5o6lXG5yb3V0ZXIuZ2V0KCcvbGlua3MnLCBjb250ZW50Q29udHJvbGxlci5nZXRMaW5rcylcblxuLy8g5Zue5aSN5ZGo5qacXG5yb3V0ZXIuZ2V0KCcvdG9wV2VlaycsIGNvbnRlbnRDb250cm9sbGVyLmdldFRvcFdlZWspXG5cbi8vIOehruiupOS/ruaUuemCruS7tlxucm91dGVyLmdldCgnL3Jlc2V0LWVtYWlsJywgdXNlckNvbnRyb2xsZXIudXBkYXRlVXNlcm5hbWUpXG5cbi8vIOiOt+WPluaWh+eroOivpuaDhVxucm91dGVyLmdldCgnL2NvbnRlbnQvZGV0YWlsJywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdERldGFpbClcblxuLy8g6I635Y+W6K+E6K665YiX6KGoXG5yb3V0ZXIuZ2V0KCcvY29tbWVudHMnLCBjb21tZW50c0NvbnRyb2xsZXIuZ2V0Q29tbWVudHMpXG5cbi8vIOiOt+WPlueUqOaIt+WfuuacrOS/oeaBr1xucm91dGVyLmdldCgnL2luZm8nLCB1c2VyQ29udHJvbGxlci5nZXRCYXNpY0luZm8pXG5cbi8vIOiOt+WPlueUqOaIt+acgOi/keWPkeW4luiusOW9lVxucm91dGVyLmdldCgnL2xhdGVzdFBvc3QnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0UHVibGljKVxuXG4vLyDojrflj5bnlKjmiLfmnIDov5Hor4TorrrorrDlvZVcbnJvdXRlci5nZXQoJy9sYXRlc3RDb21tZW50JywgY29tbWVudHNDb250cm9sbGVyLmdldENvbW1lbnRQdWJsaWMpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/publicRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/userRouter.js":
/*!******************************************!*\
  !*** ./src/routes/modules/userRouter.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/ContentController */ \"./src/api/ContentController.js\");\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/user'); // 用户签到\n\nrouter.get('/fav', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userSign); // 更新用户基本信息\n\nrouter.post('/basic', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateUserInfo); // 用户修改密码\n\nrouter.post('/change-password', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].changePasswd); // 设置/取消收藏\n\nrouter.get('/set-collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setCollect); // 获取收藏列表\n\nrouter.get('/collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCollectByUid); // 获取用户发帖记录\n\nrouter.get('/post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostByUid); // 删除指定帖子\n\nrouter.get('/delete-post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deletePostByUid); // 获取消息\n\nrouter.get('/getmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMsg); // 设置消息\n\nrouter.get('/setmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setMsg);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsImdldCIsInVzZXJDb250cm9sbGVyIiwidXNlclNpZ24iLCJwb3N0IiwidXBkYXRlVXNlckluZm8iLCJjaGFuZ2VQYXNzd2QiLCJzZXRDb2xsZWN0IiwiZ2V0Q29sbGVjdEJ5VWlkIiwiY29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0QnlVaWQiLCJkZWxldGVQb3N0QnlVaWQiLCJnZXRNc2ciLCJzZXRNc2ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxPQUFkLEUsQ0FFQTs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsMkRBQWMsQ0FBQ0MsUUFBbEMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLElBQVAsQ0FBWSxRQUFaLEVBQXNCRiwyREFBYyxDQUFDRyxjQUFyQyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGtCQUFaLEVBQWdDRiwyREFBYyxDQUFDSSxZQUEvQyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJDLDJEQUFjLENBQUNLLFVBQTFDLEUsQ0FFQTs7QUFDQVQsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QkMsMkRBQWMsQ0FBQ00sZUFBdEMsRSxDQUVBOztBQUNBVixNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CUSw4REFBaUIsQ0FBQ0MsWUFBdEMsRSxDQUVBOztBQUNBWixNQUFNLENBQUNHLEdBQVAsQ0FBVyxjQUFYLEVBQTJCUSw4REFBaUIsQ0FBQ0UsZUFBN0MsRSxDQUVBOztBQUNBYixNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCQywyREFBYyxDQUFDVSxNQUFyQyxFLENBRUE7O0FBQ0FkLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFNBQVgsRUFBc0JDLDJEQUFjLENBQUNXLE1BQXJDO0FBRWVmLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL3VzZXJSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvVXNlckNvbnRyb2xsZXInXHJcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvQ29udGVudENvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcclxuXHJcbnJvdXRlci5wcmVmaXgoJy91c2VyJylcclxuXHJcbi8vIOeUqOaIt+etvuWIsFxyXG5yb3V0ZXIuZ2V0KCcvZmF2JywgdXNlckNvbnRyb2xsZXIudXNlclNpZ24pXHJcblxyXG4vLyDmm7TmlrDnlKjmiLfln7rmnKzkv6Hmga9cclxucm91dGVyLnBvc3QoJy9iYXNpYycsIHVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJJbmZvKVxyXG5cclxuLy8g55So5oi35L+u5pS55a+G56CBXHJcbnJvdXRlci5wb3N0KCcvY2hhbmdlLXBhc3N3b3JkJywgdXNlckNvbnRyb2xsZXIuY2hhbmdlUGFzc3dkKVxyXG5cclxuLy8g6K6+572uL+WPlua2iOaUtuiXj1xyXG5yb3V0ZXIuZ2V0KCcvc2V0LWNvbGxlY3QnLCB1c2VyQ29udHJvbGxlci5zZXRDb2xsZWN0KVxyXG5cclxuLy8g6I635Y+W5pS26JeP5YiX6KGoXHJcbnJvdXRlci5nZXQoJy9jb2xsZWN0JywgdXNlckNvbnRyb2xsZXIuZ2V0Q29sbGVjdEJ5VWlkKVxyXG5cclxuLy8g6I635Y+W55So5oi35Y+R5biW6K6w5b2VXHJcbnJvdXRlci5nZXQoJy9wb3N0JywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdEJ5VWlkKVxyXG5cclxuLy8g5Yig6Zmk5oyH5a6a5biW5a2QXHJcbnJvdXRlci5nZXQoJy9kZWxldGUtcG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmRlbGV0ZVBvc3RCeVVpZClcclxuXHJcbi8vIOiOt+WPlua2iOaBr1xyXG5yb3V0ZXIuZ2V0KCcvZ2V0bXNnJywgdXNlckNvbnRyb2xsZXIuZ2V0TXNnKVxyXG5cclxuLy8g6K6+572u5raI5oGvXHJcbnJvdXRlci5nZXQoJy9zZXRtc2cnLCB1c2VyQ29udHJvbGxlci5zZXRNc2cpXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/userRouter.js\n");

/***/ }),

/***/ "./src/routes/routes.js":
/*!******************************!*\
  !*** ./src/routes/routes.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n // import publicRouter from './publicRouter'\n// import loginRouter from './loginRouter'\n// import userRouter from './userRouter'\n// require.context只能在webpack打包下才不会报错,现在需运行打包后的js文件才能接收请求\n// 读取modules文件夹下的js文件\n\nconst moduleFiles = __webpack_require__(\"./src/routes/modules sync recursive \\\\.js$\"); // moduleFiles对象结构\n// { './xxx' : '具体路径'}\n// 把keys返回的key数组再遍历取值然后把具体路径添加进数组\n\n\nconst modules = moduleFiles.keys().reduce((items, path) => {\n  const value = moduleFiles(path);\n  items.push(value.default);\n  return items;\n}, []);\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()( // publicRouter, \n// loginRouter,\n// userRouter\nmodules));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3JvdXRlcy5qcz82NDFiIl0sIm5hbWVzIjpbIm1vZHVsZUZpbGVzIiwicmVxdWlyZSIsIm1vZHVsZXMiLCJrZXlzIiwicmVkdWNlIiwiaXRlbXMiLCJwYXRoIiwidmFsdWUiLCJwdXNoIiwiZGVmYXVsdCIsImNvbWJpbmVSb3V0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0EsTUFBTUEsV0FBVyxHQUFHQyxpRUFBcEIsQyxDQUNBO0FBQ0E7QUFFQTs7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRixXQUFXLENBQUNHLElBQVosR0FBbUJDLE1BQW5CLENBQTBCLENBQUNDLEtBQUQsRUFBUUMsSUFBUixLQUFpQjtBQUN6RCxRQUFNQyxLQUFLLEdBQUdQLFdBQVcsQ0FBQ00sSUFBRCxDQUF6QjtBQUNBRCxPQUFLLENBQUNHLElBQU4sQ0FBV0QsS0FBSyxDQUFDRSxPQUFqQjtBQUNBLFNBQU9KLEtBQVA7QUFDRCxDQUplLEVBSWIsRUFKYSxDQUFoQjtBQU1lSyx5SEFBYSxFQUMxQjtBQUNBO0FBQ0E7QUFDQVIsT0FKMEIsQ0FBNUIiLCJmaWxlIjoiLi9zcmMvcm91dGVzL3JvdXRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21iaW5lUm91dGVzIGZyb20gJ2tvYS1jb21iaW5lLXJvdXRlcnMnXG5cbi8vIGltcG9ydCBwdWJsaWNSb3V0ZXIgZnJvbSAnLi9wdWJsaWNSb3V0ZXInXG4vLyBpbXBvcnQgbG9naW5Sb3V0ZXIgZnJvbSAnLi9sb2dpblJvdXRlcidcbi8vIGltcG9ydCB1c2VyUm91dGVyIGZyb20gJy4vdXNlclJvdXRlcidcblxuLy8gcmVxdWlyZS5jb250ZXh05Y+q6IO95Zyod2VicGFja+aJk+WMheS4i+aJjeS4jeS8muaKpemUmSznjrDlnKjpnIDov5DooYzmiZPljIXlkI7nmoRqc+aWh+S7tuaJjeiDveaOpeaUtuivt+axglxuLy8g6K+75Y+WbW9kdWxlc+aWh+S7tuWkueS4i+eahGpz5paH5Lu2XG5jb25zdCBtb2R1bGVGaWxlcyA9IHJlcXVpcmUuY29udGV4dCgnLi9tb2R1bGVzJywgdHJ1ZSwgL1xcLmpzJC8pXG4vLyBtb2R1bGVGaWxlc+Wvueixoee7k+aehFxuLy8geyAnLi94eHgnIDogJ+WFt+S9k+i3r+W+hCd9XG5cbi8vIOaKimtleXPov5Tlm57nmoRrZXnmlbDnu4Tlho3pgY3ljoblj5blgLznhLblkI7miorlhbfkvZPot6/lvoTmt7vliqDov5vmlbDnu4RcbmNvbnN0IG1vZHVsZXMgPSBtb2R1bGVGaWxlcy5rZXlzKCkucmVkdWNlKChpdGVtcywgcGF0aCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IG1vZHVsZUZpbGVzKHBhdGgpXG4gIGl0ZW1zLnB1c2godmFsdWUuZGVmYXVsdClcbiAgcmV0dXJuIGl0ZW1zXG59LCBbXSlcblxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJvdXRlcyhcbiAgLy8gcHVibGljUm91dGVyLCBcbiAgLy8gbG9naW5Sb3V0ZXIsXG4gIC8vIHVzZXJSb3V0ZXJcbiAgbW9kdWxlc1xuKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/routes.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@koa/cors\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBrb2EvY29ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb2EvY29yc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@koa/cors\n");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcryptjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRqc1wiP2NlNTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmNyeXB0anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcryptjs\n");

/***/ }),

/***/ "bluebird":
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bluebird\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmx1ZWJpcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bluebird\n");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa\n");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-body\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWJvZHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-body\n");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-combine-routers\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtY29tYmluZS1yb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbWJpbmUtcm91dGVyc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-combine-routers\n");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWNvbXBvc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compose\n");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compress\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS1jb21wcmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21wcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compress\n");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-helmet\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtaGVsbWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-helmet\n");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-json\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWpzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-json\n");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etand0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-jwt\n");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-router\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-router\n");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-static\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-static\n");

/***/ }),

/***/ "make-dir":
/*!***************************!*\
  !*** external "make-dir" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"make-dir\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtYWtlLWRpclwiPzk3YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibWFrZS1kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtYWtlLWRpclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///make-dir\n");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"moment\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9iZDc2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im1vbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbWVudFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///moment\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJub2RlbWFpbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer\n");

/***/ }),

/***/ "nodemailer/lib/shared":
/*!****************************************!*\
  !*** external "nodemailer/lib/shared" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer/lib/shared\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyL2xpYi9zaGFyZWRcIj8xZGNmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im5vZGVtYWlsZXIvbGliL3NoYXJlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGVtYWlsZXIvbGliL3NoYXJlZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer/lib/shared\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"qs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxc1wiP2E1YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJxc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///qs\n");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWRpc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///redis\n");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-captcha\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoic3ZnLWNhcHRjaGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///svg-captcha\n");

/***/ }),

/***/ "uuid/v4":
/*!**************************!*\
  !*** external "uuid/v4" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid/v4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkL3Y0XCI/ZDE1YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJ1dWlkL3Y0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZC92NFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///uuid/v4\n");

/***/ }),

/***/ "ws":
/*!*********************!*\
  !*** external "ws" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"ws\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3c1wiPzE1YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoid3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///ws\n");

/***/ })

/******/ });